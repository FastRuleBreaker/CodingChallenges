(function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var GenericView,HR,ref,View;return GenericView=function(superClass){function GenericView(){return GenericView.__super__.constructor.apply(this,arguments)}return extend(GenericView,superClass),GenericView.prototype.schemaPageType="WebPage",GenericView.prototype.breadCrumbsContainer=".top-fixed-bar:not(.secondary-fixed-bar) .crumbs-outer-container",GenericView.prototype.initialize=function(options){return null==options&&(options={}),this.has_template=!1,this.parent=options.parent},GenericView.prototype.assign=function(selector,view){var selectors;if(selectors={},_.isObject(selector)?selectors=selector:selectors[selector]=view,selectors)return _.each(selectors,function(view,selector){return view.setElement(this.$(selector)).render()},this),this},GenericView.prototype.timeAgoShort=function(time){var time_split;return 0===(time_split=$.timeago(new Date(time)).replace(/about\s/,"").split(" "))[0].indexOf("less")?(time_split[0]="1",time_split[1]="s"):0===time_split[1].indexOf("month")?time_split[1]="mth":time_split[1]=""+time_split[1][0],(time_split[0][0]="a")&&(time_split[0]=1),""+time_split[0]+time_split[1]},GenericView.prototype.render=function(){return this._render&&"function"==typeof this._render?("function"==typeof this.prerender&&this.prerender(),"function"==typeof this.teardown&&this.teardown(),"function"==typeof this._render&&this._render(),"function"==typeof this.postrender&&"function"!=typeof this._applyTemplate&&this.postrender()):!this.has_template&&this.template?HR.appController.getTemplate(this.template,function(template){return this._template=template,this.has_template=!0,this.applyTemplate()},this):this.applyTemplate(),this},GenericView.prototype.applyNewTemplate=function(_template){if(this._template=_template,this.hasTemplate=!0,"function"==typeof this._applyTemplate&&this._applyTemplate(),"function"==typeof this.postrender)return this.postrender()},GenericView.prototype.postrender=function(){var _this;return this.delegateEvents(),setTimeout((_this=this,function(){return _this.setBreadCrumbs()})),setTimeout(function(){return $(".js-tooltip").tooltip({container:"body"}).click(function(e){return $(".js-tooltip").tooltip("hide"),!$(e.currentTarget).hasClass("disabled")})},300)},GenericView.prototype.setBreadCrumbs=function(){var breadCrumbsView;return!(!this.breadCrumbs||!this.breadCrumbOptions)&&(breadCrumbsView=new HR.BreadCrumbsView({breadCrumbs:this.breadCrumbs,breadCrumbOptions:this.breadCrumbOptions}),this.add_subview(breadCrumbsView),$(this.breadCrumbsContainer)&&$(this.breadCrumbsContainer).html(breadCrumbsView.render().el),this)},GenericView.prototype.applyTemplate=function(){},GenericView.prototype.loading=function(size,from){if(null==size&&(size=32),null==from&&(from=0),!this.rendered)return $(this.el).html(HR.appController.viewLoader(size))},GenericView.prototype.teardown=function(){var i,len,ref;if(void 0!==this._subviews)for(i=0,len=(ref=this._subviews).length;i<len;i++)ref[i].remove();return this._subviews=[],this.undelegateEvents(),this},GenericView.prototype.destroy=function(){return this._subviews&&_.isArray(this._subviews)&&_.each(this._subviews,function(subview){if(subview&&subview.destroy)return subview.destroy()}),this.undelegateEvents(),this.$el.removeData().unbind(),this.unbind(),this.remove(),Backbone.View.prototype.remove.call(this),this.removed=!0},GenericView.prototype.add_subview=function(view){return this._subviews||(this._subviews=[]),this._subviews.push(view),this},GenericView}(Backbone.View),window.APP_METRIC_TRACKING_ENABLED&&(GenericView=(View=GenericView).extend({constructor:function(){var that;return that=this,"function"==typeof this._applyTemplate?(this.originalApplyTemplate=this._applyTemplate,this._applyTemplate=_.wrap(this._applyTemplate,function(applyTemplate,args){var returnVal;return returnVal=that.originalApplyTemplate(args),that.__afterRender(),returnVal})):(this.originalRender=this.render,this.render=_.wrap(this.render,function(render,args){var returnVal;return returnVal=that.originalRender(args),that.__afterRender(),returnVal})),View.apply(this,arguments)},__afterRender:function(){var $element,data_fetched_once,initial_page_load,last_route_time,navigationStart_timestamp,perf_metrics,ref,ref1,ref2,ref3,tti_timestamp,win_perf_timing;if("performance"in window&&"timing"in window.performance)return tti_timestamp=Date.now(),$element=this.$el,data_fetched_once=!1,perf_metrics=window.PERF_METRICS,win_perf_timing=window.performance.timing,last_route_time="hackerrankx"===window.PRODUCT_NAMESPACE?perf_metrics.recruit_last_route_time:perf_metrics.last_route_time,null==win_perf_timing||null==perf_metrics||null==last_route_time?null:(navigationStart_timestamp=win_perf_timing.navigationStart,initial_page_load=last_route_time-win_perf_timing.domContentLoadedEventStart<=1e3,null==(null!=(ref=this.model)?ref.sync_status:void 0)&&null==(null!=(ref1=this.model)&&null!=(ref2=ref1.collection)?ref2.sync_status:void 0)&&null==(null!=(ref3=this.collection)?ref3.sync_status:void 0)||(data_fetched_once=!0),initial_page_load&&!0===perf_metrics.tracked_initial_view_load_tti[this.__proto__.constructor.name]||!0===perf_metrics.tracked_view_load_tti[this.__proto__.constructor.name]?null:!data_fetched_once||$element.length<1||""===$element.html()?null:initial_page_load?(hr_metrics.app_track("initial-view-load-tti",{view_name:this.__proto__.constructor.name,time_taken:tti_timestamp-navigationStart_timestamp,referring_url:window.location.pathname,product_namespace:window.PRODUCT_NAMESPACE}),perf_metrics.tracked_initial_view_load_tti[this.__proto__.constructor.name]=!0):(hr_metrics.app_track("view-load-tti",{view_name:this.__proto__.constructor.name,time_taken:tti_timestamp-last_route_time,referring_url:window.location.pathname,product_namespace:window.PRODUCT_NAMESPACE}),perf_metrics.tracked_view_load_tti[this.__proto__.constructor.name]=!0))}})),(HR=null!=(ref=window.HR)?ref:{}).GenericView=GenericView,Backbone.View.prototype.log=Backbone.log})}).call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var LoadingView,ref;return LoadingView=function(superClass){function LoadingView(){return LoadingView.__super__.constructor.apply(this,arguments)}return extend(LoadingView,superClass),LoadingView.prototype.template="loading",LoadingView.prototype.className="loading-view",LoadingView.prototype.viewLoader=function(size){return null==size&&(size=32),"<div class='gray'> <div class='hackerrank-spinner' style='height: "+size+"px; width: "+size+"px;'></div> </div>"},LoadingView.prototype.render=function(){return $(this.el).html(this.viewLoader(64)),this},LoadingView}(window.HR.GenericView),(null!=(ref=window.HR)?ref:{}).LoadingView=LoadingView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var CandidateView,HR,ref;return CandidateView=function(superClass){function CandidateView(){return CandidateView.__super__.constructor.apply(this,arguments)}return extend(CandidateView,superClass),CandidateView.prototype.el="#wrapper",CandidateView.prototype.initialize=function(){var that;return this.contentView||this.setLoadingView(),this.topbarview=null,that=this,_.each(this.liveEvents,function(callback,index){var ev,sl,sp;return sp=index.indexOf(" "),ev=index.substr(0,sp),sl=index.substr(sp+1),$(sl).off(ev).unbind(ev),$(document).on(ev,sl,null,that[callback])})},CandidateView.prototype.setLoadingView=function(){var loadingView;return loadingView=new HR.LoadingView,this.setContentView(loadingView)},CandidateView.prototype.setContentView=function(contentView){return this.contentView&&(this.contentView.unbind&&this.contentView.unbind(),this.contentView.$&&this.contentView.$("*").unbind(),this.contentView.destroy?this.contentView.destroy():this.contentView.remove&&this.contentView.remove()),this.contentView=contentView,this.render()},CandidateView.prototype.setTopbarView=function(tbview){return null==tbview&&(tbview=null),tbview?this.topbarview?void 0:(this.topbarview=tbview,this.topbarview.render()):(this.topbarview=tbview,this.$("#navigation").empty())},CandidateView.prototype.setFooterView=function(fview){var html;return null==fview&&(fview=null),this.footerview=fview,fview?(html=this.footerview.render().el,$("#footer").html(html)):$("#footer").empty(),fview},CandidateView.prototype.setSidebarView=function(sbview){return null==sbview&&(sbview=null),this.sidebarview=sbview,sbview?this.sidebarview.render():this.$("#side-navigation").empty()},CandidateView.prototype.unsetTopbarView=function(){return this.$("#navigation").empty()},CandidateView.prototype.liveEvents={"click .backbone":"navigateAnchor"},CandidateView.prototype.navigateAnchor=function(e){var href;return!!(e.ctrlKey||e.metaKey||HR.candidate.ongoingQuestionNavigation)||(e.preventDefault(),href=$(e.currentTarget).attr("href"),HR.candidate.redirectBackTo=href,href?(HR.candidate.attemptRefreshNeeded=!0,HR.router.navigate(""+href,{trigger:!0,replace:!0})):void 0)},CandidateView.prototype.getSubViews=function(){return null===this.contentView&&this.setContentView(HR.E404View),{content:this.contentView}},CandidateView.prototype.render=function(){var curent_module_name,that;if(that=this,_.each(this.getSubViews(),function(subview,name){var _view;return _view=_.isFunction(subview)?new subview:subview,$(that.el).find("#"+name).html(_view.render().el),_view.trigger("render")}),$(".module-select-prompt").length>0&&$("body").find("[data-module="+HR.appController.get_current_module()+"]").length>0)return curent_module_name=$.trim($("body").find("[data-module="+HR.appController.get_current_module()+"]").html()),HR.CURRENT_MODULE_NAME=curent_module_name,$(".module-select-prompt").html("Category: "+curent_module_name+" <i class='icon-down-open-mini'></i>"),this.setTopbarView(this.topbarview)},CandidateView}(window.HR.GenericView),(HR=null!=(ref=window.HR)?ref:{}).CandidateView=CandidateView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,LanguageEnvironmentCollectionView,ref;return LanguageEnvironmentCollectionView=function(superClass){function LanguageEnvironmentCollectionView(){return LanguageEnvironmentCollectionView.__super__.constructor.apply(this,arguments)}return extend(LanguageEnvironmentCollectionView,superClass),LanguageEnvironmentCollectionView.prototype.template="language-environment",LanguageEnvironmentCollectionView.prototype.events={"click .codepair-languages":"toggleLang","click .codepair-sample-problem":"toggleSampleProblem"},LanguageEnvironmentCollectionView.prototype.initialize=function(options){return this.collection=new HR.LanguageEnvironmentCollection,this.showml=options.showml,this.isrecruit=options.isrecruit},LanguageEnvironmentCollectionView.prototype.toggleLang=function(){return this.$("#sample-problem-statement").addClass("hidden"),this.$("#languages-table").removeClass("hidden"),this.$(".codepair-sample-problem").removeClass("active"),this.$(".codepair-languages").addClass("active")},LanguageEnvironmentCollectionView.prototype.toggleSampleProblem=function(){return this.$("#sample-problem-statement").removeClass("hidden"),this.$("#languages-table").addClass("hidden"),this.$(".codepair-languages").removeClass("active"),this.$(".codepair-sample-problem").addClass("active")},LanguageEnvironmentCollectionView.prototype.render=function(){return $(this.el).html(HR.appController.template(this.template,this)({showml:this.showml,isrecruit:this.isrecruit,collection:this.collection.toJSON()})),this},LanguageEnvironmentCollectionView}(Backbone.View),(HR=null!=(ref=window.HR)?ref:{}).LanguageEnvironmentCollectionView=LanguageEnvironmentCollectionView})}.call(this),function(){jQuery(function(){var HR,getMCQGroupForQuestion,getMCQGroups;return getMCQGroups=function(){var groups,questionIndex,questions,sectionSlots;return null!=HR.candidate.mcqGroups?HR.candidate.mcqGroups:(questions=HR.candidate.candidateQuestions,sectionSlots=HR.candidate.candidateTestModel.get("time_slots_decoded")||HR.candidate.candidateTestModel.get("section_slots_decoded")||[{questions:questions.length}],groups=[],questionIndex=0,0,_.each(sectionSlots,function(sectionSlot){var group,question,questionInCurrentSection,sectionIndex;for(group=[],questionInCurrentSection=sectionSlot.questions,sectionIndex=0;sectionIndex<questionInCurrentSection;)question=questions.models[questionIndex],-1!==["mcq","multiple_mcq"].indexOf(null!=question?question.get("type"):void 0)?group.push(question.id):(group.length>0&&groups.push(group),group=[]),questionIndex+=1,sectionIndex+=1;if(group.length>0)return groups.push(group)}),HR.candidate.mcqGroups=groups)},getMCQGroupForQuestion=function(qid){var group,i,len,ref;for(i=0,len=(ref=getMCQGroups()).length;i<len;i++)if(-1!==(group=ref[i]).indexOf(qid))return group;return null},(HR=window.HR||{}).candidateUtils=HR.candidateUtils||{},HR.candidateUtils.getMCQGroups=getMCQGroups,HR.candidateUtils.getMCQGroupForQuestion=getMCQGroupForQuestion})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,RecruitCandidateDetailsView,ref;return RecruitCandidateDetailsView=function(superClass){function RecruitCandidateDetailsView(){return RecruitCandidateDetailsView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateDetailsView,superClass),RecruitCandidateDetailsView.prototype.template="recruit/candidate-details",RecruitCandidateDetailsView.prototype.changeAttributesHeapEvent=!1,RecruitCandidateDetailsView.prototype.events={"click .test-submit":"loginAction","blur input.error":"removeError","change input#share-profile":"changeShareProfile","click a.remove-resume":"removeHRResume","change .auto-fill":"sendHeapEvent","click a.change-hacker-profile":"changeHackerProfile","click #js-years-exp":"removeErrorWorkExperience","keyup .acknowledge-text span":"delegateClick"},RecruitCandidateDetailsView.prototype.delegateClick=function(e){var clickTarget;if(" "===e.key)return clickTarget=this.$(e.currentTarget).attr("data-for"),this.$("#"+clickTarget).click()},RecruitCandidateDetailsView.prototype.initialize=function(options){return null==options&&(options={}),this.parent=options.parent,this.model=options.test,this.hackerDirectLogin=options.hackerDirectLogin,this.hacker=HR.hackerProfile,this.shareProfile=options.shareProfile||!1,this.hideEmailForPublicLink(),this.showEditInterface=!1,this.isHRSC=!1,this.isCertificationFlow=!1,this.loginActionLocked=!1,HR.params&&HR.params.hrsc&&"community"===HR.params.hrsc_src&&HR.params.test_id&&(this.isCertificationFlow=!0),HR.params&&HR.params.hrsc&&HR.params.job_id&&(this.isHRSC=!0),this.testFrontEndCookiePerms(),this.select2CandidateFields=[]},RecruitCandidateDetailsView.prototype._render=function(){var loader,ref,ref1,v;return(loader=HR.appController.templateOnSteroids(this.template,this))&&$(this.el).html(loader),this.model&&(null!=(ref=this.model.toJSON())?ref.questions_list:void 0)&&(v=null!=(ref1=this.model.toJSON())?ref1.questions_list:void 0,_.map(v,function(e){return e.type})),this},RecruitCandidateDetailsView.prototype.firewallCheck=function(){var _this;return new browserTests({ajaxTest1:{type:"ajax",url:"https://www.eu.hackerrank.io/5xx.html",fail:!0,timeout:10},ajaxTest2:{type:"ajax",url:"https://www.dev.hackerrank.io/5xx.html",fail:!0,timeout:10}}).then(function(){return console.log("No firewall issues.")})["catch"]((_this=this,function(){return _this.parent.displayBanner({header:"Firewall issue.",content:"We are unable to reach our fullstack servers. You may have trouble taking any fullstack questions. If you have a personal/corporate firewall setup, please allow the following: <code>*.*.hackerrank.io</code>"})}))},RecruitCandidateDetailsView.prototype.testFrontEndCookiePerms=function(successCb,errorCb){var cookieSetRequest,_this;return null==this.cookieMsg&&(this.cookieMsg=Math.random().toString(36).substring(7)),cookieSetRequest={url:HR.util.getDesignUrl(this.model.get("unique_id"),"test")+"/recruit/tests/"+this.model.get("unique_id")+"/set_test_cookie",type:"POST",tryCount:0,xhrFields:{withCredentials:!0},retryLimit:5,data:{message:this.cookieMsg},success:(_this=this,function(){return _this.verifyCookiePerms(successCb,errorCb)}),error:function(_this){return function(){return _this.tryCount++,_this.tryCount<_this.retryLimit?$.ajax(_this):(console.log("Error in setting frontend cookie"),_this.testedFrontEndCookiePerms=!0,_this.frontendSupportedbrowser=!1)}}(this)},$.ajax(cookieSetRequest)},RecruitCandidateDetailsView.prototype.verifyCookiePerms=function(successCb,errorCb){var cookieSetRequest,_this;return cookieSetRequest={url:HR.util.getDesignUrl(this.model.get("unique_id"),"test")+"/recruit/tests/"+this.model.get("unique_id")+"/check_test_cookie",type:"POST",tryCount:0,xhrFields:{withCredentials:!0},retryLimit:5,data:{message:this.cookieMsg},success:(_this=this,function(){return _this.frontendSupportedbrowser=!0,_this.testedFrontEndCookiePerms=!0,"function"==typeof successCb?successCb():void 0}),error:function(_this){return function(){return _this.tryCount++,_this.tryCount<_this.retryLimit?$.ajax(_this):(_this.frontendSupportedbrowser=!1,_this.testedFrontEndCookiePerms=!0,"function"==typeof errorCb?errorCb():void 0)}}(this)},$.ajax(cookieSetRequest)},RecruitCandidateDetailsView.prototype._applyTemplate=function(){var content;return this.hacker.toJSON(),_.each(this.model.get("collect_info"),function(item){var colPerRow,maxLength;if("radio"===item.type||"checkbox"===item.type)return colPerRow=4,(maxLength=item.options.reduce(function(acc,el){return Math.max(el.length,acc)},0))>=10&&maxLength<15?colPerRow=3:maxLength>=15&&maxLength<50?colPerRow=2:maxLength>=50&&(colPerRow=1),item.colPerRow=colPerRow}),content=this._template({test:this.model.toJSON(),attempt:HR.candidate.candidateAttemptModel,hacker:this.hacker.toJSON(),hrCandidateLogin:this.shouldShowHackerRankLogin(),shareProfile:this.shareProfile,showEditInterface:this.showEditInterface,isHRSC:this.isHRSC,isCertificationFlow:this.isCertificationFlow}),$(this.el).html(content),this.postApplyTemplate(),this},RecruitCandidateDetailsView.prototype.postApplyTemplate=function(){var _this;return this.workExperienceFieldPresent=!this.isHRSC&&null!=_.find(this.model.get("collect_info"),function(detail){return"work_experience"===detail.field_name}),this.renderSelect2ForCandidateDetails(),this.setCandidateTypeFields(),this.prefillDetails(),this.setSectionHeader(),!1,_.each(this.model.get("collect_info"),function(info){var ref,ref1;if((null!=(ref=info.title)?ref.match(/resume/i):void 0)||(null!=(ref1=info.title)?ref1.match(/linked/i):void 0))return!0}),this.enableLinkedInButton()&&this.showLinkedInButton(),setTimeout((_this=this,function(){var metricAttr;if(_this.checkHackerEmailFromParams(),(metricAttr=HR&&HR.params&&HR.params.username?{username:HR.params.username}:{}).test_hash=HR.candidate.candidateTestModel.get("unique_id"),_this.shouldShowHackerRankLogin())return HR.util.candidateTrack(HR.loginWithHREvent,"Step 2 rendered",metricAttr)}))},RecruitCandidateDetailsView.prototype.enableLinkedInButton=function(){return!1},RecruitCandidateDetailsView.prototype.showLinkedInButton=function(){var $el;return $el=this.$(".linkedin-container"),this.linkedInImportButton=new HR.Components.LinkedInResumeImport({source:"candidate_site",tid:HR.candidate.candidateTestModel.get("unique_id")}),$el.html(this.linkedInImportButton.render().el)},RecruitCandidateDetailsView.prototype.hideEmailForPublicLink=function(){if(this.shouldShowHackerRankLogin()&&HR.util.isPublicLink())return HR.params=HR.params||{},HR.params.hide=!0},RecruitCandidateDetailsView.prototype.checkHackerEmailFromParams=function(){var email;if(this.shouldShowHackerRankLogin()&&!this.parent.isAuthenticatedEmail()&&HR.params&&HR.params.username)return this.possibleHacker=new HR.Profile,email=HR.params.username,this.possibleHacker.set("email",email),this.possibleHacker.setAction("find_by_email"),this.possibleHacker.fetch()},RecruitCandidateDetailsView.prototype.removeHRResume=function(e){var $container,$parent;if(e.preventDefault(),$(e.currentTarget),$container=($parent=$(e.currentTarget).parent()).parent(),$parent.remove(),$container.html("<input type='file' aria-label='Upload your resume' class='with-help wide' name='resume'>"),!this.changeAttributesHeapEvent)return this.sendAutoFillChange("resume")},RecruitCandidateDetailsView.prototype.changeShareProfile=function(e){var $currentTarget;return $currentTarget=$(e.currentTarget),this.shareProfile=$currentTarget.prop("checked")},RecruitCandidateDetailsView.prototype.shouldShowHackerRankLogin=function(){return this.parent.shouldShowHackerRankLogin()},RecruitCandidateDetailsView.prototype.isHRCandidateLogin=function(){return this.parent.isHRCandidateLogin()},RecruitCandidateDetailsView.prototype.prefillDetails=function(){if(this.shouldShowHackerRankLogin())return HR.util.isPublicLink()&&this.$("input[name=email]").val(this.hacker.get("email")),$.trim(this.hacker.get("name"))&&(this.$("input[name=full_name]").val($.trim(this.hacker.get("name"))),this.$("input[name=full_name]").parent().parent().addClass("hidden")),this.hacker.get("school")&&this.$("input[name=univ]").val(this.hacker.get("school")),this.hacker.get("college_major")?this.$("input[name=branch]").val(this.hacker.get("college_major")):void 0},RecruitCandidateDetailsView.prototype.setSectionHeader=function(){var collectInfo,companyName,emailHidden,name,sentenceStart;return emailHidden=HR&&HR.params&&!0===HR.params.hide,name=this.hacker.get("name"),collectInfo=this.model.get("collect_info"),sentenceStart=name&&this.hackerDirectLogin?_.unescape("Hello "+this.hacker.get("name").split(" ")[0]+", "):"",(companyName=HR.candidate.candidateTestModel.get("company_name"))&&(companyName+=companyName.endsWith("s")?"'":"'s",companyName=_.unescape(companyName)),(0===collectInfo.length||emailHidden&&name&&1===collectInfo.length&&"full_name"===collectInfo[0].field_name||this.isHRSC)&&!this.enableLinkedInButton()?sentenceStart?this.$(".candidate-details-header").text(sentenceStart+"ready to solve "+companyName+" challenge?"):this.$(".candidate-details-header").text("Ready to solve "+companyName+" challenge?"):sentenceStart?this.$(".candidate-details-header").html(sentenceStart+"complete this form to start the challenge."):this.$(".candidate-details-header").html(i18next.t("login.complete_this_form"))},RecruitCandidateDetailsView.prototype.sendHeapEvent=function(e){var name;if(name=$(e.currentTarget).attr("name"),!this.changeAttributesHeapEvent)return this.sendAutoFillChange(name)},RecruitCandidateDetailsView.prototype.sendAutoFillChange=function(name){var metricAttr;return metricAttr={username:HR.hackerProfile.get("email"),attribute1:name,test_hash:HR.candidate.candidateTestModel.get("unique_id")},HR.util.candidateTrack("HRW_Login_with_HR","Autofill Changed",metricAttr),this.changeAttributesHeapEvent=!0},RecruitCandidateDetailsView.prototype.shout=function(content){return $("#shouter").text(content)},RecruitCandidateDetailsView.prototype.changeHackerProfile=function(e){var metricAttr,_this;return e.preventDefault(),this.setLoading(),$.ajax({url:"/auth/logout",type:"DELETE",beforeSend:function(xhr){return xhr.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))},success:(_this=this,function(response){if(response.status)return $.ajax({url:"/x/set_csrf_token",type:"GET",success:function(response){return $("meta[name=csrf-token]").attr("content",response.csrf_token),HR.hackerProfile=new HR.Profile,_this.destroy(),_this.parent._prefillDetails=!1,_this.parent.setHRLoginSubview(),_this.parent.setSubView()}})})}),metricAttr={username:HR&&HR.params&&HR.params.username?HR.params.username:void 0,test_hash:HR.candidate.candidateTestModel.get("unique_id")},HR.util.candidateTrack(HR.loginWithHREvent,"Switch Account clicked",metricAttr)},RecruitCandidateDetailsView.prototype.setLoading=function(){return $(".sub-view-container").html("<div class='gray-2'><img src='"+asset_path("hackerrank_spinner_64x64.gif")+"' style='height: 64px; width: 64px; display: inline-block;'/></div>")},RecruitCandidateDetailsView.prototype.loginAction=function(e){var $currentTarget,deductInvite,email,form_data,loginActionWithContext,message,put_data,qList,ref,ref1,ref10,ref2,ref3,ref4,ref5,ref6,ref7,ref8,ref9,request_params,that,track_data,uniqid,url;if(!this.loginActionLocked){if(this.disableButton("test-submit"),that=this,e.preventDefault(),$currentTarget=$(e.currentTarget),this.resetError(),email=this.$("input[name=email]").val(),null!=(null!=HR&&null!=(ref=HR.params)?ref.email:void 0)&&email!==HR.params.email)return message="If you use an email address other than your own, one invite will be deducted from your account.",this.shout(message),this.enableButton("test-submit"),_this=this,deductInvite=function(withAns){return withAns||_this.$("input[name=email]").val(HR.params.email),HR.params.email=null,$(".test-submit").trigger("click")},void HR.util.confirm({title:"Invite to be Deducted",width:445,closebutton:!0,okButtonText:"Use my HR email address.",cancelButtonText:"I understand, deduct invite.",message:"If you use an email address other than your own, one invite will be deducted from your account.",okClass:"btn mdB btn-primary",okCallback:function(){return deductInvite(!1)},cancelCallback:function(){return deductInvite(!0)}});var _this;if(this.$("input[name=password]").val(),null!=(qList=this.model.get("questions_list"))&&-1!==_.map(qList,function(question){return question.type}).indexOf("design")){if(!0===this.testedFrontEndCookiePerms&&!this.frontendSupportedbrowser)return message={title:"Unable to set cookies",body:'Please relax your browser\'s cookies settings to enable third party cookies or use a different browser to take this test. Read <a target="_blank" href = "http://support.hackerrank.com/hc/en-us/articles/227318048">here</a> for information on changing your settings.'},this.enableButton("test-submit"),void this.setError(message.title,message.body,"error",void 0);if(null==this.testedFrontEndCookiePerms)return loginActionWithContext=function(_this){return function(){return _this.loginAction(e)}}(this),void this.testFrontEndCookiePerms(loginActionWithContext,loginActionWithContext)}if(null==this.model.get("enable_acknowledgement")||"True"===this.model.get("enable_acknowledgement")){if(!this.$("#acknowledge").is(":checked"))return message=i18next.t("login.agree_to_specified_condition"),this.shout(message),this.enableButton("test-submit"),void(!this.$("#acknowledge-alert").length>0&&this.$("#login-form").before("<div class='text-center alert error error-message psT' id='acknowledge-alert'> "+i18next.t("login.agree_to_specified_condition")+" </div>"));this.$("#acknowledge-alert").remove()}return form_data=$("#test-login-form").serializeArray(),put_data={},_.each(form_data,function(_this){return function(item){var field,name;if("radio"!==(null!=(field=_this.mappedCandidateField(item.name))?field.type:void 0)&&"select2"!==(null!=field?field.type:void 0)&&"checkbox"!==(null!=field?field.type:void 0)&&!(item.name.indexOf("not-compulsory-other-hrw")>=0))return name=(null!=field?field.db_field:void 0)||item.name,put_data[name]=item.value}}(this)),(null!=(ref1=HR.params)?ref1.hrsc:void 0)||(_.each(this.select2CandidateFields,function(_this){return function(item){var field,name;if(name=(null!=(field=_this.mappedCandidateField(item.field_name))?field.db_field:void 0)||item.field_name,put_data[name]=_this.$(_this.select2Element(item.field_name)).select2("val"),"other"===put_data[name].toLowerCase()&&field.show_other_input)return put_data[name]=_this.$(".js-other-"+item.field_name).val()}}(this)),_.each(this.radioButtonCandidateFields,function(_this){return function(item){var field,name;return name=(null!=(field=_this.mappedCandidateField(item.field_name))?field.db_field:void 0)||item.field_name,put_data[name]=_this.$("input[name='"+item.field_name+"']:checked").val()}}(this)),_.each(this.checkBoxCandidateFields,function(_this){return function(item){var field,name,val;return name=(null!=(field=_this.mappedCandidateField(item.field_name))?field.db_field:void 0)||item.field_name,val=[],_.each(_this.$("input[name='"+item.field_name+"']:checked"),function(item){return val.push(item.value)}),put_data[name]=val.join(", ")}}(this))),null==HR.params||!0!==HR.params.hide||null==HR.params.password||null==put_data.password||HR.util.isPublicLink()||(put_data.password=HR.params.password),null!=HR.params&&(HR.params.hide=null!=HR.params.username&&null!=put_data.email&&!HR.util.isPublicLink())&&(put_data.email=HR.params.username),put_data.tauth_key=this.model.auth,$("#acknowledge").is(":checked")&&(put_data.acknowledge="on"),null!=this.linkedInImportButton&&(null!=(null!=(ref2=this.linkedInImportButton)?ref2.getLinkedInUrl():void 0)&&""!==(null!=(ref3=this.linkedInImportButton)?ref3.getLinkedInUrl():void 0)?(put_data.linkedin_url=this.linkedInImportButton.getLinkedInUrl(),put_data.linkedin_uid=this.linkedInImportButton.getLinkedInUid()):put_data.resume_url=this.linkedInImportButton.getResumeUrl()),HR.params&&(HR.params.hrsc&&(put_data.hr_sourced_candidate=!0),HR.params.hrsc_src&&(put_data.src=HR.params.hrsc_src),HR.params.job_id&&(put_data.job_id=HR.params.job_id),HR.params.tuuid&&(put_data.tuuid=HR.params.tuuid),HR.params.utm_campaign&&(put_data.campaign=HR.params.utm_campaign),HR.params.test_finish_url&&(put_data.test_finish_url=HR.params.test_finish_url),HR.params.provider&&(put_data.provider=HR.params.provider),HR.params.test_result_url&&(put_data.test_result_url=HR.params.test_result_url)),put_data.share_hacker_profile=this.shareProfile,url="/recruit/tests/"+(uniqid=this.model.get("unique_id"))+"/login",url+="?login_method=",this.shouldShowHackerRankLogin()?url+="hr":url+="basic",request_params={url:url,data:put_data,dataType:"json",type:"POST",success:function(_this){return function(xhr){var err,i,k,len,localStorageKeys,r;r="string"==typeof xhr?$.parseJSON($(xhr).text()):xhr;try{$(".cookie-banner-wrapper").remove()}catch(error){err=error,console.error(err)}try{for($.removeCookie("candidate-site-view"),localStorageKeys=$.jStorage.index(),i=0,len=localStorageKeys.length;i<len;i++)(k=localStorageKeys[i]).match(/\d+-[\da-z]+/)&&!k.startsWith(r.model.attempt)&&$.jStorage.deleteKey(k),k.endsWith("-seen")&&$.jStorage.deleteKey(k)}catch(error){e=error,console.log(e)}if(HR.candidateStartTestTime=Date.now(),HR.candidate.candidateTestModel.set(r.model),!r.status)return _this.enableButton("test-submit"),$currentTarget.html(i18next.t("login.start_challenge")),that.setError(r.message.title,r.message.body,null,r.message.field_name,r.message.type);if(r.model.attempt_done)HR.router.navigate(uniqid+"/redirect",{trigger:!0,replace:!0});else{window.dataLayer&&"function"==typeof window.dataLayer.push&&r.model.attempt_object&&dataLayer.push({event:"identify",gaUserId:r.model.attempt_object.ga_user_id,attempt_id:r.model.attempt_object.id,test_id:r.model.unique_id,company_id:r.model.company_uid});try{HR.util.track("Started Test",{email_id:r.model.attempt_object.email,test_id:uniqid,company_name:r.model.company_name})}catch(error){e=error}HR.candidate.ABTests.fetch(),HR.ABTest.fetch(null,!0),HR.router.navigate(uniqid+"/questions",{trigger:!0,replace:!0})}}}(this),error:function(_this){return function(xhr){var body,r;return _this.enableButton("test-submit"),$currentTarget.html(i18next.t("login.start_challenge")),(r="string"==typeof xhr.responseText?$.parseJSON($(xhr.responseText).text()):xhr.responseText)&&r.message?(body=r.message.body,
that.setError(r.message.title,body,r.message.alertclass,r.message.field_name,r.message.type)):0===xhr.readyState&&0===xhr.status?that.setError(i18next.t("login.login_error"),i18next.t("login.error_trying_to_reach_server")+' <a href="mailto:support@hackerrank.com?Subject=Cannot login into test">support@hackerrank.com</a>'):that.setError(i18next.t("login.login_error"),"We are unable to start your challenge due to an Internal Application Error. Please refresh this page and try again. If the problem persists for more than a few minutes please contact us at support@hackerrank.com.")}}(this)},$(":file").length>0&&(request_params.iframe=!0,request_params.processData=!1,request_params.data=put_data,request_params.files=$(":file")),$currentTarget.html(i18next.t("login.starting_challenge")+"..."),$.ajax(request_params),track_data={test_id:null!=(ref4=HR.candidate)&&null!=(ref5=ref4.candidateTestModel)?ref5.get("unique_id"):void 0,company_id:(null!=(ref6=HR.candidate)&&null!=(ref7=ref6.candidateTestModel)?ref7.get("company_id"):void 0)||null,hacker_id:(null!=(ref8=HR.candidate)&&null!=(ref9=ref8.candidateAttemptModel)?ref9.get("hacker_id"):void 0)||null,job_id:(null!=(ref10=HR.params)?ref10.job_id:void 0)||null,attribute11:HR.util.isPublicLink()},HR.util.candidateTrack("Click","CandidateStartTest",track_data),this}},RecruitCandidateDetailsView.prototype.removeError=function(e){return $(e.target).removeClass("error").closest(".error").removeClass("error")},RecruitCandidateDetailsView.prototype.disableButton=function(cssClass){return"test-submit"===cssClass&&(this.loginActionLocked=!0),this.$("button."+cssClass).attr("disabled",!0).addClass("disabled")},RecruitCandidateDetailsView.prototype.enableButton=function(cssClass){return"test-submit"===cssClass&&(this.loginActionLocked=!1),this.$("button."+cssClass).attr("disabled",!1).removeClass("disabled")},RecruitCandidateDetailsView.prototype.resetError=function(){var $err;return($err=this.$("#error-message")).find("header").html(""),$err.find("p").html(""),this.$(".formgroup").removeClass("error").find("[name]").removeClass("error"),this.$(".formgroup").removeClass("error").find("[name]").removeClass("select2error"),$err.hide()},RecruitCandidateDetailsView.prototype.setError=function(title,message,alertclass,field_name,type){var $err,duration,err_msg,top;return null==alertclass&&(alertclass=null),null==field_name&&(field_name=null),null==type&&(type=""),($err=this.$("#error-message")).find("header").text(_.unescape(title)),$err.find("p").text(_.unescape(message)),err_msg=title+message,this.shout(err_msg),alertclass&&this.$("#error-message").addClass(alertclass),"select2"===type?this.$("[name="+field_name+"]").addClass("select2error"):field_name&&this.$("[name="+field_name+"]").addClass("error").closest(".formgroup").addClass("error"),$err.show(),top=$err.position().top,duration=parseInt(top,10)/2,setTimeout(function(){return $("html,body").animate({scrollTop:top},duration)},0)},RecruitCandidateDetailsView.prototype.removeErrorWorkExperience=function(e){return $(e.target).removeClass("select2error").closest(".error").removeClass("error")},RecruitCandidateDetailsView.prototype.renderWorkExperienceFields=function(){return this.$("#js-years-exp").select2({placeholder:"Select",data:this.getSelect2DataYears(),minimumResultsForSearch:-1})},RecruitCandidateDetailsView.prototype.getSelect2DataYears=function(){var i,result,val;for((result=[]).push({id:"< 1",text:"< 1"}),val=i=1;i<=5;val=++i)result.push({id:val.toString(),text:val.toString()});return result.push({id:"> 5",text:"> 5"}),result},RecruitCandidateDetailsView.prototype.getSelect2Data=function(data){var result;return result=[],_.each(data,function(d){return result.push({id:d,text:d})}),result},RecruitCandidateDetailsView.prototype.mappedCandidateField=function(field_name){return _.find(this.model.get("collect_info"),function(field){return field.field_name===field_name})},RecruitCandidateDetailsView.prototype.renderSelect2ForCandidateDetails=function(){return _.each(this.model.get("collect_info"),(_this=this,function(field){var opts;if("select2"===field.type){if("work_experience"===field.field_name&&!_this.workExperienceFieldPresent)return;if(_this.select2CandidateFields.push(field),opts={placeholder:field.options_placeholder||"Select",data:_this.getSelect2Data(field.options),minimumResultsForSearch:-1},null==field.select2_width&&(opts=_.extend(opts,{dropdownAutoWidth:!0,width:"auto"})),_this.$(_this.select2Element(field.field_name)).select2(opts),field.show_other_input)return _this.$(_this.select2Element(field.field_name)).on("click",_this.otherTextBoxCallback)}}));var _this},RecruitCandidateDetailsView.prototype.select2Element=function(name){return"#js-"+name},RecruitCandidateDetailsView.prototype.setCandidateTypeFields=function(){return this.radioButtonCandidateFields=[],this.checkBoxCandidateFields=[],_.each(this.model.get("collect_info"),(_this=this,function(field){return"radio"===field.type?_this.radioButtonCandidateFields.push(field):"checkbox"===field.type?_this.checkBoxCandidateFields.push(field):void 0}));var _this},RecruitCandidateDetailsView.prototype.otherTextBoxCallback=function(e){return"other"===e.target.value.toLowerCase()?$(e.target.nextElementSibling).removeClass("hidden"):$(e.target.nextElementSibling).addClass("hidden")},RecruitCandidateDetailsView}(window.HR.GenericView),(HR=null!=(ref=window.HR)?ref:{}).RecruitCandidateDetailsView=RecruitCandidateDetailsView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var CandidateProfileView,HR,ref;return CandidateProfileView=function(superClass){function CandidateProfileView(){return CandidateProfileView.__super__.constructor.apply(this,arguments)}return extend(CandidateProfileView,superClass),CandidateProfileView.prototype.template="recruit/candidate-profile",CandidateProfileView.prototype.events={"click #upload-resume-button":"uploadResume","click #import-linkedin-button":"importLinkedin","change #upload-resume-input":"uploadResumeFile","click .js-complete-application":"completeApplication"},CandidateProfileView.prototype._render=function(track){var content,mixpanel_data,track_data;if(null==track&&(track=!0),content=HR.appController.template(this.template,this)(),$(this.el).html(content),track)try{mixpanel_data={test_hash:HR.candidate.candidateTestModel.get("unique_id")},track_data={},HR.params&&(HR.params.utm_source&&(mixpanel_data.utm_source=HR.params.utm_source,track_data.utm_source=HR.params.utm_source),HR.params.utm_medium&&(mixpanel_data.utm_medium=HR.params.utm_medium,track_data.utm_medium=HR.params.utm_medium),HR.params.utm_campaign&&(mixpanel_data.utm_campaign=HR.params.utm_campaign,track_data.utm_campaign=HR.params.utm_campaign),HR.params.tuuid&&(track_data.attribute2=HR.params.tuuid)),HR.util.candidateTrack("Viewed_ResumePage",HR.candidate.candidateTestModel.get("unique_id"),track_data),HR.util.track("Viewed_ResumePage",mixpanel_data)}catch(error1){error1}return this},CandidateProfileView.prototype.uploadResume=function(){return this.$("#upload-resume-input").click()},CandidateProfileView.prototype.uploadResumeFile=function(e){var form_data,that,upload_button;if(upload_button="#upload-resume-button",!$(upload_button).hasClass("disabled")){if($(upload_button).addClass("disabled"),e.currentTarget.files[0])return(form_data=new FormData).append("resume",e.currentTarget.files[0]),that=this,HR.candidate.candidateAttemptModel.persist(form_data,{success:function(data){return that.$(upload_button).removeClass("disabled"),data.model.resume_url&&HR.candidate.candidateAttemptModel.set("resume_url",data.model.resume_url),that._render(!1),this.track("resume")},error:function(){return HR.util.alert({title:"Error",message:"Error Occurred, Please verify that you submit your resume as a .PDF, .DOC, .DOCX, or .TXT file."}),that.$(upload_button).removeClass("disabled")}});this.$(upload_button).removeClass("disabled")}},CandidateProfileView.prototype.importLinkedin=function(e){var h,left,that,top,w;if(!$(e.currentTarget).hasClass("disabled"))return $(e.currentTarget).addClass("disabled"),e.data,w=440,h=584,left=screen.width/2-w/2,top=screen.height/2-h/2,_gaq.push(["_trackPageview","/loginpage/linkedin/"]),that=this,window.login_callback=function(){return HR.candidate.candidateAttemptModel.fetch({success:function(){return that._render(!1),this.track("linkedin")}})},window.error_callback=function(){return window.close()},setTimeout(function(){return $(e.currentTarget).removeClass("disabled")},3e3),window.open("/hackers/auth/linkedin?display=popup&source=hrw","google_login","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+w+", height="+h+", top="+top+", left="+left)},CandidateProfileView.prototype.completeApplication=function(e){return e.preventDefault(),HR.util.alert({title:"Application submitted!",message:"Your application has been successfully submitted!",okButtonText:"OK"})},CandidateProfileView.prototype.track=function(src){var mixpanel_data,track_data;try{return mixpanel_data={test_hash:HR.candidate.candidateTestModel.get("unique_id"),func_name:src},track_data={attribute1:src},HR.params&&(HR.params.utm_source&&(mixpanel_data.utm_source=HR.params.utm_source,track_data.utm_source=HR.params.utm_source),HR.params.utm_medium&&(mixpanel_data.utm_medium=HR.params.utm_medium,track_data.utm_medium=HR.params.utm_medium),HR.params.utm_campaign&&(mixpanel_data.utm_campaign=HR.params.utm_campaign,track_data.utm_campaign=HR.params.utm_campaign),HR.params.tuuid&&(track_data.attribute2=HR.params.tuuid)),HR.util.candidateTrack("Uploaded_Profile",HR.candidate.candidateTestModel.get("unique_id"),track_data),HR.util.track("Uploaded_Profile",mixpanel_data)}catch(error1){error1}},CandidateProfileView}(window.HR.GenericView),(HR=null!=(ref=window.HR)?ref:{}).CandidateProfileView=CandidateProfileView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty,bind=function(fn,me){return function(){return fn.apply(me,arguments)}},indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++)if(i in this&&this[i]===item)return i;return-1};jQuery(function(){var HR,RecruitCandidateCompileTestView,RecruitCandidateCompleteView,RecruitCandidateCorrectErrorsView,RecruitCandidateDiagramView,RecruitCandidateFileUploadView,RecruitCandidateFooterView,RecruitCandidateInstructionsView,RecruitCandidateListView,RecruitCandidateMcqView,RecruitCandidateQuestionView,RecruitCandidateRewriteView,RecruitCandidateServerAlertView,RecruitCandidateServerTaskView,RecruitCandidateSideBarView,RecruitCandidateSubjectiveView,RecruitCandidateSudoRankView,RecruitCandidateTestCaseView,RecruitCandidateTopBarView,RecruitCandidateUnscrambleView;return RecruitCandidateInstructionsView=function(superClass){function RecruitCandidateInstructionsView(){return RecruitCandidateInstructionsView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateInstructionsView,superClass),RecruitCandidateInstructionsView.prototype.template="recruit/instructions",RecruitCandidateInstructionsView.prototype.className="candidate-instructions",RecruitCandidateInstructionsView.prototype.initialize=function(options){return this.model=options.model},RecruitCandidateInstructionsView.prototype.render=function(){return $(this.el).html(HR.appController.template(this.template,this)({instructions:this.model.get("instructions")})),this},RecruitCandidateInstructionsView}(window.HR.GenericView),RecruitCandidateListView=function(superClass){function RecruitCandidateListView(){return RecruitCandidateListView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateListView,superClass),RecruitCandidateListView.prototype.template="recruit/question-list",RecruitCandidateListView.prototype.className="candidate-qlist",RecruitCandidateListView.prototype.MIN_WAIT_FOR_SECTION_CHANGE=15,RecruitCandidateListView.prototype.events={"click .test-done":"testDone","click .next-section":"sectionNext","click .js-solvelink":"handleNav","click .js-bookmark":"toggleBookmark","click .js-switchsection":"sectionJump"},RecruitCandidateListView.prototype.initialize=function(){return this.model=HR.candidate.candidateAttemptModel,this.tid=HR.candidate.candidateTestModel.get("unique_id"),this.aid=this.model.get("id"),this._subviews=[]},RecruitCandidateListView.prototype.render=function(){var allow_revisit,attempt_sections_data,current_section,enable_testdone,global_message,qi,questions,ref,section_count,section_times_left,sections_mapping,serverview,show_q_points,solves,v,val,_this;return questions=this.model.get("questions"),solves=this.model.get("solve_mapping"),sections_mapping=this.model.get("sections_mapping"),current_section=this.model.get("section"),section_times_left=null!=(ref=this.model.get("sections"))?ref.section_times_left:void 0,attempt_sections_data=this.model.get("sections"),allow_revisit=(null!=sections_mapping?sections_mapping[0].revisit:void 0)||!1,attempt_sections_data&&"revisit"in attempt_sections_data&&(allow_revisit=attempt_sections_data.revisit),show_q_points=!!HR.candidate.candidateTestModel.get("show_question_points"),section_count=sections_mapping?sections_mapping.length:1,enable_testdone=!sections_mapping||(section_count===current_section||allow_revisit),global_message=null,HR.candidate.candidateAttemptModel.get("global_message")&&(global_message=HR.candidate.candidateAttemptModel.get("global_message")),$(this.el).html(HR.appController.template(this.template,this)({section_count:section_count,current_section:current_section||1,enable_testdone:enable_testdone,footer_copyright:!!HR.candidate.candidateTestModel.get("footer_copyright"),show_question_points:show_q_points,global_message:global_message})),sections_mapping?(qi=0,_.each(sections_mapping,(_this=this,function(sec,i){var disabled,heading,section_time_left,show_button,v;return heading=HR.candidate.candidateTestModel.get("show_section_names")?sec.name:""+(i+1),disabled=i+1!==current_section,section_time_left=(null!=section_times_left?section_times_left[i]:void 0)||0,show_button=disabled&&allow_revisit&&section_time_left>0,v=_this.getTable(i+1,questions.slice(qi,qi+parseInt(sec.questions)),qi+1,solves,disabled,null,heading,show_q_points,section_time_left,show_button),_this.$("table.section"+(i+1)).html(v),qi+=parseInt(sec.questions)})),sections_mapping.length>1&&current_section<sections_mapping.length&&!allow_revisit&&this.$("button.section-finish-"+current_section).removeClass("hidden")):(v=this.getTable(null,questions,1,solves,!1,HR.candidate.candidateTestModel.get("section_slots_decoded"),null,show_q_points,null,!1),this.$("table.section1").html(v)),questions=HR.candidate.candidateAttemptModel.get("questions"),_.some(questions,function(q){return"sudorank"===q.type})&&(serverview=new RecruitCandidateServerAlertView,this.assign({".js-server":serverview}),this._subviews.push(serverview)),null===HR.candidate.lastQuestionViewed||HR.candidate.lastQuestionViewed<=1?setTimeout(function(){return HR.util.scrollToTop()},200):(val=HR.candidate.lastQuestionViewed-1,setTimeout(function(_this){return function(){return _this.$(".qlist-"+val)[0]&&_this.$(".qlist-"+val).scrollintoview()}}(this),200)),this},RecruitCandidateListView.prototype.getTable=function(section_no,questions,start,solves,disabled,section_slots_decoded,heading,show_question_points,time_left,show_button){var _i,attempt,el,group,group_map,i,j,len,n,secs,switch_text,tid;if(null==disabled&&(disabled=!1),null==section_slots_decoded&&(section_slots_decoded=null),null==heading&&(heading=null),null==time_left&&(time_left=null),null==show_button&&(show_button=!1),tid=this.tid,attempt=this.model,i=start,el="",group_map={},_i=1,section_slots_decoded)for(n=j=0,len=section_slots_decoded.length;j<len;n=++j)group=section_slots_decoded[n],group_map[_i]=group.name,_i+=group.questions;return switch_text="Switch",time_left&&show_button&&(secs="",time_left%60!=0&&(secs=":"+time_left%60),switch_text+=" ("+Math.floor(time_left/60)+secs+" min left)"),heading&&(el+='<tr role="row" class="section-separator" style="height:20px;">\n  <td width=\'3%\'></td>\n  <td width="5%" role="section" class="grey right"><span class="mdR"></span></td>\n  '+(show_question_points?"<td width='40%'>\n  <span "+(disabled?"class=disabled":"")+">Section <em> "+heading+"</em></span>\n  <a class='js-switchsection btn btn-mini "+(!show_button&&"hidden")+"' data-section='"+section_no+"'>"+switch_text+"</a>\n</td><td width='6%'></td>":"<td width='46%'>\n  <span "+(disabled?"class=disabled":"")+">Section <em> "+heading+" </em></span>\n  <a class='js-switchsection btn btn-mini "+(!show_button&&"hidden")+"' data-section='"+section_no+"'>"+switch_text+"</a>\n</td>")+'\n  <td width="17%" role="gridcell" class="fnt-sz-mid"></td>\n  <td width="11%" class="fnt-sz-mid"></td>\n  <td width="18%" class="right"></td>\n</tr>'),_.each(questions,function(q){var ahref,bookmark_class,bookmark_title,btnclass,btnstr,ref,s,statusstr;return s="",group_map[i]&&(s+="<tr role='row' class='section-separator' style='height:20px;'>\n  <td width='3%'></td>\n  <td width='5%' role='gridcell' class='grey right'><span class='mdR'></span></td>\n  "+(show_question_points?"<td width='40%' role='gridcell'><em>"+group_map[i]+"</em></td>\n<td width='6%'></td>":"<td width='46%' role='gridcell'><em>"+group_map[i]+"</em></td>")+"\n  <td width='12%' role='gridcell'></td>\n  <td width='12%' role='gridcell'></td><td width='19%' class='right' role='gridcell'></td>\n</tr>"),s+=1===i?"<tr class='border qlist-"+i+" "+(disabled?"disabled":"")+" ' role='row'>":"<tr class='qlist-"+i+" "+(disabled?"disabled":"")+" ' role='row'>",bookmark_class="icon-star-empty",-1===_.indexOf(attempt.get("bookmarks"),q.unique_id)?(bookmark_class="icon-star-empty",bookmark_title=i18next.t("questions_list.mark_for_later")):(bookmark_class="icon-star",bookmark_title=i18next.t("questions_list.unmark")),s+="<td width='3%' aria-hidden='true'><a class='pointer js-bookmark' style='cursor:pointer;' data-qid='"+q.unique_id+"' title='"+bookmark_title+"'><i class='pdL "+bookmark_class+"'></i></a></td>",s+="<td width='5%' class='grey right' aria-label='Question Number' role='gridcell'><span class='mdR'>Q"+i+"</span></td>",s+="<td width='"+(show_question_points?40:46)+"%' role='gridcell' aria-label='Question Name'><a class='js-solvelink question-name' data-submit='solve-text'",s+=disabled?">":"href='"+tid+"/questions/"+q.unique_id+"'>",q.name?s+=_.escape(q.name):s+="<em class='grey' style='font-weight: 500;'>"+_.escape(q.preview)+"..</em>",s+="</a></td>",show_question_points&&(s+="<td width='6%' aria-label='Points'>"+q.points+"</td>"),s+="<td width='17%' aria-label='Type'>"+(null!=(ref=HR.util)?ref.readableQuestionType(q.type,q.project_type,q.role_type):void 0)+"</td>",ahref=disabled?"":"href='"+tid+"/questions/"+q.unique_id+"'",_.has(solves,q.unique_id)?("sudorank"===q.type?(btnstr="View Task",statusstr="on server",btnclass="btn btn-line"):(btnstr="Modify Submission",statusstr="submitted",btnclass="normal-underline display-inline-block"),s+="<td width='11%' aria-label='Status' role='gridcell'><span class='green customer-green-alternative'>"+statusstr+"</span></td><td width='18%' class='right' role='gridcell' aria-label='Press this button to modify question "+i+"'><a role='button' "+ahref+" data-submit='modify-button' class='"+btnclass+" margin-right-15 js-solvelink' style='margin: 9px 11px 9px 0;''>"+btnstr+"</a></td>"):s+="<td width='11%' aria-label='Status' role='gridcell'><span>"+i18next.t("questions_list.not_answered")+"</span></td><td width='18%' class='right' role='gridcell' aria-label='Press this button to solve question "+i+"'><a role='button' "+ahref+" data-submit='solve-button' class='btn btn-line margin-right-15 js-solvelink'>"+i18next.t("questions_list.solve_question")+"</a></td>",i++,el+=s+="</tr>"}),el},RecruitCandidateListView.prototype.handleNav=function(e){var event_value,me,ref,ref1,ref2,ref3,ref4,ref5,ref6,ref7,ref8,ref9,track_data;if(e.preventDefault(),me=this.$(e.currentTarget),!HR.candidate.ongoingQuestionNavigation){switch(HR.candidate.ongoingQuestionNavigation=!0,HR.candidate.attemptRefreshNeeded=!0,track_data={test_id:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,question_id:_.last(null!=(ref2=me.attr("href"))?ref2.split("/"):void 0),company_id:(null!=(ref3=HR.candidate)&&null!=(ref4=ref3.candidateTestModel)?ref4.get("company_id"):void 0)||null,hacker_id:(null!=(ref5=HR.candidate)&&null!=(ref6=ref5.candidateAttemptModel)?ref6.get("hacker_id"):void 0)||null,job_id:(null!=(ref7=HR.candidate)&&null!=(ref8=ref7.candidateAttemptModel)?ref8.get("job_id"):void 0)||null,attribute11:null!=(ref9=HR.util)?ref9.isPublicLink():void 0},me.attr("data-submit")){case"solve-button":event_value="QuestionListSolveQuestion";break;case"modify-button":event_value="QuestionListModifySubmission";break;case"solve-text":event_value="QuestionListQuestionText"}return HR.util.candidateTrack("Click",event_value,track_data),HR.candidateNavigate(me.attr("href"))}},RecruitCandidateListView.prototype.testDone=function(){return HR.util.confirm({title:i18next.t("confirm_test_close.title"),message:i18next.t("confirm_test_close.message"),okButtonText:i18next.t("confirm_test_close.yes_close_this_test"),cancelButtonText:i18next.t("confirm_test_close.no_go_back"),okCallback:function(){return HR.candidate.disableCaching=!0,HR.candidate.candidateTestModel.setAction("logout"),HR.RecruitCandidateTopBarView.clearPingInterval(),HR.candidate.candidateTestModel.save({how:"userclick",candidatestate:HR.util.safeStringify(HR.candidate.candidateAttemptModel)},{success:function(m){var event_value,ref,ref1,ref2,ref3,ref4,ref5,ref6,ref7,track_data;try{HR.util.track("Ended Test",{email_id:HR.candidate.candidateAttemptModel.get("email"),test_id:HR.candidate.candidateTestModel.get("unique_id"),company_name:HR.candidate.candidateTestModel.get("company_name")})}catch(error){}return event_value=null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,track_data={attempt_id:null!=(ref2=HR.candidate)&&null!=(ref3=ref2.candidateAttemptModel)?ref3.get("id"):void 0,company_id:(null!=(ref4=HR.candidate)&&null!=(ref5=ref4.candidateTestModel)?ref5.get("company_id"):void 0)||null,job_id:(null!=(ref6=HR.candidate)&&null!=(ref7=ref6.candidateAttemptModel)?ref7.get("job_id"):void 0)||null,attribute3:"userclick"},HR.util.candidateTrack("CandidateTestComplete",event_value,track_data),window.HR.appView.dirty=!1,HR.candidateNavigate(m.get("unique_id")+"/redirect")},error:function(m,xhr){var err,ref;null!=(null!=(ref=HR.candidate)?ref.candidateQuestions:void 0)&&Backbone.fetchCache.clearItem(HR.candidate.candidateQuestions);try{return err=JSON.parse(xhr.responseText).error,HR.candidate.candidateTestModel=null,HR.util.alert({title:"Could not log out.",message:err,timeout:15,callback:function(){var ref1,ref2;return null!=(null!=(ref1=HR.candidate)?ref1.candidateQuestions:void 0)&&Backbone.fetchCache.clearItem(HR.candidate.candidateQuestions),null!=(null!=(ref2=HR.candidate)?ref2.candidateTestModel:void 0)&&Backbone.fetchCache.clearItem(HR.candidate.candidateTestModel),window.location.reload()}})}catch(error){return HR.util.alert({title:i18next.t("unable_to_logout.title"),message:i18next.t("unable_to_logout.message")})}}})}})},RecruitCandidateListView.prototype.minimumSectionTime=function(){var preDefinedTime,ref;return(preDefinedTime=HR.candidate.candidateTestModel.get("section_stay_time"))?preDefinedTime:(null!=(ref=HR.candidate.candidateAttemptModel.get("sections_mapping"))?ref[0].revisit:void 0)||!1?0:this.MIN_WAIT_FOR_SECTION_CHANGE},RecruitCandidateListView.prototype.sectionNext=function(e){var _this;{if(!(HR.candidate.sectionClosedAt&&moment().diff(HR.candidate.sectionClosedAt)<1e3*this.minimumSectionTime()))return HR.util.confirm({title:"Confirm section close",message:"You will not be able to access this section again.<br><br>Are you sure?",okButtonText:"Yes, move to next section.",cancelButtonText:"No, stay.",okCallback:(_this=this,function(){return HR.candidate.disableCaching=!0,HR.candidate.candidateAttemptModel.set("section_close",_this.$(e.currentTarget).attr("data-section")),HR.candidate.candidateAttemptModel.save(null,{success:function(){var ref;return HR.markSectionChanged(),null!=(null!=(ref=HR.candidate)?ref.candidateQuestions:void 0)&&Backbone.fetchCache.clearItem(HR.candidate.candidateQuestions),HR.candidateNavigate(HR.candidate.candidateTestModel.get("unique_id")+"/redirect"),setTimeout(function(){return HR.candidate.disableCaching=!1},1e4)},error:function(){return HR.candidateNavigate(HR.candidate.candidateTestModel.get("unique_id")+"/redirect")}})})});HR.util.alert({title:i18next.t("too_soon.title"),message:i18next.t("too_soon.message",{minimum_section_time:this.minimumSectionTime()})})}},RecruitCandidateListView.prototype.sectionJump=function(e){var new_section,_this;{if(!(HR.candidate.sectionClosedAt&&moment().diff(HR.candidate.sectionClosedAt)<1e3*this.minimumSectionTime()))return new_section=this.$(e.currentTarget).attr("data-section"),HR.util.confirm({title:i18next.t("section_switch.title"),message:i18next.t("section_switch.message",{new_section:new_section}),okButtonText:"Yes, move to section "+new_section+".",cancelButtonText:"No, stay.",okCallback:(_this=this,function(){return HR.candidate.disableCaching=!0,HR.candidate.candidateAttemptModel.set("section_move",_this.$(e.currentTarget).attr("data-section")),HR.candidate.candidateAttemptModel.save(null,{success:function(){var ref;return HR.markSectionChanged(),null!=(null!=(ref=HR.candidate)?ref.candidateQuestions:void 0)&&Backbone.fetchCache.clearItem(HR.candidate.candidateQuestions),HR.candidateNavigate(HR.candidate.candidateTestModel.get("unique_id")+"/redirect"),setTimeout(function(){return HR.candidate.disableCaching=!1},1e4)},error:function(){return HR.candidateNavigate(HR.candidate.candidateTestModel.get("unique_id")+"/redirect")}})})});HR.util.alert({title:"Too soon",message:"Looks like you just changed sections. Please wait at least "+this.minimumSectionTime()+" seconds before switching to the next section."})}},RecruitCandidateListView.prototype.toggleBookmark=function(e){var element,qhash;return e.preventDefault(),qhash=(element=this.$(e.currentTarget)).attr("data-qid"),element.css("cursor","wait"),HR.candidate.candidateAttemptModel.toggleBookmark(qhash,function(){return element.css("cursor","pointer"),element.children().toggleClass("icon-star").toggleClass("icon-star-empty")})},RecruitCandidateListView}(window.HR.GenericView),RecruitCandidateQuestionView=function(superClass){function RecruitCandidateQuestionView(){return this.getAnswerToSave=bind(this.getAnswerToSave,this),RecruitCandidateQuestionView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateQuestionView,superClass),RecruitCandidateQuestionView.prototype.templateHorizontal="recruit/question-base",RecruitCandidateQuestionView.prototype.templateVertical="recruit/question-base-split",RecruitCandidateQuestionView.prototype.className="question-base",RecruitCandidateQuestionView.prototype.completeMinSize=15,RecruitCandidateQuestionView.prototype.completeMaxSize=100,RecruitCandidateQuestionView.prototype.initialize=function(options){if(this.model=options.model,this.whichView=options.whichView,this.splitViewVariant=options.splitViewVariant,this.fresh=!1,this.tid=HR.candidate.candidateTestModel.get("unique_id"),this.renderLocked=!1,window.HR.appView.dirty=!1,window.HR.Vent.off("view:dirty").on("view:dirty",this.openDirtyModal),this.fullscreenMargin="70px","block"===$(".global-message-wrapper").css("display"))return this.fullscreenMargin="120px"},RecruitCandidateQuestionView.prototype.events={"click .ans-submit":"triggerSubmitAnswer","click input[name=mcqopts]":"candidateAnswerChange","change input:file":"candidateAnswerChange","change input.complete-question":"candidateAnswerChange","click .js-bookmark":"toggleBookmark","click #horizontal-icon":"horizontalSwitch","click #vertical-icon":"verticalSwitch","keyup .complete-question":"autoGrowBlank","change .complete-question":"autoGrowBlank","click .run-tests":"triggerRunTests"},RecruitCandidateQuestionView.prototype.triggerRunTests=function(){var ref;if("fullstack"===(null!=(ref=this.question)?ref.type:void 0)&&!_.isUndefined(this.view))return this.view.trigger("runTests")},RecruitCandidateQuestionView.prototype.autoGrowBlank=function(e){var $currentTarget,newSize,size;return size=($currentTarget=$(e.currentTarget)).val().length,newSize=Math.max(size,this.completeMinSize),newSize=Math.min(newSize,this.completeMaxSize),$currentTarget.attr("size",newSize+5)},RecruitCandidateQuestionView.prototype.horizontalSwitch=function(){if(!0!==this.renderLocked&&"normal"!==this.whichView)return this.renderLocked=!0,this.view.closeSplitView()},RecruitCandidateQuestionView.prototype.verticalSwitch=function(){if(!0!==this.renderLocked&&"split"!==this.whichView)return this.renderLocked=!0,this.view.makeSplitView()},RecruitCandidateQuestionView.prototype.candidateAnswerChange=function(){return window.HR.appView.dirty=!0},RecruitCandidateQuestionView.prototype.getAnswerToSave=function(){var a,qtype;return this.model?(qtype=this.model.get("type"),_.contains(["code","approx","textAns","design","diagram","android","project","database"],qtype)&&this.view&&(a={type:qtype,answer:this.view.answer()}).answer?a:null):null},RecruitCandidateQuestionView.prototype.setBookmark=function(){var bookmark_class,bookmark_title;return bookmark_class="icon-star-empty",-1===_.indexOf(HR.candidate.candidateAttemptModel.get("bookmarks"),this.question.unique_id)?(bookmark_class="icon-star-empty",bookmark_title="Mark for later"):(bookmark_class="icon-star",bookmark_title="Unmark"),this.$(".js-bookmark").html("<i class='"+bookmark_class+"' title='"+bookmark_title+"'></i>")},RecruitCandidateQuestionView.prototype.toggleBookmark=function(e){var element,qhash;return e.preventDefault(),qhash=(element=this.$(e.currentTarget)).attr("data-qid"),element.css("cursor","wait"),HR.candidate.candidateAttemptModel.toggleBookmark(qhash,function(){return element.css("cursor","pointer"),element.children().toggleClass("icon-star").toggleClass("icon-star-empty")})},RecruitCandidateQuestionView.prototype.openDirtyModal=function(answer){return HR.util.confirm({message:i18next.t("unsaved_changes.message"),title:i18next.t("unsaved_changes.title"),okButtonText:i18next.t("unsaved_changes.ok"),cancelButtonText:i18next.t("unsaved_changes.cancel"),okCallback:function(){return answer.reject(),$("a.js-navlink.disabled").removeClass("disabled")},cancelCallback:function(){return HR.appView.dirty=!1,answer.resolve()}})},RecruitCandidateQuestionView.prototype.saveAnswerToServer=function(a,e){var current_question_type,data,navigate,nextpath,ref,request_params,showSaveToast,_this;if(-1===["mcq","multiple_mcq"].indexOf(this.model.get("type"))&&this.$(e.currentTarget).html(HR.PREFETCH_DATA.test.i18n_language+"..."),data={qid:this.model.get("unique_id"),qtype:this.model.get("type")},null!=a&&(data.answer=a),-1===["mcq","multiple_mcq"].indexOf(this.model.get("type"))&&(this.$(e.currentTarget).html("Redirecting.."),this.$(e.currentTarget).attr("disabled","disabled")),nextpath=this.model.get("nextqid")?this.tid+"/questions/"+this.model.get("nextqid"):this.tid+"/questions",HR.candidate.attemptRefreshNeeded=!0,navigate=function(){var base;if(nextpath.endsWith("questions")||"function"!=typeof(base=HR.appView.contentView).canNavigateToPath||!base.canNavigateToPath(nextpath))return HR.candidateNavigate(""+nextpath);HR.appView.contentView.navigateToPath(nextpath)},"mcq"!==(current_question_type=this.model.get("type"))&&"multiple_mcq"!==current_question_type||($(e.currentTarget).parents(".mcq-question-choices").addClass("overlay"),$(e.currentTarget).parents(".mcq-question-choices").find(".saved-container").html(i18next.t("saving")+"..")),showSaveToast=function(toast){return $(e.currentTarget).parents(".mcq-question-choices").find(".saved-container").html(toast),setTimeout(function(){return $(e.currentTarget).parents(".mcq-question-choices").find(".saved-container").html("")},5e3)},request_params={
url:"/recruit/attempts/"+HR.candidate.candidateAttemptModel.get("id")+"/solves",data:data,dataType:"json",type:"POST",success:(_this=this,function(xhr){var base,base1,ref,solve_mapping,submitted;return xhr.error?(e.preventDefault(),"file_upload"===current_question_type&&typeof xhr.error===String?_this.showAlertError(xhr.error,"Error"):null!=xhr.error&&typeof xhr.error===String?_this.showError(xhr.error):_this.showError("There was an error in saving your answer to the server. Please try refreshing the page, or contact support at support@hackerrank.com if problem persists"),void _this.enableNavButtons(e,current_question_type)):(submitted=!0,solve_mapping=HR.candidate.candidateAttemptModel.get("solve_mapping"),"mcq"!==(ref=data.qtype)&&"multiple_mcq"!==ref||-1!==data.answer.answer?(solve_mapping[data.qid]=!0,"function"==typeof(base1=_this.view).setSubmittedText&&base1.setSubmittedText(data.answer.answer)):(delete solve_mapping[data.qid],submitted=!1,"function"==typeof(base=_this.view).hideSubmittedText&&base.hideSubmittedText()),HR.candidate.candidateAttemptModel.set("solve_mapping",solve_mapping),HR.RecruitCandidateTopBarView.updateProgress(),HR.RecruitCandidateSideBarView.markSubmitted(data.qid,submitted),Backbone.fetchCache.clearItem(_this.model),_this.enableNavButtons(e,current_question_type),"mcq"!==current_question_type&&"multiple_mcq"!==current_question_type||(showSaveToast(i18next.t("saved")),$(e.currentTarget).parents(".mcq-question-choices").removeClass("overlay")),"file_upload"===current_question_type||"project"===current_question_type||"android"===current_question_type||nextpath.endsWith("questions")&&"multiple_mcq"!==_this.model.get("type")?(window.HR.appView.dirty=!1,navigate()):void 0)}),error:function(_this){return function(){return _this.enableNavButtons(e,current_question_type),"mcq"!==current_question_type&&"multiple_mcq"!==current_question_type||$(e.currentTarget).parents(".mcq-question-choices").removeClass("overlay"),_this.showError("[E101] There was an error in saving your answer to the server. Please try refreshing the page, or contact support at support@hackerrank.com if problem persists")}}(this)},"file_upload"!==this.model.get("type")||_.isString(this.view.answer())||(data={qid:this.model.get("unique_id"),qtype:"file_upload"},this.$(e.currentTarget).html("Uploading and redirecting..."),request_params.iframe=!0,request_params.processData=!1,request_params.data=data,request_params.files=this.view.answer()),$.ajax(request_params),"file_upload"!==(ref=this.model.get("type"))&&"project"!==ref&&"android"!==ref&&"mcq"!==ref&&"multiple_mcq"!==ref&&!nextpath.endsWith("questions"))return window.HR.appView.dirty=!1,navigate()},RecruitCandidateQuestionView.prototype.enableNavButtons=function(e,type){if(-1===["mcq","multiple_mcq"].indexOf(type))return this.$(e.currentTarget).html(i18next.t("submit_continue")),this.$(e.currentTarget).removeAttr("disabled")},RecruitCandidateQuestionView.prototype.showXHRError=function(xhr){var data;try{return(data=JSON.parse(xhr.responseText)).error?data.show_alert?this.showAlertError(data.error,data.title,data.ok_text):this.showError(data.error):data.show_alert?this.showAlertError():this.showError()}catch(error){return this.showError()}},RecruitCandidateQuestionView.prototype.triggerSubmitAnswer=function(event){return"fullstack"===this.model.get("type")&&this.view&&this.view.syncCode?(this.$("#submit-ans-status-loading").removeClass("hidden"),this.view.syncCode({commitMessage:"Auto save changes before Submit"}).then((_this=this,function(){return _this.$("#submit-ans-status-loading").addClass("hidden"),_this.submitAnswer(event)}))["catch"](function(_this){return function(){return _this.$("#submit-ans-status-loading").addClass("hidden")}}(this))):this.submitAnswer(event);var _this},RecruitCandidateQuestionView.prototype.submitAnswer=function(event){var a,nextpath,ref,ref1,ref10,ref11,ref12,ref13,ref14,ref15,ref16,ref2,ref3,ref4,ref5,ref6,ref7,ref8,ref9,track_data,_this;return event.preventDefault(),_.contains(["code","approx","database","file_upload","diagram"],this.model.get("type"))?HR.util.candidateTrack("Candidate Submitted Code",{attribute2:this.model.attributes.unique_id},{test_id:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,question_id:null!=(ref2=HR.candidate)?ref2.currentQuestion:void 0},(null!=(ref3=HR.candidate)&&null!=(ref4=ref3.candidateTestModel)?ref4.get("company_id"):void 0)||null,{job_id:(null!=(ref5=HR.candidate)&&null!=(ref6=ref5.candidateAttemptModel)?ref6.get("job_id"):void 0)||null}):(track_data={test_id:null!=(ref7=HR.candidate)&&null!=(ref8=ref7.candidateTestModel)?ref8.get("unique_id"):void 0,question_id:null!=(ref9=HR.candidate)?ref9.currentQuestion:void 0,company_id:(null!=(ref10=HR.candidate)&&null!=(ref11=ref10.candidateTestModel)?ref11.get("company_id"):void 0)||null,hacker_id:(null!=(ref12=HR.candidate)&&null!=(ref13=ref12.candidateAttemptModel)?ref13.get("hacker_id"):void 0)||null,attribute11:null!=(ref14=HR.util)?ref14.isPublicLink():void 0,answer:null!=(ref15=this.view)&&"function"==typeof ref15.answer?ref15.answer():void 0},"fullstack"===this.model.get("type")&&null!=(ref16=this.view)&&ref16.saveAllTabs(),HR.util.candidateTrack("Click","SubmitAnswer",track_data)),null!=(a={type:this.model.attributes.type,answer:this.view.answer()}).answer&&null!=a.answer.then&&"function"==typeof a.answer.then?a.answer.then((_this=this,function(answer){return a.answer=answer,_this.saveAnswerToServer(a,event)}),function(_this){return function(err){return window.HR.appView.dirty=!0,_this.$(event.currentTarget).html(i18next.t("submit_continue")),_this.$(event.currentTarget).removeAttr("disabled"),null!=err.error?_this.showError(err.error):_this.showError("[E102] There was an error in saving your answer to the server. Please try again, or contact support at support@hackerrank.com if problem persists")}}(this)):null==a.answer?(window.HR.appView.dirty=!1,"sudorank"===this.model.get("type")?(nextpath=this.model.get("nextqid")?this.tid+"/questions/"+this.model.get("nextqid"):this.tid+"/questions",HR.candidate.attemptRefreshNeeded=!0,HR.candidateNavigate(""+nextpath)):HR.util.alert({title:i18next.t("submit_error.title"),message:i18next.t("submit_error.message")})):(this.saveAnswerToServer(a,event),-1!==["mcq","multiple_mcq"].indexOf(this.model.get("type"))?-1===a.answer?this.view.question.solve=null:this.view.question.solve=a:void 0)},RecruitCandidateQuestionView.prototype.showError=function(err){return null==err&&(err="Unable to process request. (test state changed?)"),HR.util.candidatemsg(err+"<br><br>Click continue to refresh state.<br><br><a href='"+this.tid+"/questions' class='backbone btn'>Continue</a>",!1)},RecruitCandidateQuestionView.prototype.showAlertError=function(err,title,ok_text){return null==err&&(err="Unable to process request. (test state changed?)"),null==title&&(title=""),null==ok_text&&(ok_text="Ok"),HR.util.alert({title:title,message:err,okButtonText:ok_text,okClass:"btn-primary"})},RecruitCandidateQuestionView.prototype._render=function(){return this.question=this.model.toJSON(),_.contains(["code","approx","database"],this.question.type)&&"split"===this.whichView?$(this.el).html(HR.appController.template(this.templateVertical,this)({tid:this.tid,question:this.question,marginTop:this.fullscreenMargin,aid:HR.candidate.candidateAttemptModel.id})):$(this.el).html(HR.appController.template(this.templateHorizontal,this)({tid:this.tid,question:this.question,aid:HR.candidate.candidateAttemptModel.id})),this.question.name?this.$(".qtitle").text(""+this.question.name):this.$(".qtitle").text(window.istreet.cfg.hrqn[this.question.type]),this.setBookmark(),this.$(".qtitle").attr("aria-label","Question Title"),"split"===this.whichView?this.makeVerticalView():this.makeHorizontalView(),setTimeout(function(){return HR.candidate.ongoingQuestionNavigation=!1}),this.focusQTitle()},RecruitCandidateQuestionView.prototype.focusQTitle=function(){return setTimeout((_this=this,function(){return-1!==["multiple_mcq","mcq"].indexOf(_this.question.type)?$(".mcq-container.mcq-"+HR.candidate.currentQuestion+" .qtitle").focus():_this.$(".qtitle").focus()}),500);var _this},RecruitCandidateQuestionView.prototype.setProblemStatement=function(){var ref;if("complete"!==(ref=this.question.type)&&"rewrite"!==ref&&"unscramble"!==ref&&"correct_errors"!==ref)return this.$(".challenge-text").html(this.question.question)},RecruitCandidateQuestionView.prototype.makeHorizontalView=function(){var cacheServed,fromSplitView,ref,_this;return $("#wrapper").addClass("wrapper-height no-header"),$(".footer").removeClass("hidden"),$("body").removeClass("splitview-body"),fromSplitView=null!=(ref=this.view)?ref.fromSplitView:void 0,this.setProblemStatement(),this.$(".qcontent").html("<center><div class='hackerrank_spinner' style='height: 32px; width: 32px; background-size: 32px;'></div></center>"),this.$(".ans-submit").addClass("disabled"),this.model.setAid(HR.candidate.candidateAttemptModel.get("id")),this.model.setQid(this.model.get("unique_id")),fromSplitView?this.setupAnswerView(!0):(cacheServed=!1,this.model.fetch({prefill:!0,prefillSuccess:(_this=this,function(){return cacheServed=!0,_this.setupAnswerView(!0),_this.view.$el.css("width","100%"),_this.renderLocked=!1}),success:function(_this){return function(m){return cacheServed?(_this.view.question=m.toJSON(),_this.view.set_answer()):(_this.model=m,_this.setupAnswerView(!0),_this.view.$el.css("width","100%"),_this.renderLocked=!1),_this.setProblemStatement()}}(this),error:function(_this){return function(){return _this.showError()}}(this)})),-1===["mcq","multiple_mcq"].indexOf(this.question.type)&&setTimeout(function(){return HR.util.scrollToTop()},200),this},RecruitCandidateQuestionView.prototype.makeVerticalView=function(){var _this,initRatio;if(_.contains(["code","approx","database"],this.model.get("type")))return $("#wrapper").removeClass("wrapper-height no-header"),$(".footer").addClass("hidden"),$("body").addClass("splitview-body"),this.$(".js-left-content").html(this.model.get("question")),this.$(".js-left-content").css("margin-left","70px"),this.$(".title-name-wrapper").css("margin-left","70px"),_this=this,initRatio="treatment"===this.splitViewVariant?"45:55":"50:50",this.$(".view-separator").dragResize({activeColor:"#AAA",inactiveColor:"#DDD",initRatio:initRatio,resize:function(pageX){var left_sidebar_width,right_sidebar_width,sidebar_widths;if(left_sidebar_width=(sidebar_widths=_this.getSideBarWidth(pageX)).left_sidebar_width,right_sidebar_width=sidebar_widths.right_sidebar_width,!(parseInt(left_sidebar_width)<=20||parseInt(right_sidebar_width)<=30))return _this.$(".left-sidebar").css("width",left_sidebar_width),_this.$(".right-sidebar").css("width",right_sidebar_width)},mouseupCallback:function(pageX){var left_sidebar_width,ref,ref1,ref2,ref3,ref4,ref5,ref6,right_sidebar_width,sidebar_widths,track_data;return sidebar_widths=_this.getSideBarWidth(pageX),left_sidebar_width=Math.round(parseFloat(sidebar_widths.left_sidebar_width)),right_sidebar_width=Math.round(parseFloat(sidebar_widths.right_sidebar_width)),track_data={test_hash:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,question_id:null!=(ref2=HR.candidate)?ref2.currentQuestion:void 0,company_id:(null!=(ref3=HR.candidate)&&null!=(ref4=ref3.candidateTestModel)?ref4.get("company_id"):void 0)||null,hacker_id:(null!=(ref5=HR.candidate)&&null!=(ref6=ref5.candidateAttemptModel)?ref6.get("hacker_id"):void 0)||null,attribute5:left_sidebar_width,attribute6:right_sidebar_width},HR.util.candidateTrack("Resize Sidebar","Vertical-Switch",track_data)}}),this.model.setAid(HR.candidate.candidateAttemptModel.get("id")),this.model.setQid(this.model.get("unique_id")),this.model.fetch({success:function(_this){return function(m){return _this.model=m,_this.setupAnswerView(!0,!1),_this.view.fullscreen=!0,_this.$(".right-sidebar").css("overflow-y","scroll"),_this.view.render_krackjack=!0,_this.$(".js-right-content").html(_this.view._render(!1).el),$(_this.view.el>"#dllink").css("padding","1em"),$(_this.view.el>".hr_tour-code-solution").css("overflow","scroll"),_this.renderLocked=!1}}(this),error:function(_this){return function(){return _this.showError()}}(this)}),setTimeout(function(){return HR.util.scrollToTop()},200),this;this.makeHorizontalView()},RecruitCandidateQuestionView.prototype.getSideBarWidth=function(left_sidebar_width_px){var document_width,separator_width;return separator_width=.5,{left_sidebar_width:left_sidebar_width_px/(document_width=$(window).width())*100-separator_width/2+"%",right_sidebar_width:(document_width-left_sidebar_width_px)/document_width*100-separator_width/2+"%"}},RecruitCandidateQuestionView.prototype.setupAnswerView=function(forceReRender,render_krackjack){var disable_paste,dockerInfo,ide_type,oldView,ref,show_context_everywhere,viewfound,_this;if(null==forceReRender&&(forceReRender=!1),null==render_krackjack&&(render_krackjack=!0),this.question=this.model.toJSON(),viewfound=!0,ide_type=HR.candidate.candidateAttemptModel.get("ide_type"),null!=HR.candidate.ctloop&&clearTimeout(HR.candidate.ctloop),oldView=!0,!this.view)switch(oldView=!1,this.question.type){case"code":case"approx":case"database":this.view="codeshellx"===ide_type?new HR.RecruitCandidateCodingCodeshellxView({question:this.question,parent:this}):new HR.RecruitCandidateCodingView({question:this.question,parent:this});break;case"design":this.view="codeshellx"===ide_type?new HR.RecruitCandidateDesignCSXView({question:this.question,model:this.model}):new HR.RecruitCandidateDesignView({question:this.question,model:this.model});break;case"mcq":case"multiple_mcq":this.view=new HR.RecruitCandidateMcqView({model:this.model,question:this.question,parent:this});break;case"textAns":this.view=new HR.RecruitCandidateSubjectiveView({question:this.question});break;case"complete":this.view=new HR.RecruitCandidateCompleteView({question:this.question});break;case"rewrite":this.view=new HR.RecruitCandidateRewriteView({question:this.question});break;case"unscramble":this.view=new HR.RecruitCandidateUnscrambleView({question:this.question});break;case"correct_errors":this.view=new HR.RecruitCandidateCorrectErrorsView({question:this.question});break;case"file_upload":this.view=new HR.RecruitCandidateFileUploadView({question:this.question});break;case"diagram":this.view=new HR.RecruitCandidateDiagramView({question:this.question});break;case"project":case"android":this.view=new HR.RecruitCandidateProjectView({question:this.question,model:this.model});break;case"task":this.view=new HR.RecruitCandidateServerTaskView({question:this.question,model:this.model});break;case"sudorank":this.view=new HR.RecruitCandidateSudoRankView({model:this.model,parent:this});break;case"fullstack":"che7"===(dockerInfo=HR.candidate.candidateAttemptModel.get("docker_info"))[this.question.unique_id].backend&&"datascience"===this.question.role_type?this.view=new HR.RecruitCandidateJupyterView({question:this.question,model:this.model,parent:this}):"che7"===dockerInfo[this.question.unique_id].backend?this.view=new HR.RecruitCandidateChe7View({question:this.question,model:this.model,parent:this}):"Che"===dockerInfo[this.question.unique_id].provider?this.view=new HR.RecruitCandidateFullStackCheView({question:this.question,model:this.model,parent:this}):"rba"===dockerInfo[this.question.unique_id].provider?this.view=new HR.RecruitCandidateRbaView({question:this.question,model:this.model,parent:this}):this.view=new HR.RecruitCandidateFullStackView({question:this.question,model:this.model,parent:this});break;default:viewfound=!1}if(this.view.render_krackjack=render_krackjack,viewfound?(oldView&&!forceReRender?this.view.render():(this.add_subview(this.view),this.$(".qcontent").html(this.view.render().el)),"complete"!==(ref=this.question.type)&&"rewrite"!==ref&&"unscramble"!==ref&&"correct_errors"!==ref||this.$(".challenge-text").html(this.view.get_problem_statement()),this.$(".ans-submit").removeClass("disabled")):(this.$(".qcontent").html("<center>This question type is not implemented.</center>"),this.$(".ans-submit").addClass("disabled")),this.$(".qcontent").addClass("fadeinContent"),HR.candidate.lastQuestionViewed=this.model.get("qno"),show_context_everywhere=!1,"True"===HR.candidate.candidateTestModel.get("enable_contextmenu")&&(show_context_everywhere=!0),disable_paste=!1,"True"===HR.candidate.candidateTestModel.get("disable_paste")&&(disable_paste=!0),$(document).off("contextmenu cut copy paste"),$(document).on("contextmenu cut copy paste",(_this=this,function(e){var prevent,ref1,ref2,ref3,ref4;if(!show_context_everywhere||disable_paste)return prevent=!0,disable_paste&&(prevent=!0),($(e.target).parents("#editor").length||$(document.activeElement).parents("#csx-editor").length||$(e.target).parents(".codekit-editor").length)&&(prevent=!1),(null!=(ref1=e.target)&&null!=(ref2=ref1.id)?ref2.startsWith("cke_"):void 0)&&(prevent=!1),"initial_code"===$(e.target).attr("id")&&(prevent=!1),$(e.target).parents("#input-output-help").length>0&&(prevent=!1),"fullstack"===(null!=(ref3=_this.question)?ref3.type:void 0)&&(prevent=!1),"code"!==(ref4=_this.question.type)&&"approx"!==ref4&&"database"!==ref4&&"project"!==ref4&&"android"!==ref4||($(e.target).parents("pre").length>0||$(e.target).is("pre,code,samp,kbd"))&&(prevent=!1),prevent?(e.preventDefault(),HR.util.candidatemsg("Right click and copy/paste are not available in this region. You may paste in the code editor.",!1,!0,2)):void 0})),disable_paste)return $(document).off("contextmenu cut copy paste"),$(document).on("contextmenu cut copy paste",function(e){return e.preventDefault(),HR.util.candidatemsg("Cut/copy/paste disabled for this test.",!1,!0,2)})},RecruitCandidateQuestionView.prototype.destroy=function(){return $("body").removeClass("splitview-body"),RecruitCandidateQuestionView.__super__.destroy.call(this)},RecruitCandidateQuestionView}(window.HR.GenericView),RecruitCandidateMcqView=function(superClass){function RecruitCandidateMcqView(){return RecruitCandidateMcqView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateMcqView,superClass),RecruitCandidateMcqView.prototype.template="recruit/question-mcq",RecruitCandidateMcqView.prototype.className="question-mcq",RecruitCandidateMcqView.prototype.events={"click input[name='mcqopts']":"setDirty","change .mcq-question-choices input[type=radio]":"submitMcqAnswer","change .mcq-question-choices input[type=checkbox]":"submitMcqAnswer","click .clearall":"clearAllMcq","keydown .mcq-question-choices input[type='radio']":"disableRadioSelection"},RecruitCandidateMcqView.prototype.setDirty=function(){if(HR.candidate.candidateAttemptModel&&"testing"===HR.candidate.candidateAttemptModel.get("id"))return window.HR.appView.dirty=!0},RecruitCandidateMcqView.prototype.initialize=function(options){return this.question=options.question,this.model=options.model,this.parent=options.parent},RecruitCandidateMcqView.prototype._render=function(){return $(this.el).html(HR.appController.template(this.template,this)({question:this.question})),this.set_answer(),this},RecruitCandidateMcqView.prototype.clearAllMcq=function(e){var ref,ref1,ref2,ref3,ref4,ref5,ref6,ref7,track_data;e.preventDefault(),track_data={test_id:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,question_id:null!=(ref2=HR.candidate)?ref2.currentQuestion:void 0,company_id:(null!=(ref3=HR.candidate)&&null!=(ref4=ref3.candidateTestModel)?ref4.get("company_id"):void 0)||null,hacker_id:(null!=(ref5=HR.candidate)&&null!=(ref6=ref5.candidateAttemptModel)?ref6.get("hacker_id"):void 0)||null,attribute11:null!=(ref7=HR.util)?ref7.isPublicLink():void 0},HR.util.candidateTrack("Click","MCQClearSelection",track_data),this.$("input[name=mcqopts-"+this.question.unique_id+"]").attr("checked",!1),this.answer()&&this.parent.submitAnswer(e)},RecruitCandidateMcqView.prototype.disableRadioSelection=function(e){if([37,38,39,40].indexOf(e.which>-1))return $(this).blur(),!1},RecruitCandidateMcqView.prototype.submitMcqAnswer=function(e){return this.parent&&this.parent.submitAnswer(e)},RecruitCandidateMcqView.prototype.answer=function(){var answer,o,_this;return"mcq"===this.question.type?(answer=(o=this.$("input[name=mcqopts-"+this.question.unique_id+"]:checked").val())||(this.question.solve?-1:null),this.question.explanation_box&&"true"===this.question.explanation_box?{explanation:this.$("textarea[name=explanation]").val(),answer:answer}:answer):(o=[],_.each(this.$("input[name=mcqopts-"+this.question.unique_id+"]:checked"),(_this=this,function(e){return o.push(_this.$(e).val())})),o.length?o:this.question.solve?-1:null)},RecruitCandidateMcqView.prototype.setSubmittedText=function(answers){var transformedAnswers;return"mcq"===this.question.type&&(answers=[answers]),transformedAnswers=_.map(answers,function(answer){return String.fromCharCode(parseInt(answer)+64)}),this.$(".submitted-"+this.question.unique_id).text(transformedAnswers.join(", ")),this.$(".submitted-container-"+this.question.unique_id).removeClass("hidden")},RecruitCandidateMcqView.prototype.hideSubmittedText=function(){return this.$(".submitted-container-"+this.question.unique_id).addClass("hidden")},RecruitCandidateMcqView.prototype.set_answer=function(){var ans,j,len,metadata,ref;if(this.question.solve){if("mcq"===this.question.type)this.$("input#mcqopts-"+this.question.unique_id+this.question.solve.answer.answer).prop("checked",!0),this.question.explanation_box&&"true"===this.question.explanation_box&&this.question.solve.metadata&&(metadata=JSON.parse(this.question.solve.metadata),this.$("textarea[name=explanation]").val(metadata.explanation));else for(j=0,len=(ref=this.question.solve.answer.answer).length;j<len;j++)ans=ref[j],this.$("input#mcqopts-"+this.question.unique_id+ans).prop("checked",!0);return this.setSubmittedText(this.question.solve.answer.answer)}},RecruitCandidateMcqView}(window.HR.GenericView),RecruitCandidateSubjectiveView=function(superClass){function RecruitCandidateSubjectiveView(){return RecruitCandidateSubjectiveView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateSubjectiveView,superClass),RecruitCandidateSubjectiveView.prototype.template="recruit/question-subjective",RecruitCandidateSubjectiveView.prototype.className="question-subjective",RecruitCandidateSubjectiveView.prototype.initialize=function(options){return this.question=options.question},RecruitCandidateSubjectiveView.prototype._render=function(){var autoSaveNamespace,_this;return this.$el.html(HR.appController.template(this.template,this)),HR.candidate&&HR.candidate.candidateAttemptModel?(this.aid=HR.candidate.candidateAttemptModel.get("id"),autoSaveNamespace=this.aid+"-"+this.question.unique_id):autoSaveNamespace=null,this.editor=new HR.CkeditorLoaderView({instance_name:"editorsub",hideThrobber:!1,config:{toolbar:[["Bold","Italic","Underline","Subscript","Superscript","-","NumberedList","BulletedList","-","Indent","Outdent","-","CodeSnippet"]],resize_enabled:!1,toolbarCanCollapse:!1,autoGrow_onStartup:!0,extraAllowedContent:"iframe[*];*{*}",removePlugins:"elementspath,liststyle",extraPlugins:"codesnippet",disableNativeSpellChecker:!1,bodyClass:"hrx-version challenge-text ck_table-wrap",htmlEncodeOutput:!0,tabSpaces:4,language:"en",defaultLanguage:"en"},useDirty:!!autoSaveNamespace,contents:this.question.solve?this.question.solve.answer.answer:null,localstorageNamespace:autoSaveNamespace}),this.add_subview(this.editor),this.editor.on("focus",(_this=this,function(){return _this.trigger("ckeditorFocus")})),this.editor.on("blur",function(_this){return function(){return _this.trigger("ckeditorBlur")}}(this)),this.editor.render()},RecruitCandidateSubjectiveView.prototype.answer=function(){return{code:this.editor.getData(),language:"richtext"}},RecruitCandidateSubjectiveView.prototype.set_answer=function(){if(this.question.solve)return this.editor.setData(this.question.solve.answer.answer)},RecruitCandidateSubjectiveView}(window.HR.GenericView),RecruitCandidateFileUploadView=function(superClass){function RecruitCandidateFileUploadView(){return RecruitCandidateFileUploadView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateFileUploadView,superClass),RecruitCandidateFileUploadView.prototype.template="recruit/question-fileupload",RecruitCandidateFileUploadView.prototype.className="question-fileupload",RecruitCandidateFileUploadView.prototype.events={"change #candidate-file-input":"setUploadText"},RecruitCandidateFileUploadView.prototype.initialize=function(options){return this.question=options.question},RecruitCandidateFileUploadView.prototype.render=function(){return $(this.el).html(HR.appController.template(this.template,this)({question:this.question})),this.set_answer(),this},RecruitCandidateFileUploadView.prototype.answer=function(){return $(":file").val()?$(":file"):!(!this.question.solve||!this.question.solve.answer)&&this.question.solve.answer},RecruitCandidateFileUploadView.prototype.set_answer=function(){if(this.question.solve)return this.show_answer(this.question.solve)},RecruitCandidateFileUploadView.prototype.show_answer=function(solve){var answer,fileName,html,metadata;return fileName="",answer=solve.answer,solve.metadata&&(metadata=JSON.parse(solve.metadata)).filename&&(fileName=metadata.filename),html=HR.util.getFileAnchor(answer,fileName),this.$("#current_answer").html(html),this.$(".current-answer-section").removeClass("hidden")},RecruitCandidateFileUploadView.prototype.setUploadText=function(){return this.$(".file-info").html(_.escape(this.$(":file").val().replace("C:\\fakepath\\","")))},RecruitCandidateFileUploadView}(window.HR.GenericView),RecruitCandidateCompleteView=function(superClass){function RecruitCandidateCompleteView(){return RecruitCandidateCompleteView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateCompleteView,superClass),RecruitCandidateCompleteView.prototype.template="recruit/question-completesentence",RecruitCandidateCompleteView.prototype.className="question-complete",RecruitCandidateCompleteView.prototype.initialize=function(options){return this.question=options.question},RecruitCandidateCompleteView.prototype._render=function(){return $(this.el).html(HR.appController.template(this.template,this)({question:this.question})),this},RecruitCandidateCompleteView.prototype.postrender=function(){return setTimeout((_this=this,function(){return _this.set_answer()}));var _this},RecruitCandidateCompleteView.prototype.answer=function(){return _.map($('input[name^="blank"]'),function(e){return $(e).val()})},RecruitCandidateCompleteView.prototype.set_answer=function(){var cnt;if(this.question.solve)return cnt=0,_.each(this.question.solve.answer,function(v){return $('input[name="blank'+cnt+'"]').val(v),cnt+=1})},RecruitCandidateCompleteView.prototype.get_problem_statement=function(){var cnt,problem_statement,q;for(q=this.question.complete_string.replace(/\n/g,"<br>"),cnt=0,problem_statement="<h4>Complete the blanks in the following question with the appropriate answer.</h4><br/>",_.isEmpty(this.question.question)?problem_statement+="":problem_statement+=this.question.question;-1!==q.search("{blank}");)q=q.replace("{blank}","<input type = 'text' size = '20' autocomplete = 'off' class = 'complete-question' name='blank"+cnt+"'/>"),cnt+=1;return problem_statement+=q},RecruitCandidateCompleteView}(window.HR.GenericView),RecruitCandidateRewriteView=function(){function RecruitCandidateRewriteView(){return RecruitCandidateRewriteView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateRewriteView,RecruitCandidateCompleteView),RecruitCandidateRewriteView.prototype.get_problem_statement=function(){var cnt,problem_statement,q;for(q=this.question.complete_string,cnt=0,problem_statement="<h4>Complete the following sentences while retaining the meaning of the original sentence.</h4>\n<hr/>\n<small>\n1. You can add new words only if absolutely required.<br/><br/>\n<i>Example: I'm sure you would have got the feedback report from our team.<br/>\nAnswer: Our team would have send the feedback to you I\u2019m sure.</i><br/>\n</small>\n<hr/><br/>",problem_statement+=this.question.question+"<br/>";-1!==q.search("{blank}");)q=q.replace("{blank}","<input type='text' autocomplete='off' class='complete-question' name='blank"+cnt+"'/>"),cnt+=1;return problem_statement+=q},RecruitCandidateRewriteView}(),RecruitCandidateCorrectErrorsView=function(superClass){function RecruitCandidateCorrectErrorsView(){return RecruitCandidateCorrectErrorsView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateCorrectErrorsView,superClass),RecruitCandidateCorrectErrorsView.prototype.template="recruit/question-correcterrors",RecruitCandidateCorrectErrorsView.prototype.className="question-correcterrors",RecruitCandidateCorrectErrorsView.prototype.initialize=function(options){return this.question=options.question,this.original=this.question.question},RecruitCandidateCorrectErrorsView.prototype._render=function(){return $(this.el).html(HR.appController.template(this.template,this)({question:this.original})),this.set_answer(),this},RecruitCandidateCorrectErrorsView.prototype.set_answer=function(){return this.question.solve&&this.question.solve.answer?this.$("textarea").val(this.question.solve.answer):this.$("textarea").val(this.question.plain_text),this.$("textarea").addClass("xtall resizey")},RecruitCandidateCorrectErrorsView.prototype.answer=function(){return this.$("#answer").val()},RecruitCandidateCorrectErrorsView.prototype.get_problem_statement=function(){return"<h4>Correct the errors by editing the paragraphs given in the text box.</h4>\n<div class=\"clear\"></div>\n<br/>\n<small>\n1. You may need to change word forms (e.g., work vs working) or add function words (e.g., is, can, a, for). <br/>\n2. Do not include or add words if not absolutely required.<br/>\n3. The editing has to be done by you. Do not provide instructions for editing.<br/>\n<br/>\n<em>Example: You can used Facebook as advertising platform with your painting exhibition\n<br/>\nAnswer: Correct Format: You can <strong>use</strong> Facebook as <strong>an</strong> advertising platform <strong>for</strong> your painting exhibition.<br/>\nIncorrect Format: You can <del>used</del> (delete 'used' and include 'use') <strong>use</strong> Facebook as <strong>an</strong> (include \u2018an\u2019) advertising platform <del>with</del> (delete 'with' and include 'for') <strong>for</strong> your painting exhibition.\n</em><br/>\n</small>"},RecruitCandidateCorrectErrorsView}(window.HR.GenericView),RecruitCandidateUnscrambleView=function(){function RecruitCandidateUnscrambleView(){return RecruitCandidateUnscrambleView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateUnscrambleView,RecruitCandidateCorrectErrorsView),RecruitCandidateUnscrambleView.prototype.className="question-unscramble",RecruitCandidateUnscrambleView.prototype.initialize=function(options){return this.question=options.question,this.original=$("<div>"+this.question.question+"</div>").text()},RecruitCandidateUnscrambleView.prototype.events=function(){return{"keyup textarea":"strikeUsedWords"}},RecruitCandidateUnscrambleView.prototype.set_answer=function(){return this.question.solve&&this.question.solve.answer&&(this.$("textarea").val(this.question.solve.answer),setTimeout(this.strikeUsedWords,100)),this.$("textarea").addClass("tall resizex")},RecruitCandidateUnscrambleView.prototype.strikeUsedWords=function(){var words,_this;return this.$("#ques").html(this.original),words=this.$("textarea").val().replace(/[^a-zA-Z 0-9]+/g,"").toLowerCase().split(" "),_.each(words,(_this=this,function(word){return _this.$("#ques").contents().each(function(){var reg;if(""!==(word=$.trim(word))&&3===this.nodeType)return reg=new RegExp("\\b"+word+"\\b"),this.nodeValue=this.nodeValue.replace(reg,"<del>"+word+"</del>")})})),this.$("#ques").html(this.$("#ques").text())},RecruitCandidateUnscrambleView.prototype.get_problem_statement=function(){return'<h4>Rearrange the words in the text box to form grammatical sentences.</h4>\n<div class="clear"></div>\n<br/>\n<small>\n1. Do not delete words or add words not included in the original sentence.\n<br/>\n2. Example: [lamb had a little Mary = Mary had a little lamb.]\n</small>'},RecruitCandidateUnscrambleView}(),RecruitCandidateDiagramView=function(superClass){function RecruitCandidateDiagramView(){return this.saveDiagram=bind(this.saveDiagram,this),this.initializeDiagramView=bind(this.initializeDiagramView,this),RecruitCandidateDiagramView.__super__.constructor.apply(this,arguments)}
return extend(RecruitCandidateDiagramView,superClass),RecruitCandidateDiagramView.prototype.template="recruit/question-diagram",RecruitCandidateDiagramView.prototype.className="question-diagram",RecruitCandidateDiagramView.prototype.initialize=function(options){return this.question=options.question},RecruitCandidateDiagramView.prototype._render=function(){var _this;return HR.candidate&&HR.candidate.candidateAttemptModel?(this.aid=HR.candidate.candidateAttemptModel.get("id"),this.autoSaveNamespace=this.aid+"-"+this.question.unique_id,this.autoSaveNamespaceText=this.aid+"-"+this.question.unique_id+"-text"):(this.aid="testing",this.autoSaveNamespace=null,this.autoSaveNamespaceText=null),this.editor_text=new HR.CkeditorLoaderView({instance_name:"editordiag",hideThrobber:!1,config:{toolbar:[["Bold","Italic","Underline","Subscript","Superscript","-","NumberedList","BulletedList","-","Indent","Outdent","-","CodeSnippet"]],resize_enabled:!1,toolbarCanCollapse:!1,autoGrow_onStartup:!0,extraAllowedContent:"iframe[*];*{*}",removePlugins:"elementspath,liststyle",extraPlugins:"codesnippet",disableNativeSpellChecker:!1,bodyClass:"hrx-version challenge-text ck_table-wrap",htmlEncodeOutput:!0,tabSpaces:4},useDirty:!!this.autoSaveNamespaceText,contents:this.question.solve?this.question.solve.answer.description:null,localstorageNamespace:this.autoSaveNamespaceText}),this.add_subview(this.editor_text),this.editor_text.on("focus",(_this=this,function(){return _this.trigger("ckeditorFocus")})),this.editor_text.on("blur",function(_this){return function(){return _this.trigger("ckeditorBlur")}}(this)),this.editor_text.render(),HR.appController.loadGraphLibraries(function(_this){return function(){return mxResources.loadDefaultBundle=!1,_this.bundle=mxResources.getDefaultBundle(RESOURCE_BASE,mxLanguage)||mxResources.getSpecialBundle(RESOURCE_BASE,mxLanguage),mxUtils.getAll([_this.bundle,STYLE_PATH+"/default.xml"],function(xhr){var choices,editorDiv;return mxResources.parse(xhr[0].getText()),_this.themes=new Object,_this.themes[Graph.prototype.defaultThemeName]=xhr[1].getDocumentElement(),editorDiv=$("#geEditor")[0],_this.editor=new Editor("0"===urlParams.chrome,_this.themes),choices=_this.question.custom_draw_menus,_this.ui=new EditorUi(_this.editor,editorDiv,!1,choices.join(";"),{hideFormatbar:!0,hideMenubar:!0}),_this.ui.setPageVisible(!1),_this.graph=_this.editor.graph,_this,_this.codec=new mxCodec,_this.initializeDiagramView(),_this.editor.graph.getModel().addListener(mxEvent.CHANGE,function(){if("testing"!==_this.aid)return window.HR.appView.dirty=!0})})}}(this),function(){return console.log("error")}),$(this.el).html(HR.appController.template(this.template,this)({question:this.question}))},RecruitCandidateDiagramView.prototype.initializeDiagramView=function(){if("testing"===this.aid&&(this.autoSaveNamespace="testing"),this.localSubmissionData=$.jStorage.get(this.autoSaveNamespace),this.xml="",this.localSubmissionData?this.xml=this.localSubmissionData.xml:this.xml=null,this.xml&&this.ui&&mxGraphFiles.load_xml(this.ui,this.xml),this.ui)return this.ui.editor.graph.model.addListener(mxEvent.CHANGE,(_this=this,function(){return _this.saveDiagram()}));var _this},RecruitCandidateDiagramView.prototype.saveDiagram=function(){return $.jStorage.set(this.autoSaveNamespace,mxGraphFiles.save(this.ui))},RecruitCandidateDiagramView.prototype.answer=function(){var diag;return diag=mxGraphFiles.save(this.ui),{description:this.editor_text.getData(),language:"richtext",svg:diag.svg,xml:diag.xml}},RecruitCandidateDiagramView.prototype.set_answer=function(){if(this.question.solve)return this.editor_text.setData(this.question.solve.answer.description)},RecruitCandidateDiagramView}(window.HR.GenericView),RecruitCandidateServerTaskView=function(superClass){function RecruitCandidateServerTaskView(){return RecruitCandidateServerTaskView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateServerTaskView,superClass),RecruitCandidateServerTaskView.prototype.template="recruit/question-servertask",RecruitCandidateServerTaskView.prototype.className="question-servertask",RecruitCandidateServerTaskView.prototype.events={"click .js-startserver":"startServer","click .js-refreshserver":"refreshServer","click .js-webshell":"useWeb","click .js-terminal":"useTerm","click .js-webshell-help":"popupTmuxHelp","click .js-opennewtab":"openNewTab"},RecruitCandidateServerTaskView.prototype.initialize=function(options){return this.question=options.question,this.model=options.model,this.states={5:"Launching server",10:"Setting up task environment",20:"Almost ready..",50:"Server no longer accessible"}},RecruitCandidateServerTaskView.prototype.render=function(){var finished,ref,ref1,server_state,user_accessible;return clearInterval(window.taskRefreshTimer),server_state=null,user_accessible=!1,!1,finished=!1,this.question.solve&&this.question.solve.task_attempt&&(server_state=this.states[this.question.solve.task_attempt.state],20===(ref=this.question.solve.task_attempt.state)||30===ref?user_accessible=!0:5===(ref1=this.question.solve.task_attempt.state)||10===ref1?!0:finished=!0),$(this.el).html(HR.appController.template(this.template,this)({question:this.question,server_state:server_state,user_accessible:user_accessible,task_attempt:this.question.solve&&this.question.solve.task_attempt?this.question.solve.task_attempt:null,use_web:HR.candidate.websshpreferred,finished:finished})),user_accessible||finished||(window.taskRefreshTimer=setInterval(function(){return $(".js-refreshserver").trigger("click")},1e4)),this},RecruitCandidateServerTaskView.prototype.useWeb=function(e){return e.preventDefault(),HR.candidate.websshpreferred=!0,this.render()},RecruitCandidateServerTaskView.prototype.useTerm=function(e){return e.preventDefault(),HR.candidate.websshpreferred=!1,this.render()},RecruitCandidateServerTaskView.prototype.openNewTab=function(){return HR.candidate.websshpreferred=!1,this.render()},RecruitCandidateServerTaskView.prototype.popupTmuxHelp=function(e){return e.preventDefault(),HR.util.alert({closebutton:!0,title:"Webshell keyboard shortcuts",message:'<small>Hackerrank webshell interface is powered by tmux - a terminal server running on servers, which stores sessions, and allows for creation of windows/panes. Below are keyboard shortcuts you can use to make use of these features.</small>\n<br/><br/>\n<div class="table-wrap text-center" style="font-size:smaller">\n<header class="row">\n    <div class="span-flex-8">Action</div>\n    <div class="span-flex-7">Shortcut</div>\n</header>\n<div class="table-body">\n  <div class="row">\n    <div class="span-flex-8">Master key</div>\n    <div class="span-flex-7">ctrl+a</div>\n  </div>\n  <div class="row">\n    <div class="span-flex-8">Create a new window</div>\n    <div class="span-flex-7">ctrl+a , c</div>\n  </div>\n  <div class="row">\n    <div class="span-flex-8">Switch to window (number)</div>\n    <div class="span-flex-7">ctrl+a, (num)</div>\n  </div>\n  <div class="row">\n    <div class="span-flex-8">Split window to 2 panes (horizontal)</div>\n    <div class="span-flex-7">ctrl+a, |<br/>pipe character</div>\n  </div>\n  <div class="row">\n    <div class="span-flex-8">Split window to 2 panes (vertical)</div>\n    <div class="span-flex-7">ctrl+a, -<br/>minus character</div>\n  </div>\n  <div class="row">\n    <div class="span-flex-8">Switch panes</div>\n    <div class="span-flex-7">ctrl+a, arrow-keys<br/>or use mouse click</div>\n  </div>\n  <div class="row">\n    <div class="span-flex-8">Scrolling terminal/pane</div>\n    <div class="span-flex-7">ctrl+a, [ , and then arrow keys</div>\n  </div>\n</div>\n'})},RecruitCandidateServerTaskView.prototype.refreshServer=function(){var uid;return this.$(".js-refreshserver").html("Refreshing.."),HR.candidate.redirectBackTo=Backbone.history.fragment,uid=HR.candidate.candidateTestModel.get("unique_id"),HR.candidateNavigate(uid+"/redirect")},RecruitCandidateServerTaskView.prototype.startServer=function(e){var btn,request_params;if(e.preventDefault(),!(btn=this.$(e.currentTarget)).attr("disabled"))return null===this.question.solve?(btn.html("Starting server.."),btn.attr("disabled","disabled"),request_params={url:"/recruit/attempts/"+HR.candidate.candidateAttemptModel.get("id")+"/solves",data:{qid:this.model.get("unique_id"),answer:""},dataType:"json",type:"POST",success:function(){var uid;return HR.candidate.redirectBackTo=Backbone.history.fragment,uid=HR.candidate.candidateTestModel.get("unique_id"),HR.candidateNavigate(uid+"/redirect")},error:function(){var uid;return HR.util.alert("Could not setup server. Did you already create one?"),uid=HR.candidate.candidateTestModel.get("unique_id"),HR.candidateNavigate(uid+"/redirect")}},$.ajax(request_params)):void HR.util.alert({message:"You've already setup a server in this test."})},RecruitCandidateServerTaskView}(window.HR.GenericView),RecruitCandidateSudoRankView=function(superClass){function RecruitCandidateSudoRankView(){return RecruitCandidateSudoRankView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateSudoRankView,superClass),RecruitCandidateSudoRankView.prototype.template="recruit/sudorank",RecruitCandidateSudoRankView.prototype.className="sudorank",RecruitCandidateSudoRankView.prototype.initialize=function(options){return this.parent=options.parent,this._subviews=[]},RecruitCandidateSudoRankView.prototype.answer=function(){return null},RecruitCandidateSudoRankView.prototype.render=function(){return $(this.el).html(HR.appController.template(this.template,this)),this.alertview=new RecruitCandidateServerAlertView,this.assign({".js-alert":this.alertview}),this._subviews.push(this.alertview),this.parent.$(".ans-submit").html("Continue"),this},RecruitCandidateSudoRankView}(window.HR.GenericView),RecruitCandidateServerAlertView=function(superClass){function RecruitCandidateServerAlertView(){return RecruitCandidateServerAlertView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateServerAlertView,superClass),RecruitCandidateServerAlertView.prototype.template="recruit/sudorankinfo",RecruitCandidateServerAlertView.prototype.className="sudorankinfo",RecruitCandidateServerAlertView.prototype.initialize=function(){},RecruitCandidateServerAlertView.prototype.render=function(){var ref,ta;return $(this.el).html(HR.appController.template(this.template,this)),5===(ref=(ta=HR.candidate.candidateAttemptModel.get("task_attempt")).state)||10===ref?(clearInterval(window.checkLoop),window.checkLoop=setInterval(function(){var attempt;return(attempt=new HR.CandidateAttemptModel).setAid(HR.candidate.candidateTestModel.get("attempt")),attempt.fetch({success:function(m){if((ta=m.get("task_attempt"))&&20===ta.state)return clearInterval(window.checkLoop),HR.util.alert({title:"Server available",message:"Your task server has been initialized. Please click OK to refresh latest details.",callback:function(){return HR.candidateNavigate(HR.candidate.candidateTestModel.get("unique_id")+"/redirect")}})}})},2e4)):20===ta.state?(this.$(".serverdetails").html("<pre>\n<strong>User</strong>: "+ta.username+"\n<strong>Server</strong>: "+ta.ip_address+"\n<strong>Password</strong>: "+ta.password+"\n\n<strong>Command</strong>: ssh "+ta.username+"@"+ta.ip_address+"\n</pre>"),ta.admin_attempt&&this.$(".js-admin").removeClass("hidden")):203===ta.state&&this.$(".serverdetails").html("<pre>\n<strong>Error:</strong> Setup timeout\n\n<p>There was an issue setting up the server for this test. Please contact support or the recruiter who invited you for a resolution.</p>\n</pre>"),this},RecruitCandidateServerAlertView}(window.HR.GenericView),RecruitCandidateFooterView=function(superClass){function RecruitCandidateFooterView(){return RecruitCandidateFooterView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateFooterView,superClass),RecruitCandidateFooterView.prototype.template="recruit/footer",RecruitCandidateFooterView.prototype.className="footer",RecruitCandidateFooterView.prototype.initialize=function(){},RecruitCandidateFooterView.prototype.render=function(){return $("footer").show(),HR.candidate.candidateTestModel.get("footer_copyright"),$(this.el).html(HR.appController.template(this.template,this)({test:HR.candidate.candidateTestModel.toJSON()})),this},RecruitCandidateFooterView}(window.HR.GenericView),RecruitCandidateTopBarView=function(superClass){function RecruitCandidateTopBarView(){return RecruitCandidateTopBarView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateTopBarView,superClass),RecruitCandidateTopBarView.prototype.el="#navigation",RecruitCandidateTopBarView.prototype.template="recruit/topbar",RecruitCandidateTopBarView.prototype.className="topbar",RecruitCandidateTopBarView.prototype.TIME_LEFT_FOR_ALERT=300,RecruitCandidateTopBarView.prototype.TEST_DURATION_ALERT_THRESHOLD=120,RecruitCandidateTopBarView.prototype.LONG_PING_TIME=6e4,RecruitCandidateTopBarView.prototype.QUICK_PING_TIME=1e4,RecruitCandidateTopBarView.prototype.fullScreeenMode=function(){var _this;if(screenfull&&!(HR.candidate.candidateAttemptModel.get("attempt_done")&&!0===HR.candidate.candidateAttemptModel.get("attempt_done")||(clearTimeout(this.fullscreenTimer),this.fullscreenTimer=setTimeout((_this=this,function(){return screenfull.isFullscreen||0!==$(".hr-dialog").length||(_this.renderedDialog=!1),_this.fullScreeenMode()}),2e3),this.renderedDialog)))return"undefined"==typeof this.renderedDialog&&document.addEventListener(screenfull.raw.fullscreenchange,function(_this){return function(){if(!screenfull.isFullscreen&&"logout"!==HR.candidate.candidateTestModel.action)return _this.renderedDialog=!1,_this.fullScreeenMode()}}(this)),this.renderedDialog=!0,HR.util.alert({title:"Require secure full-screen mode",message:"This test requires your browser to be in a secure full-screen mode. Note that all attempts to exit the full screen mode will be logged. Press OK to continue with the test.",callback:function(){if(screenfull.enabled)return $(".page-header").css("left","0"),"undefined"==typeof MSEventObj?($("html").css("overflow-y","scroll"),screenfull.request()):($("#HackerRank-main, html").css("overflow","auto"),$("#HackerRank-main").css("width","100%"),screenfull.request($("#HackerRank-main")[0]))}})},RecruitCandidateTopBarView.prototype.secureMonitoring=function(){var DELAY,logEvent;if(!this.secureMonitoringActive&&HR.candidate.candidateAttemptModel)return this.secureMonitoringActive=!0,DELAY=2e3,$(window).on("focus",function(){var eventId,ref,ref1,ref2;return eventId=setTimeout(function(){return logEvent({action:"focus",eid:8})},DELAY),null!=(ref=HR.candidate)&&null!=(ref1=ref.questionView)&&null!=(ref2=ref1.view)?ref2.off("ckeditorBlur").on("ckeditorBlur",function(){return clearTimeout(eventId)}):void 0}),$(window).on("blur",function(){var eventId,ref,ref1,ref2;return eventId=setTimeout(function(){return logEvent({action:"blur",eid:7})},DELAY),null!=(ref=HR.candidate)&&null!=(ref1=ref.questionView)&&null!=(ref2=ref1.view)?ref2.off("ckeditorFocus").on("ckeditorFocus",function(){return clearTimeout(eventId)}):void 0}),logEvent=function(data){if(!HR.candidate.candidateTestModel||!HR.candidate.candidateTestModel.get("attempt_done"))return data.insertTime=new Date(Date.now()-DELAY),HR.candidate.testEvents.add(data)}},RecruitCandidateTopBarView.prototype.initialize=function(){return this.countdownSecondsLeft=null,this.firstLoad=!0},RecruitCandidateTopBarView.prototype.getTimeLeft=function(){return HR.candidate.candidateTestModel.get("sectional")?HR.candidate.candidateAttemptModel.get("section_time_left"):HR.candidate.candidateAttemptModel.get("time_left")},RecruitCandidateTopBarView.prototype.timerForSection=function(){return HR.candidate.candidateTestModel.get("sectional")&&HR.candidate.candidateAttemptModel.get("section_time_left")!==HR.candidate.candidateAttemptModel.get("time_left")},RecruitCandidateTopBarView.prototype.setAlertClass=function(time_left){return time_left<this.TIME_LEFT_FOR_ALERT?$(".timerspan").addClass("alerttimer"):$(".timerspan").removeClass("alerttimer")},RecruitCandidateTopBarView.prototype.setCodeKitTimer=function(text,timeLeft){if(null!=("undefined"!=typeof codekitApp&&null!==codekitApp?codekitApp.app:void 0))return timeLeft<this.TIME_LEFT_FOR_ALERT?codekitApp.app.trigger("updateTimer",text,!0):codekitApp.app.trigger("updateTimer",text,!1)},RecruitCandidateTopBarView.prototype.checkGitAlert=function(){var dockerInfo,gitAlertTimestamp,gitAlertsClosed,question_id,wsagentAlertTimestamp;if(HR.candidate.currentQuestion&&window.showGitAlert&&window.showWsagentAlert&&(question_id=HR.candidate.currentQuestion,dockerInfo=HR.candidate.candidateAttemptModel.get("docker_info")[question_id],gitAlertsClosed=$.jStorage.get("git-alert-seen"),wsagentAlertTimestamp=$.jStorage.get("wsagentAlertTimestamp"),gitAlertTimestamp=$.jStorage.get("gitAlertTimestamp"),dockerInfo&&dockerInfo.wsagent_unreachable_count>0&&(wsagentAlertTimestamp||$.jStorage.set("wsagentAlertTimestamp",new Date),window.showWsagentAlert()),dockerInfo&&dockerInfo.workspace_restarts>0&&(!gitAlertsClosed||!gitAlertsClosed[dockerInfo.agent.split("-")[0]])))return gitAlertTimestamp||$.jStorage.set("gitAlertTimestamp",new Date),window.showGitAlert(dockerInfo)},RecruitCandidateTopBarView.prototype.saveWebcamSnap=function(){if(!HR.candidate.candidateTestModel.get("attempt_done"))return Webcam.snap(function(imagedata){var data,signature;return data={proctor_image:imagedata},signature=imagedata.length+"-"+imagedata[800]+"-"+imagedata[1200]+"-"+imagedata[1500]+"-"+imagedata[1600],HR.candidate.lastImageSignature===signature?(HR.webcamUnavailable(),HR.util.alert({title:"Issue with camera",message:"It looks like the webcam is unable to properly get a camera feed. This can happen due to frozen or blank feed, or if a browser extention or another application is interfering with the feed. you'll be taken to the webcam page to reset your camera.",okCallback:function(){return HR.candidateNavigate(HR.candidate.candidateTestModel.get("unique_id")+"/webcam")},cancelCallback:function(){return HR.candidateNavigate(HR.candidate.candidateTestModel.get("unique_id")+"/webcam")}})):(HR.candidate.lastImageSignature=signature,HR.candidate.candidateAttemptModel.save(data,{success:function(){return HR.candidate.candidateAttemptModel.unset("proctor_image")}}))})},RecruitCandidateTopBarView.prototype.pauseTimer=function(){return this.$(".timer-tag").html("Paused"),this.$(".is-countdown").addClass("hidden")},RecruitCandidateTopBarView.prototype.unpauseTimer=function(){return this.$(".timer-tag").html(""),this.$(".is-countdown").removeClass("hidden"),this.updateTimer()},RecruitCandidateTopBarView.prototype.updateTimer=function(){var serversolve,task,taskStarted,time_left,_this;return task=!1,taskStarted=!1,HR.candidate.candidateTestModel.get("task_test")&&!HR.candidate.candidateTestModel.get("attempt_done")&&(task=!0,(serversolve=HR.candidate.candidateAttemptModel.get("solve_mapping")[HR.candidate.candidateAttemptModel.get("questions")[0].unique_id])&&serversolve.task_accessible?taskStarted=!0:($("#countdown-timer").html("Start server"),$("#timertag").html("to begin timer."),taskStarted=!1)),time_left=this.getTimeLeft(),setTimeout((_this=this,function(){var expiryCallback;return _this.delegateEvents(),$("#countdown-timer").countdown("destroy").countdown({until:time_left,layout:_this.getTimeLayout(time_left),compact:!0}),expiryCallback=function(){return _this.testTimeUp()},$("#countdown-timer").countdown("option","onExpiry",expiryCallback),$("#countdown-timer").countdown("option","tickInterval",5),$("#countdown-timer").countdown("option","onTick",function(a){var i,ref,ref1,seconds;if(HR.candidate._debugLastTicks=[a].concat(HR.candidate._debugLastTicks).slice(0,50),seconds=0,i=6,a.map(function(val){return seconds+=val*Math.pow(60,i),i-=1}),_this.countdownSecondsLeft=seconds,_this.setAlertClass(seconds),_this.setCodeKitTimer($("#countdown-timer").text(),seconds),seconds!==_this.TIME_LEFT_FOR_ALERT||_this.timerForSection()||HR.util.alert({title:"5 minutes remaining!",message:"A friendly reminder - you are down to the last 5 minutes of the test. Make sure you get all your answers in before the clock runs out!",okButtonText:"Dismiss",timeout:60}),(seconds+30)%60==0&&!0===(null!=(ref=HR.candidate.candidateTestModel)?ref.get("enable_proctoring"):void 0)&&_this.saveWebcamSnap(),seconds>1&&seconds<100&&_this.setPingInterval(_this.QUICK_PING_TIME),!0===(null!=(ref1=HR.candidate.candidateTestModel)?ref1.get("enable_proctoring"):void 0)){if(seconds%10==5)return HR.attachwebcam();if(!1===HR.candidate.webcamenabled)return HR.util.alert({title:"Camera unavailable",message:"The app is unable to access the camera. Please press continue to enable access again.",okButtonText:"Continue",callback:function(){return HR.candidateNavigate(HR.candidate.candidateTestModel.get("unique_id")+"/webcam")}})}}),_this.setAlertClass(time_left),task?taskStarted?$("#timertag").html("to end of session"):$("#timertag").html("to start server"):_this.timerForSection()?$("#timertag").html("to section end"):$("#timertag").html(i18next.t("questions_list.to_test_end"))}))},RecruitCandidateTopBarView.prototype.events={"click .js-othertest":"showOtherTests"},RecruitCandidateTopBarView.prototype.showOtherTests=function(e){var buttons;return e.preventDefault(),buttons="",_.each(HR.candidate.candidateTestModel.get("multi_login"),function(t){return buttons+="<br><a href='/tests/"+t.unique_id+"/questions' class='btn btn-primary mdB'>"+t.name+"</a>\n"}),HR.util.alert({title:"Other active tests",message:"You can click on the below to switch tests.<br> "+buttons,okButtonText:"Close",callback:function(){}})},RecruitCandidateTopBarView.prototype.getTimeLayout=function(time_left){return time_left>=86400?"{dn}{dl} {hnn}h":time_left>=7200&&time_left<86400?"{hnn} : {mnn}":time_left>=3600&time_left<86400?"{hnn}h : {mnn}m":time_left>=300&&time_left<3600?"{mnn}m":time_left>=60&&time_left<300?"{mnn}m : {snn}s":"{snn}s"},RecruitCandidateTopBarView.prototype.render=function(){var current_active_questions,current_qhashes,current_section,interval,k,last_section,long_ping_interval,qcount,qdone,ref,ref1,solve_count,_this;if($(this.el).html(HR.appController.template(this.template,this)({test:HR.candidate.candidateTestModel,attempt:HR.candidate.candidateAttemptModel,showalert:this.getTimeLeft<this.TIME_LEFT_FOR_ALERT})),HR.candidate.candidateAttemptModel.get("secure")&&"True"===HR.candidate.candidateAttemptModel.get("secure")?(this.secureMonitoring(),HR.requires(["screenfull/dist/screenfull"],(_this=this,function(){return _this.fullScreeenMode()}))):HR.candidate.candidateTestModel.get("candidate_tab_switch")?this.secureMonitoring():HR.candidate.windowFocushookPresent||(HR.candidate.windowFocushookPresent=!0,window.onfocus=function(){if(HR.candidate.windowBlurred=!1,HR.candidate.showFocusMessage)return HR.candidate.showFocusMessage=!1,HR.util.alert({title:"Refresh needed",message:"The test state changed while you were away, and will be refreshed shortly.",timeout:15,callback:function(){var uid;if(HR.candidate&&HR.candidate.candidateTestModel)return uid=HR.candidate.candidateTestModel.get("unique_id"),HR.candidateNavigate(uid+"/redirect")}})},window.onblur=function(){return HR.candidate.windowBlurred=!0}),this.updateTimer(),this.clearPingInterval(),HR.candidate.candidateAttemptModel.get("attempt_done"))HR.appView.setTopbarView();else{if(qdone=_.keys(HR.candidate.candidateAttemptModel.get("solve_mapping")||{}).length,qcount=HR.candidate.candidateAttemptModel.get("questions").length,this.updateProgress(),HR.candidate.candidateTestModel.get("sectional")){for(k in last_section=(current_section=HR.candidate.candidateAttemptModel.get("section"))===HR.candidate.candidateAttemptModel.get("sections_mapping").length,current_active_questions=_.filter(HR.candidate.candidateAttemptModel.get("questions"),function(q){return!(q.disabled&&!0===q.disabled)}),current_qhashes=_.map(current_active_questions,function(q){return q.unique_id}),solve_count=0,HR.candidate.candidateAttemptModel.get("solve_mapping"))indexOf.call(current_qhashes,k)>=0&&(solve_count+=1);solve_count===current_qhashes.length?last_section?$("button.test-done").addClass("btn-primary"):$("button.section-finish-"+current_section).addClass("btn-primary"):last_section?$("button.test-done").removeClass("btn-primary"):$("button.section-finish-"+current_section).removeClass("btn-primary")}else qdone===qcount?$("button.test-done").addClass("btn-primary"):$("button.test-done").removeClass("btn-primary");long_ping_interval=(null!=(ref=HR.candidate.candidateTestModel)?ref.get("ping_interval"):void 0)?1e3*(null!=(ref1=HR.candidate.candidateTestModel)?ref1.get("ping_interval"):void 0):this.LONG_PING_TIME,interval=this.getTimeLeft()<100?this.QUICK_PING_TIME:long_ping_interval,this.setPingInterval(interval)}return this},RecruitCandidateTopBarView.prototype.updateProgress=function(loader){var progress,qcount,qdone;if(null==loader&&(loader=!1),HR.candidate.candidateAttemptModel&&!0!==HR.candidate.candidateAttemptModel.get("attempt_done"))return qdone=_.keys(HR.candidate.candidateAttemptModel.get("solve_mapping")||{}).length,qcount=HR.candidate.candidateAttemptModel.get("questions").length,progress=Math.floor(100*qdone/qcount),loader?(this.$(".js-progress").addClass("hidden"),this.$(".js-loader").removeClass("hidden")):(this.$(".js-progress").removeClass("hidden"),this.$(".js-loader").addClass("hidden"),this.$(".qdone").html(qdone),this.$(".qcount").html(qcount),this.$(".progress-done").css({width:progress}))},RecruitCandidateTopBarView.prototype.setPingInterval=function(interval){var _this;if(this.currentInterval!==interval)return this.clearPingInterval(),this.currentInterval=interval,HR.candidate.pingTimer=setInterval((_this=this,function(){return _this.ping(),_this.checkGitAlert()}),interval)},RecruitCandidateTopBarView.prototype.clearPingInterval=function(){return HR.candidate.pingTimer&&clearInterval(HR.candidate.pingTimer),HR.candidate.pingTimer=null,this.currentInterval=null},RecruitCandidateTopBarView.prototype.ping=function(pingcallback,opsgenie){var ans,candidateMessage,dat,outerSection,qview,ref,ref1,ref2,ref3,saving,sectional;if(null==pingcallback&&(pingcallback=null),null==opsgenie&&(opsgenie=!1),qview=HR.candidate.questionView,dat={pong:!0,storageSize:$.jStorage.storageSize()},HR.candidate.currentQuestion&&(ans=null!=qview?qview.getAnswerToSave():void 0,saving=!1,ans&&(saving=!0,dat.to_save_code=ans,dat.qid=null!=qview&&null!=(ref=qview.model)?ref.get("unique_id"):void 0)),saving&&"codeshellx"!==HR.candidate.candidateAttemptModel.get("ide_type")&&"textAns"!==(null!=qview&&null!=(ref1=qview.model)?ref1.get("type"):void 0)&&"diagram"!==(null!=qview&&null!=(ref2=qview.model)?ref2.get("type"):void 0)&&null!=qview&&null!=(ref3=qview.view)&&ref3.$("#editor").codeshell("setStatusText","Saving draft.."),HR.candidate.candidateTestModel)return(sectional=HR.candidate.candidateTestModel.get("sectional"))&&(outerSection=HR.candidate.candidateAttemptModel.get("section")),pingcallback&&(dat.candidatestate=HR.util.safeStringify(HR.candidate.candidateAttemptModel),dat.lastTicks=HR.candidate._debugLastTicks),opsgenie&&(dat.opsgenie=!0),dat["clear-candidate-message"]=!1,this.firstLoad&&(candidateMessage=HR.candidate.candidateAttemptModel.get("candidate_frontend_message"),this.isMessageSeen=$.jStorage.get("c-msg-"+candidateMessage),this.isMessageSeen&&(dat["clear-candidate-message"]=!0,$.jStorage.deleteKey("c-msg-"+candidateMessage))),this.firstLoad=!1,HR.candidate.candidateAttemptModel.save({data:dat},{success:function(model){var ref10,ref4,ref5,ref6,ref7,ref8,ref9;if(HR.router.updateAttempt(model.toJSON(),!1),HR.candidate.candidateAttemptModel.unset("data"),saving&&("project"!==(ref4=null!=qview&&null!=(ref5=qview.model)?ref5.get("type"):void 0)&&"android"!==ref4&&"design"!==ref4||("design"===(null!=qview&&null!=(ref6=qview.model)?ref6.get("type"):void 0)?(null!=qview&&null!=(ref7=qview.model)?ref7.get("multiple_files"):void 0)&&(window.HR.appView.dirty=!1):window.HR.appView.dirty=!1),"codeshellx"!==HR.candidate.candidateAttemptModel.get("ide_type")&&"textAns"!==(null!=qview&&null!=(ref8=qview.model)?ref8.get("type"):void 0)&&"diagram"!==(null!=qview&&null!=(ref9=qview.model)?ref9.get("type"):void 0)&&null!=qview&&null!=(ref10=qview.view)&&ref10.$("#editor").codeshell("setStatusText","Draft saved "+moment().format("hh:mm a"))),HR.candidate.windowBlurred&&(sectional&&model.get("section")!==outerSection||model.get("attempt_done"))?HR.candidate.showFocusMessage=!0:sectional&&model.get("section")!==outerSection&&HR.util.alert({title:"Test state changed",message:"The test state has changed, and the question list has to be refreshed.",timeout:15,callback:function(){var uid;return uid=HR.candidate.candidateTestModel.get("unique_id"),HR.candidate.attemptRefreshNeeded=!0,HR.candidateNavigate(uid+"/redirect")}}),pingcallback)return pingcallback(model)},error:function(){var model,ref4,ref5,ref6;if(pingcallback&&((model=HR.candidate.candidateAttemptModel).set("attempt_done",!0),model.set("time_left",0),pingcallback(model)),saving&&"codeshellx"!==HR.candidate.candidateAttemptModel.get("ide_type")&&"textAns"!==(null!=qview&&null!=(ref4=qview.model)?ref4.get("type"):void 0)&&"diagram"!==(null!=qview&&null!=(ref5=qview.model)?ref5.get("type"):void 0))return null!=qview&&null!=(ref6=qview.view)?ref6.$("#editor").codeshell("setStatusText","Unable to save draft."):void 0}})},RecruitCandidateTopBarView.prototype.testTimeUp=function(){var pingcallback,_this;return HR.candidate.disableCaching=!0,HR.candidate.candidateTestModel.get("sectional")&&HR.candidate.candidateAttemptModel.get("time_left")>30?($("#countdown-timer").countdown("destroy").html("Section done."),$(".timerspan").removeClass("alerttimer"),$("#timertag").empty(),HR.candidate.showFocusMessage=!1,HR.util.alert({title:"Section closed",message:"You have exceeded the time limit set for this section.<br><br>All answers you submitted before the time limit have been saved. You will automatically be moved to the next section shortly.",timeout:15,callback:function(){var uid;return $("#fullscreen-wrapper").unbind().hide(),uid=HR.candidate.candidateTestModel.get("unique_id"),HR.candidate.attemptRefreshNeeded=!0,window.HR.appView.dirty=!1,HR.candidateNavigate(uid+"/redirect")}})):(_this=this,pingcallback=function(m){var modalMessage;return!0===m.get("attempt_done")||m.get("time_left")<=2?(_this.clearPingInterval(),modalMessage="Thank you for taking the test. You have used up the allotted time for this test. You will now be redirected to a feedback page where you can leave a message for us about your experience.",m.get("submittable")&&(modalMessage+="<div class='alert info pdA mlT'> <p>There are some unsaved changes in the last question you were attempting. If you would like to save the draft as it is right now, check the box below.<br/><br/> </p> <div class='row mmL mmR'> <div class='span1'> <input type='checkbox' id='savelast'/> </div> <div class='span14'>Yes, consider the draft as my final answer for this problem. </div> </div> </div>"),$("#countdown-timer").countdown("destroy").html("Test done."),$(".timerspan").removeClass("alerttimer"),$("#timertag").empty(),HR.candidate.showFocusMessage=!1,HR.util.alert({title:"Test finished",message:modalMessage,timeout:180,okButtonText:"Proceed",callback:function(){return HR.candidate.candidateTestModel.setAction("logout"),HR.candidate.candidateTestModel.save({how:"forced",submit_last:void 0!==$("#savelast").attr("checked"),currentQuestion:HR.candidate.currentQuestion,candidatestate:HR.util.safeStringify(HR.candidate.candidateAttemptModel)},{success:function(m){var event_value,ref,ref1,ref2,ref3,ref4,ref5,ref6,ref7,track_data;try{HR.util.track("Ended Test",{email_id:HR.candidate.candidateAttemptModel.get("email"),test_id:HR.candidate.candidateTestModel.get("unique_id"),company_name:HR.candidate.candidateTestModel.get("company_name")})}catch(error){}return $("#fullscreen-wrapper").unbind().hide(),event_value=null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,track_data={attempt_id:null!=(ref2=HR.candidate)&&null!=(ref3=ref2.candidateAttemptModel)?ref3.get("id"):void 0,company_id:(null!=(ref4=HR.candidate)&&null!=(ref5=ref4.candidateTestModel)?ref5.get("company_id"):void 0)||null,job_id:(null!=(ref6=HR.candidate)&&null!=(ref7=ref6.candidateAttemptModel)?ref7.get("job_id"):void 0)||null,attribute3:"forced"},HR.util.candidateTrack("CandidateTestComplete",event_value,track_data),window.HR.appView.dirty=!1,HR.candidateNavigate(m.get("unique_id")+"/redirect")},error:function(m,xhr){var err;try{return err=JSON.parse(xhr.responseText).error,
HR.util.alert({title:"Could not log out.",message:err,timeout:15,callback:function(){var ref,ref1;return null!=(null!=(ref=HR.candidate)?ref.candidateQuestions:void 0)&&Backbone.fetchCache.clearItem(HR.candidate.candidateQuestions),null!=(null!=(ref1=HR.candidate)?ref1.candidateTestModel:void 0)&&Backbone.fetchCache.clearItem(HR.candidate.candidateTestModel),window.location.reload()}})}catch(error){return HR.util.alert({title:i18next.t("unable_to_logout.title"),message:i18next.t("unable_to_logout.message")})}}})}})):(_this.clearPingInterval(),_this.ping(function(){return _this.updateTimer(),HR.candidate.disableCaching=!1},!0))},this.clearPingInterval(),this.ping(pingcallback))},RecruitCandidateTopBarView}(window.HR.GenericView),RecruitCandidateSideBarView=function(superClass){function RecruitCandidateSideBarView(){return RecruitCandidateSideBarView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateSideBarView,superClass),RecruitCandidateSideBarView.prototype.template="recruit/sidebar",RecruitCandidateSideBarView.prototype.className="sbar",RecruitCandidateSideBarView.prototype.el="#side-navigation",RecruitCandidateSideBarView.prototype.icon_types={QUESTION_ANSWERED:"nav",QUESTION_UNANSWERED:1,QUESTION_LIST:2},RecruitCandidateSideBarView.prototype.events={"click .js-navlink":"handleSideNav"},RecruitCandidateSideBarView.prototype.render=function(){var qindex,sectionObj,url,_this;return this.undelegateEvents(),HR.candidate.ongoingQuestionNavigation=!1,url=Backbone.history.fragment,sectionObj={},_.reduce(HR.candidate.candidateTestModel.get("section_slots_decoded")||HR.candidate.candidateTestModel.get("time_slots_decoded"),function(startQuestion,currVal){return sectionObj[startQuestion]={name:currVal.name},startQuestion+currVal.questions},1),$(this.el).html(HR.appController.template(this.template,this)({renderQuestions:!(url.endsWith("questions")||url.endsWith("questions/"))})),this.$(".fixed-nav").html(this.getTopIcons()),url.endsWith("questions")||url.endsWith("questions/")||(this.$(".questions-nav").html(this.getQuestionIcons(sectionObj)),qindex=null,HR.candidate.currentQuestion&&(qindex=HR.candidate.candidateQuestions.pluck("unique_id").indexOf(HR.candidate.currentQuestion)+1),qindex&&setTimeout((_this=this,function(){return _this.$(".qnav-"+qindex)[0]&&_this.$(".qnav-"+qindex).scrollintoview(),_this.delegateEvents()}))),this},RecruitCandidateSideBarView.prototype.setActive=function(qindex){var oldAria,qlabel,selected_aria_helper;return qlabel="Question "+qindex,selected_aria_helper="Currently Selected",oldAria=this.$("a.active").attr("aria-label").replace(selected_aria_helper,""),this.$("a.active").removeClass("active").attr("aria-label",oldAria),this.$(".qnav-"+qindex).addClass("active").attr("aria-label",qlabel+" "+selected_aria_helper),this.$(".qnav-"+qindex).scrollintoview()},RecruitCandidateSideBarView.prototype.markSubmitted=function(qid,submitted){var qindex;return qindex=HR.candidate.candidateQuestions.pluck("unique_id").indexOf(qid)+1,submitted?this.$(".qnav-"+qindex).addClass("answered").removeClass("not-answered").attr("aria-label","Submitted"):this.$(".qnav-"+qindex).addClass("not-answered").removeClass("answered").attr("aria-label","")},RecruitCandidateSideBarView.prototype.performNavActions=function(){HR.candidate.ongoingQuestionNavigation},RecruitCandidateSideBarView.prototype.handleSideNav=function(e){var event_value,last_question_token,myhref,ref,ref1,ref2,ref3,ref4,ref5,ref6,track_data;if(e.preventDefault(),!HR.candidate.ongoingQuestionNavigation&&(this.me=this.$(e.currentTarget),myhref=this.me.attr("href"))){switch(HR.appView&&!HR.appView.dirty?this.performNavActions():HR.Vent.off("view:dirty:navigate").on("view:dirty:navigate",this.performNavActions),HR.candidate.attemptRefreshNeeded=!0,HR.candidate.ongoingQuestionNavigation=!0,setTimeout(function(){return HR.candidate.ongoingQuestionNavigation=!1},1e4),HR.candidate.currentQuestion=myhref.split("/")[2],HR.candidateNavigate(myhref),track_data={test_id:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,company_id:(null!=(ref2=HR.candidate)&&null!=(ref3=ref2.candidateTestModel)?ref3.get("company_id"):void 0)||null,job_id:(null!=(ref4=HR.candidate)&&null!=(ref5=ref4.candidateAttemptModel)?ref5.get("job_id"):void 0)||null},last_question_token=_.last(myhref.split("/"))){case"questions":event_value="SideBarQuestionList";break;case"instructions":event_value="SideBarHelp";break;default:event_value=(ref6=["SideBarQuestionNumber",this.me.children()[0].innerHTML,last_question_token])[0],track_data.attribute5=ref6[1],track_data.question_id=ref6[2]}return HR.util.candidateTrack("Click",event_value,track_data)}},RecruitCandidateSideBarView.prototype.getTopIcons=function(){var cls,html,url;return html="",cls="",((url=Backbone.history.fragment).endsWith("questions")||url.endsWith("questions/"))&&(cls="active"),html+='<a role="menuitem" href="'+HR.candidate.candidateTestModel.get("unique_id")+'/questions"\ndata-balloon="'+i18next.t("questions_list.back_to_question_list")+'" data-balloon-pos="right"\naria-label="'+i18next.t("questions_list.back_to_question_list")+'" class="backbone js-navlink '+cls+'">\n  <i class="nav-icon icon-list-bullet-large"></i>\n</a>',HR.candidate.candidateTestModel.get("task_test")||(cls="",(url.endsWith("instructions")||url.endsWith("instructions/"))&&(cls="active"),html+='<a role="menuitem" href="'+HR.candidate.candidateTestModel.get("unique_id")+'/instructions"\naria-label="At any time during the test you can access our FAQ as well as other platform help on this tab."\nclass="backbone js-navlink '+cls+"\">\n    <i class=\"nav-icon icon-help-circled  js-instruction-link\" data-placement='right' data-trigger='manual' aria-label='Instructions. At any time during the test you can access our FAQ as well as other platform help on this tab.'></i>\n</a>"),html},RecruitCandidateSideBarView.prototype.getQuestionIcons=function(sectionNames){var active,answered,answered_qs,elhtml,j,label,len,li_gen,q,qs,ref;for(elhtml="",li_gen=function(answered,disabled,active,link,label){var selected_aria_helper;return selected_aria_helper="Currently Selected",active||(selected_aria_helper=""),"<a "+("href='"+link+"'")+" class='"+"js-navlink"+" qnav-"+label+" "+(answered?"answered":"not-answered")+" "+(disabled?"disabled":"")+" "+(active?"active":"")+"'\naria-label='"+("Question "+label)+" "+selected_aria_helper+"' aria-atomic='true' role=\"menuitem\">\n  <span class='quest-number'>"+label+"</span>\n</a>"},qs=HR.candidate.candidateAttemptModel.get("questions"),answered_qs=_.keys(HR.candidate.candidateAttemptModel.get("solve_mapping")),label=1,j=0,len=qs.length;j<len;j++)q=qs[j],sectionNames[label]&&(elhtml+="<span class='section-break'> - "+sectionNames[label].name+" -</span>"),ref=q.unique_id.toString(),answered=indexOf.call(answered_qs,ref)>=0,active=q.unique_id===HR.candidate.currentQuestion,q.disabled?elhtml+=li_gen(answered,!0,active,"",label):elhtml+=li_gen(answered,!1,active,HR.candidate.candidateTestModel.get("unique_id")+"/questions/"+q.unique_id,label),label+=1;return elhtml},RecruitCandidateSideBarView}(window.HR.GenericView),RecruitCandidateCompileTestView=function(superClass){function RecruitCandidateCompileTestView(){return this.setCompileCommand=bind(this.setCompileCommand,this),this.showCompileTestsView=bind(this.showCompileTestsView,this),this.hideTestCaseTable=bind(this.hideTestCaseTable,this),this.showAllTestCases=bind(this.showAllTestCases,this),this.isTestCaseTableFixed=bind(this.isTestCaseTableFixed,this),this.updateStatusMessage=bind(this.updateStatusMessage,this),this.updateProgressBar=bind(this.updateProgressBar,this),this.updateTestCaseTable=bind(this.updateTestCaseTable,this),this.scrollToTestCase=bind(this.scrollToTestCase,this),this.setStatus=bind(this.setStatus,this),RecruitCandidateCompileTestView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateCompileTestView,superClass),RecruitCandidateCompileTestView.prototype.template="recruit/compiletest-base",RecruitCandidateCompileTestView.prototype.className="ct-base",RecruitCandidateCompileTestView.prototype.initialize=function(options){return null==options&&(options={}),this.allTestCases=options.allTestCases&&!options.showNewTestcasesUI,this.totalTestCasesCount=options.totalTestCasesCount,this.fill_percent=0,this.blank_percent=100,this.questionType=options.questionType,this.aid=options.aid,this.showNewTestcasesUI=options.showNewTestcasesUI},RecruitCandidateCompileTestView.prototype.events={"click .js-scroll-to-testcase":"scrollToTestCase"},RecruitCandidateCompileTestView.prototype.render=function(){return $(this.el).html(HR.appController.template(this.template,this)({showAllTestCases:this.showAllTestCases(),totalTestCasesCount:this.totalTestCasesCount,fill_percent:this.fill_percent,blank_percent:this.blank_percent,showNewTestcasesUI:this.showNewTestcasesUI})),this},RecruitCandidateCompileTestView.prototype.setStatus=function(status,additional_class){var diff_message,diff_status,message,progress,progress_states;if(null==additional_class&&(additional_class=""),this.showAllTestCases()?(this.$(".status-msg").html(""),this.$(".status").addClass("hide"),_.isObject(status)?(diff_status=status.testcase_status,message=status.live_message,diff_message=status.testcase_message,progress=status.progress,null!=(progress_states=status.progress_states)&&null!=progress&&this.updateProgressBar(progress,progress_states),null!=message&&this.updateStatusMessage(message,"in-progress"),null!=diff_status&&null!=diff_message&&this.updateTestCaseTable(diff_status,diff_message)):(this.$(".status-msg").html(status),$("#shouter").val(status))):(message=_.isObject(status)?this.changeStatusMessageIndex(status.live_message):status,this.$(".status-msg").html(message)),""!==additional_class)return this.$(".status-msg").attr("class","status-msg").addClass(additional_class)},RecruitCandidateCompileTestView.prototype.setCompileStatus=function(title,message){return this.$(".compile-header").html(title),this.$(".compile-message").html(HR.util.htmlEncode(message)),this.$("#error-message").removeClass("hide")},RecruitCandidateCompileTestView.prototype.setSuccessfulCompileStatus=function(title,message){return this.$(".compile-header").html(title),this.$(".compile-message").html(_.escape(message)),this.$("#success-message").removeClass("hide")},RecruitCandidateCompileTestView.prototype.setTestMessage=function(title,message){var test_msg_dom;return(test_msg_dom=this.$("#test-message")).find(".field-label").html(title),test_msg_dom.find(".error-output .testcase-output").html(_.escape(message)),test_msg_dom.removeClass("hide")},RecruitCandidateCompileTestView.prototype.setCoverageMessage=function(title,message){var msg_dom;return(msg_dom=this.$("#coverage-message")).find(".field-label").html(title),msg_dom.find(".error-output .testcase-output").html(_.escape(message)),msg_dom.removeClass("hide")},RecruitCandidateCompileTestView.prototype.addTestCase=function(testCaseData){var tc;tc=new HR.RecruitCandidateTestCaseView(testCaseData),this.$("#testcase-table").is(":visible")||$(".custom-input-msg-compile").removeClass("hide"),this.$(".testcases").append(tc.render().el),3!==testCaseData.tno||this.showAllTestCases()},RecruitCandidateCompileTestView.prototype.scrollToTestCase=function(e){var tcid,top;return e.preventDefault(),tcid=$(e.currentTarget).data("id"),top=(top=$("#testcase-scroll-"+tcid).position().top)-this.$("#testcase-table").height()-65,this.isTestCaseTableFixed()||"1"===tcid||"2"===tcid||"3"===tcid||(top=top-this.$("#testcase-table").height()-65),$("body,html").animate({scrollTop:top},500)},RecruitCandidateCompileTestView.prototype.updateTestCaseTable=function(status_array,message_array){var ind,index,j,len,status;for(ind=j=0,len=status_array.length;j<len;ind=++j)index=ind+1,1===(status=status_array[ind])?(this.$(".testcase-number-"+index+" .testcase-status-icon").removeClass("icon-hourglass icon-cancel-large icon-clock icon-attention error").addClass("icon-ok success"),this.$(".testcase-number-"+index+" .testcase-message").html(message_array[ind]).removeClass("error").addClass("success")):0===status&&("Wrong Answer"===message_array[ind]?this.$(".testcase-number-"+index+" .testcase-status-icon").removeClass("icon-hourglass").addClass("icon-cancel-large error"):"Terminated due to timeout"===message_array[ind]?this.$(".testcase-number-"+index+" .testcase-status-icon").removeClass("icon-hourglass").addClass("icon-clock error"):this.$(".testcase-number-"+index+" .testcase-status-icon").removeClass("icon-hourglass").addClass("icon-attention error"),this.$(".testcase-number-"+index+" .testcase-message").html(message_array[ind]).addClass("error"));return $(".custom-input-msg").removeClass("hide"),$(".custom-input-msg").addClass("block-center")},RecruitCandidateCompileTestView.prototype.updateProgressBar=function(progress,progress_states){return this.fill_percent=Math.round(progress/progress_states*100),this.blank_percent=100-this.fill_percent,this.$(".fill-bar").css("width",this.fill_percent+"%"),this.$(".blank-bar").css("width",this.blank_percent+"%"),$("#shouter").val(this.fill_percent+" % Completed")},RecruitCandidateCompileTestView.prototype.updateStatusMessage=function(message,state){return message=this.changeStatusMessageIndex(message),"in-progress"===state||"allpassed"===state?this.$(".status-message").html(message).addClass("color-green").removeClass("red"):"complete"===state?this.$(".status-message").html(message).removeClass("red color-green"):"error"===state&&this.$(".status-message").html(message).addClass("red").removeClass("color-green"),$("#shouter").val(message)},RecruitCandidateCompileTestView.prototype.isTestCaseTableFixed=function(){return"fixed"===this.$("#testcase-table").css("position")},RecruitCandidateCompileTestView.prototype.changeStatusMessageIndex=function(message){var checkStr,lastNum;return checkStr="Running Testcase #",message.startsWith(checkStr)&&(lastNum=parseInt(message.slice(checkStr.length)),isNaN(lastNum)||(lastNum+=1,message=message.slice(0,checkStr.length)+""+lastNum)),message},RecruitCandidateCompileTestView.prototype.showAllTestCases=function(){return this.allTestCases&&"database"!==this.questionType&&"testing"!==this.aid&&"True"!==HR.candidate.candidateTestModel.get("hide_hidden_testcase")},RecruitCandidateCompileTestView.prototype.hideTestCaseTable=function(){return this.$(".testcase-submission-view").addClass("hide"),this.$(".status").removeClass("hide")},RecruitCandidateCompileTestView.prototype.showCompileTestsView=function(){return this.$(".compiletest-base-wrapper").removeClass("hide")},RecruitCandidateCompileTestView.prototype.setCompileCommand=function(title,command){return this.$(".command-header").html(title),this.$(".command").html(HR.util.htmlEncode(command)),this.$("#compile-command").removeClass("hide")},RecruitCandidateCompileTestView}(window.HR.GenericView),RecruitCandidateTestCaseView=function(superClass){function RecruitCandidateTestCaseView(){return RecruitCandidateTestCaseView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateTestCaseView,superClass),RecruitCandidateTestCaseView.prototype.template="recruit/compiletest-testcase",RecruitCandidateTestCaseView.prototype.classname="test-case-wrap",RecruitCandidateTestCaseView.prototype.events={"click .download_link":"downloadLink"},RecruitCandidateTestCaseView.prototype.initialize=function(testCaseData){return this.tno=testCaseData.tno,this.input=testCaseData.input,this.output=testCaseData.output,this.exp_output=testCaseData.expected_output,this.compiler_msg=testCaseData.compiler_msg,this.st_class=testCaseData.st_class,this.output_debug=testCaseData.output_debug,this.censored_stderr=testCaseData.censored_stderr,this.score=testCaseData.score,this.output_label=testCaseData.output_label?testCaseData.output_label:"Your Output",this.input_url=testCaseData.input_url,this.expected_output_url=testCaseData.expected_output_url,this.customchecker_message=testCaseData.customchecker_message},RecruitCandidateTestCaseView.prototype._render=function(){return this.$el.html(HR.appController.template(this.template,this)({tno:this.tno,input:this.input,output:this.output,exp_output:this.exp_output,compiler_msg:this.compiler_msg,st_class:this.st_class,output_debug:this.output_debug,censored_stderr:this.censored_stderr,score:this.score,output_label:this.output_label,input_url:this.input_url,expected_output_url:this.expected_output_url,customchecker_message:this.customchecker_message})),this},RecruitCandidateTestCaseView.prototype.downloadLink=function(e){var event_value,track_data;return e.preventDefault(),HR.util.downloadURL(this.$(e.currentTarget).attr("href")),track_data={attempt_id:HR.candidate.candidateAttemptModel.get("id")},event_value="Download TestCase",HR.util.candidateTrack("Click",event_value,track_data)},RecruitCandidateTestCaseView}(window.HR.GenericView),(HR=window.HR||{}).RecruitCandidateListView=RecruitCandidateListView,HR.RecruitCandidateQuestionView=RecruitCandidateQuestionView,HR.RecruitCandidateMcqView=RecruitCandidateMcqView,HR.RecruitCandidateSubjectiveView=RecruitCandidateSubjectiveView,HR.RecruitCandidateCompleteView=RecruitCandidateCompleteView,HR.RecruitCandidateRewriteView=RecruitCandidateRewriteView,HR.RecruitCandidateUnscrambleView=RecruitCandidateUnscrambleView,HR.RecruitCandidateCorrectErrorsView=RecruitCandidateCorrectErrorsView,HR.RecruitCandidateFileUploadView=RecruitCandidateFileUploadView,HR.RecruitCandidateDiagramView=RecruitCandidateDiagramView,HR.RecruitCandidateSudoRankView=RecruitCandidateSudoRankView,HR.RecruitCandidateTopBarView=new RecruitCandidateTopBarView,HR.RecruitCandidateFooterView=new RecruitCandidateFooterView,HR.RecruitCandidateSideBarView=new RecruitCandidateSideBarView,HR.RecruitCandidateCompileTestView=RecruitCandidateCompileTestView,HR.RecruitCandidateTestCaseView=RecruitCandidateTestCaseView,HR.RecruitCandidateInstructionsView=RecruitCandidateInstructionsView,HR.RecruitCandidateServerTaskView=RecruitCandidateServerTaskView})}.call(this),function(){var bind=function(fn,me){return function(){return fn.apply(me,arguments)}},extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,RecruitCandidateMultiMcqView;return RecruitCandidateMultiMcqView=function(superClass){function RecruitCandidateMultiMcqView(){return this.scrollToQuestion=bind(this.scrollToQuestion,this),this.setCurrentQuestion=bind(this.setCurrentQuestion,this),this.navigateTo=bind(this.navigateTo,this),this.handleScrollEvent=bind(this.handleScrollEvent,this),this.setupLocArray=bind(this.setupLocArray,this),RecruitCandidateMultiMcqView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateMultiMcqView,superClass),RecruitCandidateMultiMcqView.prototype.template="recruit/multiple-mcq",RecruitCandidateMultiMcqView.prototype.events={"click .mcqs-submit":"submitMcqSection"},RecruitCandidateMultiMcqView.prototype.initialize=function(options){return this.selectedQuestion=options.model,this.questionGroup=this.getQuestionsInGroup(this.selectedQuestion.get("unique_id")),this.questionGroupIds=_.map(this.questionGroup,function(m){return m.get("unique_id")}),this.tid=HR.candidate.candidateTestModel.get("unique_id"),HR.candidate.mcqScrollListener=_.throttle(this.handleScrollEvent,10),HR.candidate.mcqPingEvent=_.debounce(function(){var aid,dat,fetch_opts,qid;return dat={qview:!0,qid:HR.candidate.currentQuestion},fetch_opts={processData:!0},0===_.keys(HR.candidate.candidateTestModel.attributes).length?HR.candidate.candidateTestModel.fetch(fetch_opts):(aid=HR.candidate.candidateAttemptModel.get("id"),qid=dat.qid,HR.candidate.testEvents.add({eid:3,inserttime:new Date,qid:qid,aid:aid}))},3500)},RecruitCandidateMultiMcqView.prototype.submitMcqSection=function(){var aid,nextQuestion,nextpath;return nextpath=(nextQuestion=_.last(this.questionGroup).get("nextqid"))?this.tid+"/questions/"+nextQuestion:this.tid+"/questions",HR.candidateNavigate(""+nextpath),aid=HR.candidate.candidateAttemptModel.get("id"),HR.candidate.testEvents.add({eid:3,inserttime:new Date,qid:nextQuestion,aid:aid})},RecruitCandidateMultiMcqView.prototype.updateQuestionPing=function(){var fetch_opts;return fetch_opts={data:{qview:!0,qid:HR.candidate.currentQuestion},processData:!0},HR.candidate.candidateTestModel.fetch(fetch_opts)},RecruitCandidateMultiMcqView.prototype._render=function(){var content,_this;return content=HR.appController.template(this.template,this)({qArr:this.questionGroup}),$(this.el).html(content),this.questionViews={},_.each(this.questionGroup,(_this=this,function(question){var questionView;return(questionView=new HR.RecruitCandidateQuestionView({model:question})).setElement(_this.$(".mcq-container.mcq-"+question.id)),questionView.render(),_this.questionViews[question.id]=questionView})),setTimeout(function(_this){return function(){return _this.scrollToQuestion(_this.selectedQuestion.get("unique_id"))}}(this)),setTimeout(function(_this){return function(){return _this.setupLocArray(),$(window).on("scroll",HR.candidate.mcqScrollListener)}}(this)),this},RecruitCandidateMultiMcqView.prototype.setupLocArray=function(){return this.locHash=_.map(this.questionGroupIds,(_this=this,function(qId){return{loc:_this.$(".que-"+qId).offset().top,id:qId}}));var _this},RecruitCandidateMultiMcqView.prototype.handleScrollEvent=function(){var currentLoc,qhash,scrolledQs;if(!this.animating&&!HR.candidate.ongoingQuestionNavigation&&(this.setupLocArray(),currentLoc=$(window).scrollTop(),scrolledQs=[],qhash=_.each(this.locHash,function(qLoc){if(qLoc.loc-350<currentLoc)return scrolledQs.push(qLoc)}),qhash=scrolledQs.length>0?scrolledQs.pop():this.locHash[0],HR.candidate.currentQuestion!==qhash.id))return this.setCurrentQuestion(qhash.id,!1)},RecruitCandidateMultiMcqView.prototype.canNavigateToPath=function(path){var qid;return qid=this.getQidFromPath(path),this.canNavigateTo(qid)},RecruitCandidateMultiMcqView.prototype.canNavigateTo=function(qid){return-1!==this.questionGroupIds.indexOf(qid)},RecruitCandidateMultiMcqView.prototype.navigateTo=function(qid){return this.scrollToQuestion(qid),this.setCurrentQuestion(qid)},RecruitCandidateMultiMcqView.prototype.setCurrentQuestion=function(qid,focus){var qindex;if(null==focus&&(focus=!0),HR.candidate.questionView=this,HR.candidate.currentQuestion=qid,"function"==typeof history.pushState&&history.pushState(null,{},this.getPathFromQid(qid)),HR.candidate.mcqPingEvent(),qindex=HR.candidate.candidateQuestions.pluck("unique_id").indexOf(qid)+1,HR.RecruitCandidateSideBarView.setActive(qindex),focus)return this.questionViews[qid].focusQTitle()},RecruitCandidateMultiMcqView.prototype.navigateToPath=function(path){var qid;return qid=this.getQidFromPath(path),this.navigateTo(qid)},RecruitCandidateMultiMcqView.prototype.getQidFromPath=function(path){return path.endsWith("questions")?null:path.split("/").pop()},RecruitCandidateMultiMcqView.prototype.getPathFromQid=function(qid){return"/tests/"+HR.candidate.candidateTestModel.id+"/questions/"+qid},RecruitCandidateMultiMcqView.prototype.getQuestionsInGroup=function(qid){var qidAr;return qidAr=HR.candidateUtils.getMCQGroupForQuestion(qid),_.select(HR.candidate.candidateQuestions.models,function(model){return-1!==qidAr.indexOf(model.get("unique_id"))?model:null})},RecruitCandidateMultiMcqView.prototype.scrollToQuestion=function(qid){var offset,_this;return this.animating=!0,this.resetAnimatingFlag=_.debounce((_this=this,function(){return _this.animating=!1,HR.candidate.ongoingQuestionNavigation=!1})),offset=this.$(".que-"+qid).offset().top-70,"undefined"!=typeof MSEventObj&&(offset+=$("#HackerRank-main").scrollTop()),$("html,body").animate({scrollTop:offset},"slow",this.resetAnimatingFlag)},RecruitCandidateMultiMcqView.prototype.getAnswerToSave=function(){return this.questionViews[HR.candidate.currentQuestion].getAnswerToSave()},RecruitCandidateMultiMcqView}((HR=window.HR||{}).RecruitCandidateQuestionView),HR.RecruitCandidateMultiMcqView=RecruitCandidateMultiMcqView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,LinkedInResumeImport,ref;return LinkedInResumeImport=function(superClass){function LinkedInResumeImport(){return LinkedInResumeImport.__super__.constructor.apply(this,arguments)}return extend(LinkedInResumeImport,superClass),LinkedInResumeImport.prototype.template="components/linkedin-resume-import",LinkedInResumeImport.prototype.events={"click #import-from-linkedin-btn":"importLinkedin","click .upload-resume":"uploadResumeFile","click .delete-resume":"deleteResume","click .preview-resume":"previewResume","change input#resume":"uploadResume"},LinkedInResumeImport.prototype.initialize=function(options){return this.options=options,this},LinkedInResumeImport.prototype.importLinkedin=function(e){var h,left,linkedInWindow,top,w,_this;if(!$(e.currentTarget).hasClass("disabled"))return $(e.currentTarget).addClass("disabled"),e.data,w=440,h=584,left=screen.width/2-w/2,top=screen.height/2-h/2,window.error_callback=function(){return window.cleanup()},linkedInWindow=window.open("/hackers/auth/linkedin?display=popup&source="+this.options.source,"linkedin","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+w+", height="+h+", top="+top+", left="+left),window.login_callback=(_this=this,function(){return _this.$("input#linkedin_url").val(linkedInWindow.linkedin_url),_this.linkedin_uid=linkedInWindow.linkedin_uid,_this.$("#linkedin_url").removeClass("hidden"),window.cleanup()}),window.closeCheckInterval=setInterval(function(){if(linkedInWindow.closed)return clearInterval(window.closeCheckInterval),window.cleanup()},1e3),window.cleanup=function(_this){return function(){return _this.$(e.currentTarget).removeClass("disabled"),window.login_callback=null,window.profile=null,linkedInWindow.close()}}(this)},LinkedInResumeImport.prototype._render=function(){return $(this.el).html(HR.appController.template(this.template,this,!0)({options:this.options})),this},LinkedInResumeImport.prototype.resumeFileName=function(resume_url){return resume_url?resume_url.split("\\").pop().split("/").pop():""},LinkedInResumeImport.prototype.uploadResumeFile=function(){return this.$("input#resume").click()},LinkedInResumeImport.prototype.uploadResume=function(e){var form_data,request;if("disabled"!==this.$(".upload-resume").attr("disabled")){var _this;if(this.$(".upload-resume").addClass("disabled").attr("disabled","disabled"),e.currentTarget.files[0])return this.resetView(),(form_data=new FormData).append("resume",e.currentTarget.files[0]),this.$(".upload-loader-image").removeClass("hide"),request={url:"/recruit/tests/"+this.options.tid+"/upload_resume",type:"POST",data:form_data,contentType:!1,processData:!1},$.ajax(request).done((_this=this,function(result){return _this.setResumeSuccessResult(result)})).fail(function(_this){return function(result){return _this.setResumeFailedResult(result)}}(this)),this;this.$(".upload-resume").removeAttr("disabled").removeClass("disabled")}},LinkedInResumeImport.prototype.setResumeFailedResult=function(result){var response;return response=JSON.parse($(result.responseText).text()),this.$(".upload-loader-image").addClass("hide"),this.$(".upload-resume").removeAttr("disabled").removeClass("disabled"),this.$(".upload-error").html(response.message||"Error Occured! Please try again!").show()},LinkedInResumeImport.prototype.setResumeSuccessResult=function(result){var response;return response=JSON.parse($(result).text()),this.$(".upload-loader-image").addClass("hide"),response.url?(this.$(".upload-resume, .js-or-label").hide(),this.$(".download-resume").attr("href",response.url),this.$(".preview-resume").attr("data-href",response.url),this.$(".preview-resume-link").html(this.resumeFileName(response.url)),this.$(".modify-resume-controls").removeClass("hidden").show(),this.$(".upload-error").hide(),this.options.resume_url=response.url):(this.$(".upload-resume, .js-or-label").removeAttr("disabled").removeClass("hidden").show(),this.$(".download-resume").removeAttr("href"),this.$(".preview-resume").removeAttr("data-href"),this.$(".preview-resume-text").html(""),this.$(".modify-resume-controls").hide())},LinkedInResumeImport.prototype.deleteResume=function(){var resume_input;if("disabled"!==this.$(".remove-resume").attr("disabled"))return this.$(".remove-resume").attr("disabled","disabled"),(resume_input=this.$("input#resume")).replaceWith(resume_input.val("").clone(!0)),this.options.resume_url=null,this.resetView(),this.$(".upload-resume").removeClass("disabled"),this},LinkedInResumeImport.prototype.previewResume=function(e){var dialog_options;return dialog_options={title:"Resume",body:"<iframe src='https://docs.google.com/viewer?url="+encodeURIComponent($(e.currentTarget).attr("data-href"))+"&embedded=true' width='600' height='"+.6*screen.height+"' style='border: none;'></iframe>",width:600,nopadding:!0,classes:"preview-resume"},this.dialog=new HR.util.ShowDialog(dialog_options,{}),this.dialog.render(),this},LinkedInResumeImport.prototype.resetView=function(){return this.$(".upload-loader-image").addClass("hide"),this.$(".upload-error").hide(),this.$(".download-resume").attr("href",this.options.resume_url||""),this.$(".preview-resume").attr("data-href",this.options.resume_url||""),this.options.resume_url?(this.$(".modify-resume-controls").show(),this.$(".upload-resume, .js-or-label").attr("disabled","disabled").hide()):(this.$(".modify-resume-controls").hide(),this.$(".upload-resume, .js-or-label").removeAttr("disabled").show()),this},LinkedInResumeImport.prototype.getLinkedInUrl=function(){return(this.$("input#linkedin_url").val()||"").trim()},LinkedInResumeImport.prototype.getResumeUrl=function(){return(this.$(".download-resume").attr("href")||"").trim()},LinkedInResumeImport.prototype.getLinkedInUid=function(){return(this.linkedin_uid||"").trim()},LinkedInResumeImport}(window.HR.GenericView),(HR=null!=(ref=window.HR)?ref:{}).Components=HR.Components||{},HR.Components.LinkedInResumeImport=LinkedInResumeImport})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,RecruitMismatchView,ref;return RecruitMismatchView=function(superClass){function RecruitMismatchView(){return RecruitMismatchView.__super__.constructor.apply(this,arguments)}return extend(RecruitMismatchView,superClass),RecruitMismatchView.prototype.template="recruit/candidatemismatch",RecruitMismatchView.prototype.className="candidate-mismatch",RecruitMismatchView.prototype.events={"click .js-gotoother":"logoutGotoOther"},RecruitMismatchView.prototype.logoutGotoOther=function(e){return e.preventDefault(),HR.loggedoutFromMismatch=!0,setTimeout(function(){return HR.loggedoutFromMismatch=null}),HR.logoutAttempt(),HR.candidate.candidateTestModel=null,HR.candidate.candidateAttemptModel=null,HR.candidate.attemptRefreshNeeded=!1,window.location.assign("/tests/"+this.test.other.unique_id+"/"+this.test.other.auth_key+window.location.search)},RecruitMismatchView.prototype.render=function(){return this.test=HR.candidate.candidateTestModel.toJSON(),$(this.el).html(HR.appController.template(this.template,this)({test:this.test})),this},RecruitMismatchView}(window.HR.GenericView),(HR=null!=(ref=window.HR)?ref:{}).RecruitMismatchView=RecruitMismatchView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,RecruitMessageView,ref;return RecruitMessageView=function(superClass){function RecruitMessageView(){return RecruitMessageView.__super__.constructor.apply(this,arguments)}return extend(RecruitMessageView,superClass),RecruitMessageView.prototype.template="recruit/candidatemessage",RecruitMessageView.prototype.className="candidate-message",
RecruitMessageView.prototype.initialize=function(options){return this.model=options.model,this.message=options.message,this.title=options.title||"Message"},RecruitMessageView.prototype.render=function(){return $(this.el).html(HR.appController.template(this.template,this)({test:this.model&&this.model.attributes||{name:this.title},message:this.message})),this},RecruitMessageView}(window.HR.GenericView),(HR=null!=(ref=window.HR)?ref:{}).RecruitMessageView=RecruitMessageView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,RecruitInfoView,ref;return RecruitInfoView=function(superClass){function RecruitInfoView(){return RecruitInfoView.__super__.constructor.apply(this,arguments)}return extend(RecruitInfoView,superClass),RecruitInfoView.prototype.template="recruit/instructiontabs",RecruitInfoView.prototype.className="ins-tabs",RecruitInfoView.prototype.initialize=function(options){return this.subpage=options.subpage,this.public_url=options.public_url,this.hide_tabs=options.hide_tabs,this.in_modal=options.in_modal,this.scroll_to=options.scroll_to,options.test?this.test=options.test:this.test=HR.candidate.candidateTestModel},RecruitInfoView.prototype.events={"click .js-tablink":"tabClick","click .js-anchor":"anchorClick","click .js-gototop":"gotoTop"},RecruitInfoView.prototype.gotoTop=function(e){return e.preventDefault(),$("html, body").animate({scrollTop:0},"slow")},RecruitInfoView.prototype.anchorClick=function(e){var sect;return e.preventDefault(),sect=this.$(e.currentTarget).attr("name"),this.$("a[name="+sect+"]")[1].scrollIntoView()},RecruitInfoView.prototype.tabClick=function(e){var attr,ele,href,tabid,track_data;switch(e.preventDefault(),tabid=(ele=this.$(e.currentTarget)).attr("data-id"),href=ele.attr("href"),ele.parent().parent().find("li").removeClass("active"),this.$("li#"+tabid).addClass("active"),this.$(".js-content").addClass("hidden"),this.$(".js-content-"+tabid).removeClass("hidden"),this.public_url&&HR.router.navigate(href,{replace:!0,trigger:!0}),track_data={},tabid){case"tabinstruction":attr="Instructions";break;case"tabui":attr="Interface";break;case"tabenv":attr="Environment";break;case"tabfaq":attr="FAQ"}return track_data.attribute1=attr,HR.util.candidateTrack("Click","HelpNavBar",track_data)},RecruitInfoView.prototype.render=function(){var languageenvironmentview,_this;return $(this.el).html(HR.appController.template(this.template,this)({subpage:this.subpage,public_url:this.public_url,test:this.test,in_modal:this.in_modal,hide_tabs:this.hide_tabs})),"interface"===this.subpage?HR.appController.setTitle("Test Interface"):"environment"===this.subpage?HR.appController.setTitle("Code Execution Environment"):"faq"===this.subpage&&HR.appController.setTitle("Frequently Asked Questions"),languageenvironmentview=new HR.LanguageEnvironmentCollectionView({showml:!1}),this.add_subview(languageenvironmentview),this.assign({"#languages":languageenvironmentview}),setTimeout((_this=this,function(){return _this.scrollToSelector(scrollTo)}),1),this},RecruitInfoView.prototype.scrollToSelector=function(){var container,scrollTo;if(this.scroll_to&&this.in_modal&&(container=$(".modal-body"),scrollTo=this.$(this.scroll_to),container.length>0&&scrollTo.length>0))return container.scrollTop(scrollTo.offset().top-container.offset().top+container.scrollTop())},RecruitInfoView}(window.HR.GenericView),(HR=null!=(ref=window.HR)?ref:{}).RecruitInfoView=RecruitInfoView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var FeedbackDoneView,HR,ref;return FeedbackDoneView=function(superClass){function FeedbackDoneView(){return FeedbackDoneView.__super__.constructor.apply(this,arguments)}return extend(FeedbackDoneView,superClass),FeedbackDoneView.prototype.template="recruit/feedback-done",FeedbackDoneView.prototype.events={"click a.logout-hackerrank":"logoutHackerRank","click a.practice-hackerrank":"practiceAtHackerRank"},FeedbackDoneView.prototype._render=function(){var content;return HR.candidate.candidateTestModel.toJSON(),content=HR.appController.template(this.template,this)({attempt:HR.candidate.candidateAttemptModel}),$(this.el).html(content),this},FeedbackDoneView.prototype.logoutHackerRank=function(e){var ref,ref1,ref2,ref3,ref4,ref5,ref6,ref7,track_data,_this;return e.preventDefault(),$.ajax({url:"/recruit/attempts/"+HR.candidate.candidateTestModel.get("attempt")+"/logout",type:"DELETE",success:(_this=this,function(){return _this.logoutTest(),$.ajax({url:"/auth/logout",type:"DELETE",beforeSend:function(xhr){return xhr.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))},success:function(response){if(response.status)return HR.hackerProfile=new HR.Profile,window.location.href="/?utm_source=hrw&utm_medium=feedbackpage&utm_campaign=product"}})})}),track_data={test_id:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,attempt_id:null!=(ref2=HR.candidate)&&null!=(ref3=ref2.candidateAttemptModel)?ref3.get("id"):void 0,company_id:(null!=(ref4=HR.candidate)&&null!=(ref5=ref4.candidateTestModel)?ref5.get("company_id"):void 0)||null,job_id:(null!=(ref6=HR.candidate)&&null!=(ref7=ref6.candidateAttemptModel)?ref7.get("job_id"):void 0)||null},HR.util.candidateTrack("Click","PostTestLogout",track_data)},FeedbackDoneView.prototype.practiceAtHackerRank=function(e){var cb,href,ref,ref1,ref2,ref3,ref4,ref5,ref6,ref7,ref8,ref9,track_data,_this;e.preventDefault();try{HR.util.track("Clicked Practice on HackerRank",{email_id:HR.candidate.candidateAttemptModel.get("email"),test_id:HR.candidate.candidateTestModel.get("unique_id"),company_name:HR.candidate.candidateTestModel.get("company_name")})}catch(error){}return href=$(e.currentTarget).attr("href"),_this=this,cb=function(){return _this.logoutTest(),window.location.href=href},null!=(null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("attempt"):void 0)?$.ajax({url:"/recruit/attempts/"+HR.candidate.candidateTestModel.get("attempt")+"/logout",type:"DELETE",complete:function(){return cb()}}):cb(),track_data={test_id:null!=(ref2=HR.candidate)&&null!=(ref3=ref2.candidateTestModel)?ref3.get("unique_id"):void 0,attempt_id:null!=(ref4=HR.candidate)&&null!=(ref5=ref4.candidateAttemptModel)?ref5.get("id"):void 0,company_id:(null!=(ref6=HR.candidate)&&null!=(ref7=ref6.candidateTestModel)?ref7.get("company_id"):void 0)||null,job_id:(null!=(ref8=HR.candidate)&&null!=(ref9=ref8.candidateAttemptModel)?ref9.get("job_id"):void 0)||null},HR.util.candidateTrack("Click","PostTestPractice",track_data)},FeedbackDoneView.prototype.logoutTest=function(){return window.candidate={},$.jStorage.set("feedback_skipped_"+HR.candidate.candidateTestModel.get("attempt"),void 0),HR.logoutAttempt()},FeedbackDoneView}(window.HR.GenericView),(HR=null!=(ref=window.HR)?ref:{}).FeedbackDoneView=FeedbackDoneView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,RecruitFacebookResumeView,ref;return RecruitFacebookResumeView=function(superClass){function RecruitFacebookResumeView(){return RecruitFacebookResumeView.__super__.constructor.apply(this,arguments)}return extend(RecruitFacebookResumeView,superClass),RecruitFacebookResumeView.prototype.template="recruit/fbresume",RecruitFacebookResumeView.prototype.className="candidate-fb",RecruitFacebookResumeView.prototype.events={"click .starttest":"startTest"},RecruitFacebookResumeView.prototype.initialize=function(options){return this.model=options.model,this.data=JSON.parse(this.model.get("fb_profile"))},RecruitFacebookResumeView.prototype.render=function(){return $(this.el).html(HR.appController.template(this.template,this)({test:this.model.attributes,data:this.data})),this},RecruitFacebookResumeView.prototype.startTest=function(){var p,req_params,_this;return(p=this.$(".userprofile").val())?(req_params={type:"put",url:"/recruit/tests/"+this.model.get("unique_id")+"/fb_login",data:{profile:p},success:(_this=this,function(){return HR.router.navigate(_this.model.get("unique_id")+"/questions",{trigger:!0,replace:!0})}),error:function(_this){return function(e){return window.candidatemessage=JSON.parse(e.responseText).message,HR.router.navigate(_this.model.get("unique_id")+"/message",{trigger:!0,replace:!0})}}(this)},$.ajax(req_params)):new HR.util.ShowConfirmationDialog({body:"Please enter a short profile about yourself.",title:"Empty profile.",buttons:[{name:"OK",callback:function(dialog){return dialog.destroy()}}]}).render()},RecruitFacebookResumeView}(window.HR.GenericView),(HR=null!=(ref=window.HR)?ref:{}).RecruitFacebookResumeView=RecruitFacebookResumeView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,RecruitAwaitingServerView,ref;return RecruitAwaitingServerView=function(superClass){function RecruitAwaitingServerView(){return RecruitAwaitingServerView.__super__.constructor.apply(this,arguments)}return extend(RecruitAwaitingServerView,superClass),RecruitAwaitingServerView.prototype.template="recruit/awaitingserver",RecruitAwaitingServerView.prototype.className="candidate-awaiting",RecruitAwaitingServerView.prototype.render=function(){return $(this.el).html(HR.appController.template(this.template,this)({test:HR.candidate.candidateTestModel.toJSON()})),clearTimeout(window.checkLoop),window.checkLoop=setTimeout(function(){return HR.candidateNavigate(HR.candidate.candidateTestModel.get("unique_id")+"/redirect")},2e4),this},RecruitAwaitingServerView}(window.HR.GenericView),(HR=null!=(ref=window.HR)?ref:{}).RecruitAwaitingServerView=RecruitAwaitingServerView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty,indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++)if(i in this&&this[i]===item)return i;return-1};jQuery(function(){var HR,RecruitCandidateLoginView,ref;return RecruitCandidateLoginView=function(superClass){function RecruitCandidateLoginView(){return RecruitCandidateLoginView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateLoginView,superClass),RecruitCandidateLoginView.prototype.template="recruit/candidate-login",RecruitCandidateLoginView.prototype.className="candidate-login",RecruitCandidateLoginView.prototype.subView="hr-login",RecruitCandidateLoginView.prototype.heapEventSent=!1,RecruitCandidateLoginView.prototype.questionListTemplate='<div class="full-qs-list-top" style="width: 100%;top: 80px; position: absolute;">\n<div class="full-qs-list" style="width: 50%; margin-bottom: 20px; overflow:visible; z-index: 1000;\n           max-height: 350px; border-radius: 3px; border-width: 1px;cursor: pointer;position: relative;margin: 0 auto; padding-top:60px;top: 0px;">\n    <% if(!_.isEmpty(test.questions_list)) { %>\n    <div class="arrow-up" style="position: absolute;left: calc(50% - 165px);z-index: 1000;top: 114px;">\n      <div id="tail1" style="position:absolute; bottom:53px; left:20px; width:0; height:0; border-color: transparent transparent #f8f9fa transparent; border-width:11px; border-style:solid;"></div>\n    </div>\n        <div class="question-list table-wrap table-hover">\n            <% if(test.questions_list.length > 0) { %>\n                <div class="js-question-table" style="overflow:hidden; overflow-y:visible; max-height:350px; -webkit-border-radius: 10px; -moz-border-radius: 10px; border-radius:10px;font-weight: 400;">\n                    <header class="row">\n                        <div class="span-flex-3 bold">Qn no</div>\n                        <div class="span-flex-4 bold left-align">Type</div>\n                        <div class="span-flex-9 left-align">Notes<span class="pull-right cursor close-ques-list"><i class="icon2-close"></i></span></div>\n                    </header>\n                    <div class="table-body">\n            <% } %>\n            <% for(var i = 0; i < test.questions_list.length; i+=1){ %>\n                <div class="row <% if(i%2 == 0){ %>row-alt<% } %>">\n                    <div class="span-flex-3 text-center"><%- test.questions_list[i].indexes %></div>\n                    <div class="span-flex-4 pdL left-align">\n                        <%= HR.util.readableQuestionType(test.questions_list[i].type, test.questions_list[i].project_type, test.questions_list[i].role_type) %>\n                    </div>\n                    <div class="span-flex-9 left-align">\n                    <% if([\'datascience\', \'frontend\', \'backend\', \'fullstack\', \'database\', \'sudorank\', \'android\'].indexOf(test.questions_list[i].type) > -1) { %>\n                      Projects questions for <%- pluralize(HR.util.readableQuestionType(test.questions_list[i].type, null, test.questions_list[i].role_type)) %>\n                    <% } else { %>\n                       <% if(test.questions_list[i].languages) { %>\n                        <strong style="color: #979faf;">Languages Allowed: </strong><%- _.map(test.questions_list[i].languages, function(lang){ return lang_display_mapping[lang] }).join(\', \') %>\n                        <% } else { %>\n                            -\n                        <% } %>\n                    <% } %>\n                    </div>\n                </div>\n            <% } %>\n            <% if(test.questions_list.length > 0) { %>\n                    </div>\n                </div>\n            <% } %>\n        </div>\n  <% } %>\n</div>\n</div>\n<div class="overlay" style="position: absolute; top: 0; left: 0; width: 110%; height: 110%; z-index: 100; background-color: rgba(0,0,0,0.6);"></div>',RecruitCandidateLoginView.prototype.feedbackTemplate='<div class="feedback-option mjT">\n  <div class="mdT mdB text-center bold"><%-feedback.title %></div>\n  <div class="mdB clearfix options-container">\n    <% for (var i = 0; i < feedback.options.length; i++) { %>\n        <div class="option msB mdR pull-left" data-title="<%-feedback.options[i]%>">\n          <div class="pull-left mdR">\n            <div class="custom-checkbox-v2">\n              <input type="checkbox" class="feedback-option" id="<%- i %>-<%-feedback.options[i] %>" value="<%-feedback.options[i] %>" name="feedback-option">\n              <label for="<%- i %>-<%-feedback.options[i] %>" value="<%-feedback.options[i] %>"></label>\n            </div>\n          </div>\n          <div class="pull-left">\n            <label for="<%- i %>-<%-feedback.options[i] %>" value="<%-feedback.options[i] %>"><%-feedback.options[i] %></label>\n          </div>\n        </div>\n    <% } %>\n  </div>\n</div>',RecruitCandidateLoginView.prototype.questionsFeedbackTemplate='<div class="feedback-questions feedback-generic mjB">\n  <div class="questions-container feedback-generic">\n    <div class="generic-container__title bold">Which questions did you face issue with?</div>\n    <div class="generic-container__options mdT clearfix feedback-option">\n      <% for (var i = 0; i < questions.length; i++) { %>\n        <div class="option msB mdR msT pull-left">\n          <div class="pull-left mdR">\n            <div class="custom-checkbox-v2">\n              <input type="checkbox" class="feedback-questions-option" id="<%-questions[i].unique_id%>" value="<%-questions[i].unique_id %>" name="feedback-questions-option">\n              <label for="<%-questions[i].unique_id%>" value="<%-questions[i].name || questions[i].preview %>"></label>\n            </div>\n          </div>\n          <div class="pull-left">\n            <label for="<%-questions[i].unique_id%>" value="<%-questions[i].name || questions[i].preview %>"><%-questions[i].name || questions[i].preview %></label>\n          </div>\n        </div>\n      <% } %>\n    </div>\n  </div>\n</div>',RecruitCandidateLoginView.prototype.onlineIDEFeedbackTemplate='<div class="feedback-onlineIDE feedback-generic mjB">\n  <div class="onlineIDE-container feedback-generic">\n    <div class="generic-container__title bold"><%-onlineIDE.title %></div>\n    <div class="generic-container__options mdT clearfix feedback-option">\n      <% for (var i = 0; i < onlineIDE.options.length; i++) { %>\n        <div class="option msB mdR msT pull-left">\n          <div class="pull-left mdR">\n            <div class="custom-checkbox-v2">\n              <input type="checkbox" class="feedback-onlineIDE-option" id="<%-onlineIDE.options[i]%>" value="<%-onlineIDE.options[i]%>" name="feedback-onlineIDE-option">\n              <label for="<%-onlineIDE.options[i]%>" value="<%-onlineIDE.options[i]%>"></label>\n            </div>\n          </div>\n          <div class="pull-left">\n            <label for="<%-onlineIDE.options[i]%>" value="<%-onlineIDE.options[i]%>"><%-onlineIDE.options[i]%></label>\n          </div>\n        </div>\n      <% } %>\n    </div>\n  </div>\n</div>',RecruitCandidateLoginView.prototype.subViewsHash={"hr-login":window.HR.HackerRankLoginView,"candidate-details":window.HR.RecruitCandidateDetailsView},RecruitCandidateLoginView.prototype.LOADED_BEGIN=0,RecruitCandidateLoginView.prototype.LOADED_TEMPLATES=1,RecruitCandidateLoginView.prototype.LOADED_CODEMIRROR=2,RecruitCandidateLoginView.prototype.LOADED_DONE=3,RecruitCandidateLoginView.prototype.FEEDBACK_OPTIONS={bad:{title:"What did you face an issue with?",options:[i18next.t("feedback.code_autocomplete"),i18next.t("feedback.debugging"),i18next.t("feedback.test_cases"),i18next.t("feedback.questions"),i18next.t("feedback.network_failure"),i18next.t("feedback.code_compilation"),i18next.t("feedback.user_experience")]},good:{title:i18next.t("feedback.what_did_you_like"),options:[i18next.t("feedback.code_autocomplete"),i18next.t("feedback.questions"),i18next.t("feedback.user_experience")]},bad_online_IDE:{title:i18next.t("feedback_l2.online_ide.title"),options:[i18next.t("feedback_l2.online_ide.linting"),i18next.t("feedback_l2.online_ide.slow_ide"),i18next.t("feedback_l2.online_ide.work_offline"),i18next.t("feedback_l2.online_ide.autocomplete")]}},RecruitCandidateLoginView.prototype.events={"click div#product_rating .icon--single":"clickProductRatingStar","click div#question_rating > .icon--single":"clickQuestionRatingStar","click .test-submit-feedback":"submitFeedback","click .skip-feedback":"skipFeedback","click .fblogin":"loginToFB","blur input.error":"removeError","mouseenter .js-questions-num":"showQuestionsTable","click .js-questions-num":"preventClick","click .close-ques-list":"closeQuestionTable","change .feedback-option":"toggleSelection"},RecruitCandidateLoginView.prototype.initialize=function(){return this.shareProfile=null,this._prefillDetails=!0},RecruitCandidateLoginView.prototype._render=function(){var loader;return(loader=HR.appController.templateOnSteroids(this.template,this))&&$(this.el).html(loader),this},RecruitCandidateLoginView.prototype._applyTemplate=function(){var attempt,common_app_id,content,revisit,rollover,ts;return HR.candidate.candidateTestModel.toJSON(),common_app_id=HR.candidate&&HR.candidate.candidateAttemptModel?(attempt=HR.candidate.candidateAttemptModel).get("common_app_id"):null,content=this._template({test:this.model.attributes,attempt:attempt,common_app_id:common_app_id,isCertificationFlow:this.isCertificationFlow}),$(this.el).html(content),this.model.get("time_slots_decoded")&&(rollover=!0,!1===(ts=this.model.get("time_slots_decoded"))[0].rollover&&(rollover=!1),revisit=!1,!0===ts[0].revisit&&(revisit=!0),revisit?this.$(".js-sectionsinfo").append("<li>You may revisit an earlier section after you've moved past it.</li>"):this.$(".js-sectionsinfo").append("<li>"+i18next.t("login.disable_section_revisit")+"</li>"),rollover?this.$(".js-sectionsinfo").append("<li>"+i18next.t("login.enable_time_rollover")+"</li>"):this.$(".js-sectionsinfo").append("<li>When you close a section, any remaining time will NOT rollover.</li>")),this.postApplyTemplate(),this},RecruitCandidateLoginView.prototype.toggleSelection=function(e){var onlineIDEFeedbackTemplate,questionsFeedbackTemplate;return e.stopImmediatePropagation(),HR.candidate.candidateAttemptModel.get("product_rating")<=3&&("Questions"===e.target.value&&($("html, body").animate({scrollTop:$("#product_rating").offset().top-20},600),e.target.checked?(questionsFeedbackTemplate=_.template(this.questionsFeedbackTemplate,{questions:HR.candidate.candidateAttemptModel.get("questions_summary")}),this.$(".feedback-categories").after(questionsFeedbackTemplate)):this.$(".feedback-questions").remove()),"Online IDE"===e.target.value&&($("html, body").animate({scrollTop:$("#product_rating").offset().top-20},600),e.target.checked?(onlineIDEFeedbackTemplate=_.template(this.onlineIDEFeedbackTemplate,{onlineIDE:this.FEEDBACK_OPTIONS.bad_online_IDE}),this.$(".feedback-categories").after(onlineIDEFeedbackTemplate)):this.$(".feedback-onlineIDE").remove())),$(e.target).parents(".option").toggleClass("selected")},RecruitCandidateLoginView.prototype.growCandidateComment=function(e){return $(e.currentTarget).addClass("grownTextarea")},RecruitCandidateLoginView.prototype.shrinkCandidateComment=function(e){if(0===$(e.currentTarget).val().length)return $(e.currentTarget).removeClass("grownTextarea")},RecruitCandidateLoginView.prototype.postApplyTemplate=function(){var candidate_redirect,ref,ref1,_this;return setTimeout((_this=this,function(){var mixpanel_data,ref,ref1,ref2,ref3,ref4,ref5,ref6,ref7,ref8,ref9,track_data;if(!_this.model.get("logged_in")){_this.handleSampleTest();try{mixpanel_data={test_hash:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0},track_data={},HR.params&&(HR.params.utm_source&&(mixpanel_data.utm_source=HR.params.utm_source,track_data.utm_source=HR.params.utm_source),HR.params.utm_medium&&(mixpanel_data.utm_medium=HR.params.utm_medium,track_data.utm_medium=HR.params.utm_medium),HR.params.utm_campaign&&(mixpanel_data.utm_campaign=HR.params.utm_campaign,track_data.utm_campaign=HR.params.utm_campaign)),track_data.attempt_id=null!=(ref2=HR.candidate)&&null!=(ref3=ref2.candidateAttemptModel)?ref3.get("id"):void 0,track_data.test_id=null!=(ref4=HR.candidate)&&null!=(ref5=ref4.candidateTestModel)?ref5.get("unique_id"):void 0,track_data.company_id=(null!=(ref6=HR.candidate)&&null!=(ref7=ref6.candidateTestModel)?ref7.get("company_id"):void 0)||null,track_data.job_id=(null!=(ref8=HR.candidate)&&null!=(ref9=ref8.candidateAttemptModel)?ref9.get("job_id"):void 0)||null,HR.util.candidateTrack(HR.loginWithHREvent,"CandidatePageLoad",track_data),HR.util.track("CandidatePageLoad",mixpanel_data)}catch(error1){}return _this.setSubView()}})),!this.dummy_ckeditor&&(null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.isCkeditorRequired():void 0)&&(HR.CKEDITOR_LOADING_IN_PROGRESS=!0,HR.requires([HR.CKEDITOR_URL],function(){var ref2,ref3;if(!this.dummy_ckeditor)return this.dummy_ckeditor=new HR.CkeditorLoaderView({instance_name:"dummy-ckeditor",config:{toolbar:[["Bold","Italic","Underline","Subscript","Superscript","-","NumberedList","BulletedList","-","Indent","Outdent","-","CodeSnippet"]],removePlugins:"elementspath,liststyle",extraPlugins:"codesnippet",language:"en",defaultLanguage:"en"}}),this.dummy_ckeditor.render(),"undefined"!=typeof CKEDITOR&&null!==CKEDITOR&&null!=(ref2=CKEDITOR.instances)&&null!=(ref3=ref2["dummy-ckeditor"])?ref3.destroy():void 0})),HR.util.isUnsupportedDevice()&&this.displayErrBanner({header:"Unsupported device",content:"This test cannot be taken on this device. Please take this test from a computer with the latest version of any modern browser."}),"True"===this.model.get("secure")&&HR.util.isUnsupportedFullScreenBrowser()&&this.displayErrBanner({header:"Unsupported browser",content:"This test uses browser features that are not supported in your current browser. Please use the latest version of Chrome, Firefox or Microsoft Edge to take the test."}),HR.util.isOldBrowser()&&this.displayErrBanner({header:"Unsupported browser version",content:"This version of the browser is not supported. Please use the latest version of Chrome, Firefox or Internet Explorer/Edge to take the test."}),HR.util.isIE10OrBelow()&&this.displayBanner({header:"Deprecated browser",content:"You are using a version of Internet Explorer that is not supported by Microsoft. You are recommended to upgrade to IE11 or Edge or the latest version of any modern browser for a safe browsing experience"}),this.model.get("facebook_login")&&!window.fbAdded&&(window.fbAdded=!0,$.getScript("/assets/fb.js")),this.model.get("logged_in")&&this.model.get("attempt_done")&&(this.model.get("test_finish_url")&&!0!==this.model.get("redirect_after_feedback")?this.$(".main-content").removeClass("white-grid-block"):setTimeout(function(_this){return function(){return _this.$(".main-content").addClass("customer-feedback-box")}}(this))),$(document).keydown(function(_this){return function(e){if(27===e.keyCode)return _this.hideQuestionTable(e)}}(this)),$(this.el).find("div.gray").length>0?setTimeout(function(_this){return function(){return _this.render()}}(this),700):this.model.get("logged_in")&&this.model.get("attempt_done")&&this.model.get("test_finish_url")&&!0!==this.model.get("redirect_after_feedback")&&(this.redirectTimer&&clearTimeout(this.redirectTimer),candidate_redirect=function(_this){return function(){var finishUrl;return clearTimeout(_this.redirectTimer),finishUrl=_this.model.get("test_finish_url"),HR.logoutAttempt(),window.location.href=finishUrl}}(this),this.redirectTimer=setTimeout(function(){return candidate_redirect()},3e3)),this},RecruitCandidateLoginView.prototype.displayErrBanner=function(bannerObj){return this.$(".sub-view-container").addClass("hidden"),this.$(".js-error").addClass("error"),this.displayBanner(bannerObj)},RecruitCandidateLoginView.prototype.handleSampleTest=function(){var el,href,j,len,ref,results;if(window.use_codeshellx){for(results=[],j=0,len=(ref=this.$("a")).length;j<len;j++)el=ref[j],(href=$(el).attr("href"))&&href.match(/tests\/sample/)?(href=href.replace(/tests\/sample/,"tests/samplecsx"),results.push($(el).attr("href",href))):results.push(void 0);return results}},RecruitCandidateLoginView.prototype.displayBanner=function(bannerObj){var $err;return($err=this.$(".js-error")).find("header").html(bannerObj.header),$err.find("p").html(bannerObj.content),$err.removeClass("hide")},RecruitCandidateLoginView.prototype.isHRCandidateLogin=function(){return this.model.get("hr_candidate_login")},RecruitCandidateLoginView.prototype.isCertificationFlow=function(){return HR&&HR.params&&HR.params.hrsc&&"community"===HR.params.hrsc_src&&HR.params.test_uid},RecruitCandidateLoginView.prototype.isCandidateAuthenticated=function(){return HR&&HR.params&&HR.params.username&&HR.params.password},RecruitCandidateLoginView.prototype.shouldShowHackerRankLogin=function(){return this.isHRCandidateLogin()&&(this.isCandidateAuthenticated()||HR.util.isPublicLink())},RecruitCandidateLoginView.prototype.shouldShowFollowBadge=function(){return this.isHRCandidateLogin()&&this.isHackerAssociated()&&this.isHackerRankCompanyAssociated()},RecruitCandidateLoginView.prototype.isHackerRankCompanyAssociated=function(){return HR.candidate&&HR.candidate.candidateTestModel&&HR.candidate.candidateTestModel.get("hr_company_id")},RecruitCandidateLoginView.prototype.isHackerAssociated=function(){return HR.candidate&&HR.candidate.candidateAttemptModel&&HR.candidate.candidateAttemptModel.get("hacker_associated")},RecruitCandidateLoginView.prototype.setSubView=function(){return this.initiateModels(),this.shouldShowHackerRankLogin()?this.fetchSubviewData():(this.setCandidateDetailsSubview(),this.renderSubview())},RecruitCandidateLoginView.prototype.setCandidateDetailsSubview=function(){return this.subView="candidate-details",this.hackerDirectLogin=!0},RecruitCandidateLoginView.prototype.setHRLoginSubview=function(){return this.subView="hr-login",this.hackerDirectLogin=!1},RecruitCandidateLoginView.prototype.isAuthenticatedEmail=function(){return this.model.get("auth_valid")||HR.hackerProfile.emails().indexOf(HR.params.username)>-1},RecruitCandidateLoginView.prototype.checkHackerEmailAndSetView=function(){var metricAttr,ref,ref1;return this.isAuthenticatedEmail()?(this.setCandidateDetailsSubview(),this.renderSubview(),this.heapEventSent?void 0:(this.heapEventSent=!0,metricAttr={username:HR.hackerProfile.get("email"),test_hash:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0},this.model.get("auth_valid")?HR.util.candidateTrack(HR.loginWithHREvent,"Hacker Logged in and public link used",metricAttr):HR.util.candidateTrack(HR.loginWithHREvent,"Hacker Logged in with same email as invited",metricAttr))):(this.setHRLoginSubview(),this.checkHackerWithAuthEmail())},RecruitCandidateLoginView.prototype.checkHackerWithAuthEmail=function(){var possibleHacker,_this;return possibleHacker=new HR.Profile,HR&&HR.params&&HR.params.username?((possibleHacker=new HR.Profile).set("email",HR.params.username),possibleHacker.setAction("find_by_email"),possibleHacker.fetch({success:(_this=this,function(model){return model.get("id")?model.get("id")===HR.hackerProfile.get("id")?_this.setCandidateDetailsSubview():_this.setHRLoginSubview():_this.isHackerLoggedIn(HR.hackerProfile)&&_this.setCandidateDetailsSubview(),_this.renderSubview({possibleHacker:model})})})):(this.setHRLoginSubview(),void this.renderSubview({possibleHacker:possibleHacker}))},RecruitCandidateLoginView.prototype.isHackerLoggedIn=function(model){return model.get("id")},RecruitCandidateLoginView.prototype.fetchSubviewData=function(){return HR.hackerProfile.fetch({success:(_this=this,function(hackerModel){if(!_this.model.get("attempt_done"))return _this.isHackerLoggedIn(hackerModel)?_this.checkHackerEmailAndSetView():(_this.setHRLoginSubview(),_this.checkHackerWithAuthEmail())})});var _this},RecruitCandidateLoginView.prototype.addSecondaryEmail=function(e){var $container,$currentTarget,email;return e.preventDefault(),$currentTarget=$(e.currentTarget),email=$currentTarget.data("email"),$container=$(".email-secondary-container"),$.ajax({url:"/recruit/hackers/"+HR.hackerProfile.get("id"),type:"PUT",data:{email:email},success:function(response){return response.status?$container.html(email+" has been added as a secondary email to your HackerRank account"):console.log("failed")}})},RecruitCandidateLoginView.prototype.initiateModels=function(){return HR.hackerProfile=new HR.Profile},RecruitCandidateLoginView.prototype.renderSubview=function(options){var ref,view;return null==options&&(options={}),view=new this.subViewsHash[this.subView]({test:this.model,parent:this,possibleHacker:null!=(ref=options.possibleHacker)?ref:new HR.Profile,shareProfile:this.shareProfile,hackerDirectLogin:this.hackerDirectLogin}),this.add_subview(view),this.$(".sub-view-container").html(view.render().el)},RecruitCandidateLoginView.prototype._setLoadingState=function(state,error){return null==error&&(error=null),window._errs||(window._errs={}),window._errs.meta||(window._errs.meta={}),window._errs.meta.preloadstate="state:"+state+", error:"+error},RecruitCandidateLoginView.prototype.shouldLoadKrackJack=function(){var base;return!("function"!=typeof(base=this.model).get||!base.get("code_editors"))&&indexOf.call(this.model.get("code_editors"),"krackjack")>=0},RecruitCandidateLoginView.prototype.shouldLoadCodeShell=function(){var base;return"function"!=typeof(base=this.model).get||!base.get("code_editors")||indexOf.call(this.model.get("code_editors"),"codeshell")>=0},RecruitCandidateLoginView.prototype.preloadTest=function(){var codemirrorlangs,langloaderr,templatefilekeys,_this;return HR.candidate.loadTryCount+=1,langloaderr=!1,
window.use_codeshellx?(console.log("This test will load codeshellx"),void this._setLoadingState(this.LOADED_DONE)):HR.MANIFEST&&_.keys(HR.MANIFEST).length>0?(this._setLoadingState(this.LOADED_BEGIN),_.keys(HR.MANIFEST),templatefilekeys=[],codemirrorlangs=["c","cpp","java","csharp","php","python","ruby","javascript","perl","haskell","scala","clojure","go","erlang","groovy","java8","oracle","cobol","visualbasic","r","octave"],HR.requires(templatefilekeys,(_this=this,function(){if(_this._setLoadingState(_this.LOADED_TEMPLATES),_this.shouldLoadKrackJack()&&HR.appController.loadKrackJack(),_this.shouldLoadCodeShell())return HR.appController.loadCodeMirror(function(){var j,lang,len;for(_this._setLoadingState(_this.LOADED_CODEMIRROR),j=0,len=codemirrorlangs.length;j<len;j++)lang=codemirrorlangs[j],HR.appController.loadCodeMirrorMode(lang,function(e){if(e)return langloaderr=!0,_this._setLoadingState(_this.LOADED_DONE,"lang load issue"),HR.preload(_this)});return setTimeout(function(){if(!langloaderr)return _this._setLoadingState(_this.LOADED_DONE)},1e4)},function(){return _this._setLoadingState(_this.LOADED_TEMPLATES,"codemirror load issue"),HR.preload(_this)})}),function(_this){return function(){return _this._setLoadingState(_this.LOADED_TEMPLATES,"template load issue"),HR.preload(_this)}}(this))):this._setLoadingState(this.LOADED_DONE)},RecruitCandidateLoginView.prototype.skipFeedback=function(e){var finishUrl,ref,ref1,ref2,ref3,ref4,ref5,track_data;return e.preventDefault(),$.jStorage.set("feedback_skipped_"+HR.candidate.candidateTestModel.get("attempt"),!0),track_data={test_id:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,attempt_id:null!=(ref2=HR.candidate)&&null!=(ref3=ref2.candidateAttemptModel)?ref3.get("id"):void 0,company_id:(null!=(ref4=HR.candidate)&&null!=(ref5=ref4.candidateTestModel)?ref5.get("company_id"):void 0)||null},HR.util.candidateTrack("Click","PostTestCandidateSkip",track_data),HR.candidate.candidateTestModel.get("test_finish_url")&&!0===HR.candidate.candidateTestModel.get("redirect_after_feedback")?(finishUrl=HR.candidate.candidateTestModel.get("test_finish_url"),HR.logoutAttempt(),window.location.href=finishUrl):HR.candidateNavigate(HR.candidate.candidateTestModel.get("unique_id")+"/feedback/done")},RecruitCandidateLoginView.prototype.submitFeedback=function(){var data,feedbackOnlineIDE,feedbackOptions,feedbackQuestions,ref,ref1,ref2,ref3,ref4,ref5,track_data,_this;return this.disableButton("test-submit-feedback"),data={},feedbackOptions=$('input[name="feedback-option"]:checked').map(function(){return $(this).val()}).get(),feedbackQuestions=$('input[name="feedback-questions-option"]:checked').map(function(){return $(this).val()}).get(),feedbackOnlineIDE=$('input[name="feedback-onlineIDE-option"]:checked').map(function(){return $(this).val()}).get(),HR.candidate.candidateAttemptModel.set("feedback_options",feedbackOptions),HR.candidate.candidateAttemptModel.set("feedback_questions",feedbackQuestions),HR.candidate.candidateAttemptModel.set("feedback_onlineIDE",feedbackOnlineIDE),HR.candidate.candidateAttemptModel.set("feedback_text",this.$(".feedback-text").val()),HR.candidate.candidateAttemptModel.save(data,{success:function(){var finishUrl;try{HR.util.track("Gave Feedback",{email_id:HR.candidate.candidateAttemptModel.get("email"),test_id:HR.candidate.candidateTestModel.get("unique_id"),company_name:HR.candidate.candidateTestModel.get("company_name")})}catch(error1){}return HR.candidate.candidateTestModel.get("test_finish_url")&&!0===HR.candidate.candidateTestModel.get("redirect_after_feedback")?(finishUrl=HR.candidate.candidateTestModel.get("test_finish_url"),HR.logoutAttempt(),window.location.href=finishUrl):HR.candidateNavigate(HR.candidate.candidateTestModel.get("unique_id")+"/feedback/done")},error:(_this=this,function(){return _this.enableButton("test-submit-feedback")})}),track_data={test_id:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,attempt_id:null!=(ref2=HR.candidate)&&null!=(ref3=ref2.candidateAttemptModel)?ref3.get("id"):void 0,company_id:(null!=(ref4=HR.candidate)&&null!=(ref5=ref4.candidateTestModel)?ref5.get("company_id"):void 0)||null},HR.util.candidateTrack("Click","CandidateSubmitFeedback",track_data)},RecruitCandidateLoginView.prototype.clickProductRatingStar=function(e){return this.clickStar(e,"product_rating")},RecruitCandidateLoginView.prototype.clickQuestionRatingStar=function(e){return this.clickStar(e,"question_rating")},RecruitCandidateLoginView.prototype.clickStar=function(e,parameter){var $currentTarget,feedback,feedbackTemplate,i,index,questionsList,roleBased,roleBasedTypes;for(e.preventDefault(),index=($currentTarget=$(e.currentTarget)).parent().find(".icon--single").index($currentTarget),this.$(".feedback-generic").remove(),roleBased=!1,roleBasedTypes=["frontend","backend","fullstack"],questionsList=HR.candidate.candidateTestModel.toJSON().questions_list,i=0;questionsList&&i<questionsList.length;){if(roleBasedTypes.indexOf(questionsList[i].type)>-1){roleBased=!0;break}i++}for(feedback=void 0,index<=2?(feedback=this.FEEDBACK_OPTIONS.bad,roleBased&&feedback.options.indexOf(i18next.t("feedback.online_ide"))<0&&feedback.options.push(i18next.t("feedback.online_ide"))):(feedback=this.FEEDBACK_OPTIONS.good,roleBased&&feedback.options.indexOf(i18next.t("feedback.online_ide"))<0&&feedback.options.indexOf(i18next.t("feedback.work_offline"))<0&&(feedback.options.push(i18next.t("feedback.online_ide")),feedback.options.push(i18next.t("feedback.work_offline")))),feedbackTemplate=_.template(this.feedbackTemplate,{feedback:feedback}),this.$(".feedback-categories").html(feedbackTemplate),$(".feedback-detail").slideDown(),i=0;i<index+1;)$currentTarget.parent().find(".icon--single").eq(i).removeClass("icon-star-empty").addClass("icon-star"),i+=1;for(;i<5;)$currentTarget.parent().find(".icon--single").eq(i).removeClass("icon-star").addClass("icon-star-empty"),i+=1;return HR.candidate.candidateAttemptModel.set(parameter,index+1),HR.candidate.candidateAttemptModel.save({})},RecruitCandidateLoginView.prototype.disableButton=function(cssClass){return this.$("button."+cssClass).attr("disabled",!0).addClass("disabled")},RecruitCandidateLoginView.prototype.enableButton=function(cssClass){return this.$("button."+cssClass).attr("disabled",!1).removeClass("disabled")},RecruitCandidateLoginView.prototype.loginToFB=function(){return window.location=this.model.get("facebook_login_url")},RecruitCandidateLoginView.prototype.dullFeedbackCTA=function(){return this.$("button.test-submit-feedback").removeClass("btn-primary")},RecruitCandidateLoginView.prototype.liveFeedbackCTA=function(){return this.$("button.test-submit-feedback").addClass("btn-primary")},RecruitCandidateLoginView.prototype.logoutTest=function(){return window.candidate={},$.jStorage.set("feedback_skipped_"+HR.candidate.candidateTestModel.get("attempt"),void 0)},RecruitCandidateLoginView.prototype.showQuestionsTable=function(){var logoHeight,newHeight,quesListTemplate,ref;return quesListTemplate=_.template(this.questionListTemplate,{test:this.model.attributes}),this.$(".js-sub-headline").append(quesListTemplate).hide().fadeIn(),null!=(null!=(ref=this.model.attributes)?ref.logo:void 0)&&(newHeight=(logoHeight=this.$(".test-logo").height()||0)+this.$(".full-qs-list-top").position().top,logoHeight>0&&(newHeight+=10),this.$(".full-qs-list-top").css("top",newHeight)),HR.util.candidateTrack("Hover","LoginPageShowQuestionsTable",{})},RecruitCandidateLoginView.prototype.closeQuestionTable=function(){return this.$(".full-qs-list-top").remove(),this.$(".overlay").remove()},RecruitCandidateLoginView.prototype.hideQuestionTable=function(e){var _this;if(0!==this.$(".full-qs-list-top").length)return this.$(".full-qs-list-top").fadeOut(500,(_this=this,function(){return _this.closeQuestionTable(e)}))},RecruitCandidateLoginView.prototype.preventClick=function(e){return e.preventDefault()},RecruitCandidateLoginView}(window.HR.GenericView),(HR=null!=(ref=window.HR)?ref:{}).RecruitCandidateLoginView=RecruitCandidateLoginView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,RecruitWebcamView,ref;return RecruitWebcamView=function(superClass){function RecruitWebcamView(){return RecruitWebcamView.__super__.constructor.apply(this,arguments)}return extend(RecruitWebcamView,superClass),RecruitWebcamView.prototype.template="recruit/candidatewebcam",RecruitWebcamView.prototype.className="candidate-webcam",RecruitWebcamView.prototype.events={"click .js-enable-webcam":"enableWebcam","click .js-gototest":"gotoTest"},RecruitWebcamView.prototype.initialize=function(options){return this.model=options.model},RecruitWebcamView.prototype.render=function(){return $(this.el).html(HR.appController.template(this.template,this)({test:this.model.attributes})),this},RecruitWebcamView.prototype.onCameraError=function(e){var message;return $.removeCookie("webcamavailable",{path:"/"}),$.removeCookie("webcamavailable"),this.$(".js-successtext").addClass("hidden"),this.$(".js-errortext").removeClass("hidden"),message="Try again: Enable webcam","NotAllowedError"===e.name&&(message="You denied access",this.$(".js-errortext").text("You denied camera access. Please enable from site settings in the browser address bar and reload.")),this.$(".js-enable-webcam").html(message),this.$(".js-enable-webcam").removeClass("hidden")},RecruitWebcamView.prototype.enableWebcam=function(e){return e.preventDefault(),HR.util.isUnsupportedProctoring()?(this.$(".js-errortext").html("Your browser does not support Proctoring. Please use Chrome or Firefox for best experience"),void this.$(".js-errortext").removeClass("hidden")):(this.$(".js-webcam-holder").removeClass("hidden"),this.$(".js-enable-webcam").html("Awaiting access.."),Webcam.set({width:640,height:480}),Webcam.on("error",(_this=this,function(e){return _this.onCameraError(e)})),Webcam.on("live",function(_this){return function(){return HR.candidate.webcamavailable=!0,$.cookie("webcamavailable","1"),_this.$(".js-errortext").addClass("hidden"),_this.$(".js-enable-webcam").addClass("hidden"),_this.$(".js-successtext").removeClass("hidden")}}(this)),Webcam.attach(".js-webcam-holder"));var _this},RecruitWebcamView.prototype.gotoTest=function(){return Webcam.reset(),HR.candidate.candidateAttemptModel&&!1===HR.candidate.candidateAttemptModel.get("attempt_done")?(console.log(1),window.location.href="/tests/"+this.model.get("unique_id")+"/redirect"):(console.log(2),setTimeout((_this=this,function(){return HR.router.navigate(_this.model.get("unique_id")+"/redirect",{trigger:!0,replace:!0})})));var _this},RecruitWebcamView}(window.HR.GenericView),(HR=null!=(ref=window.HR)?ref:{}).RecruitWebcamView=RecruitWebcamView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,HackerRankLoginView;return HackerRankLoginView=function(superClass){function HackerRankLoginView(){return HackerRankLoginView.__super__.constructor.apply(this,arguments)}return extend(HackerRankLoginView,superClass),HackerRankLoginView.prototype.template="recruit/hackerrank-login",HackerRankLoginView.prototype.formAction="login",HackerRankLoginView.prototype.initialize=function(options){return null==options&&(options={}),this.parent=options.parent,this.model=HR.hackerProfile,this.test=options.test,this.possibleHacker=options.possibleHacker,this._prefillDetails=this.parent._prefillDetails},HackerRankLoginView.prototype.events={"click .show-login-form":"setLoginForm","click .show-signup-form":"setSignupForm","click .switch-user":"logoutAndSetLoginForm","click .show-password-reset-form":"showPasswordResetForm","submit form[name=password-reset]":"resetPassword","click a.btn-facebook":"facebookConnect","click a.btn-google":"googleConnect","click a.btn-github":"githubConnect","click button.login-button":"loginWithHR","click button.signup-button":"signupOnHR","click a.params-signup":"setParamsSignup","click a.possible-hacker-login":"setHackerLogin","change input[name=hacker-select]":"togglePassword","click .continue-button":"continueWithSelection","click a.solve-later-button":"solveLater","click button.get-challenge-link-button":"sendChallengeLink","keyup #js-solve-later-email-address":"clickSendChallengeButton"},HackerRankLoginView.prototype._render=function(){var loader;return(loader=HR.appController.templateOnSteroids(this.template,this))&&$(this.el).html(loader),this},HackerRankLoginView.prototype._applyTemplate=function(){var content;return content=this._template({action:this.formAction,model:this.model.toJSON(),test:this.test.toJSON(),possibleHacker:this.possibleHacker?this.possibleHacker.toJSON():void 0,forgotPasswordLink:document.location.protocol+"//"+document.location.host+"/auth/forgot_password",solveLaterEnabled:this.solveLaterEnabled()}),$(this.el).html(content),this.postApplyTemplate(),this},HackerRankLoginView.prototype.postApplyTemplate=function(){return setTimeout((_this=this,function(){return _this.setupFormForHacker()}));var _this},HackerRankLoginView.prototype.setLoginForm=function(e){var metricAttr,ref,ref1;return null==e&&(e=null),e&&e.preventDefault(),$(".signup").addClass("hidden"),$(".login").removeClass("hidden"),$(".login-selection").addClass("hidden"),(metricAttr=HR&&HR.params&&HR.params.username?{username:HR.params.username}:{}).test_hash=null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,HR.util.candidateTrack(HR.loginWithHREvent,"Show login form clicked",metricAttr)},HackerRankLoginView.prototype.setSignupForm=function(e){var metricAttr,ref,ref1;return null==e&&(e=null),e&&e.preventDefault(),$(".signup").removeClass("hidden"),$(".login").addClass("hidden"),$(".login-selection").addClass("hidden"),(metricAttr=HR&&HR.params&&HR.params.username?{username:HR.params.username}:{}).test_hash=null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,HR.util.candidateTrack(HR.loginWithHREvent,"Show Signup Form Link Clicked",metricAttr)},HackerRankLoginView.prototype.isPossibleHackerPresent=function(){return this.possibleHacker.get("id")},HackerRankLoginView.prototype.isHackerLoggedIn=function(){return this.model.get("id")},HackerRankLoginView.prototype.setupFormForHacker=function(){var metricAttr,ref,ref1,ref2,ref3,ref4,ref5,ref6,ref7;if(!this._prefillDetails)return this.setLoginForm(),!1;if(this.isHackerLoggedIn()){if(this.isPossibleHackerPresent()&&((null!=HR&&null!=(ref=HR.params)?ref.hrsc:void 0)&&(null!=HR&&null!=(ref1=HR.params)?ref1.job_id:void 0)||this.setSelectionForm(),!this.parent.heapEventSent))return this.parent.heapEventSent=!0,metricAttr={test_hash:null!=(ref2=HR.candidate)&&null!=(ref3=ref2.candidateTestModel)?ref3.get("unique_id"):void 0,username:HR.params?HR.params.username:"",attribute2:HR.hackerProfile.get("email")},HR.util.candidateTrack(HR.loginWithHREvent,"Hacker Logged in | Invited email different from logged in Email",metricAttr)}else if(this.isPossibleHackerPresent()){if(this.setLoginForm(),this.prefillPossibleHackerDetails(),!this.parent.heapEventSent)return this.parent.heapEventSent=!0,metricAttr={username:HR.params?HR.params.username:"",test_hash:null!=(ref4=HR.candidate)&&null!=(ref5=ref4.candidateTestModel)?ref5.get("unique_id"):void 0},HR.util.candidateTrack(HR.loginWithHREvent,"Hacker not Logged in | Hacker with invited email found",metricAttr)}else if(HR&&HR.params&&HR.params.username&&this.prefillParamsDetails(),HR&&HR.params&&"login"===HR.params.form?this.setLoginForm():this.setSignupForm(),!this.parent.heapEventSent)return this.parent.heapEventSent=!0,metricAttr={username:HR.params?HR.params.username:"",test_hash:null!=(ref6=HR.candidate)&&null!=(ref7=ref6.candidateTestModel)?ref7.get("unique_id"):void 0},HR.util.candidateTrack(HR.loginWithHREvent,"Hacker not Logged in | Hacker with invited email not found",metricAttr)},HackerRankLoginView.prototype.logoutAndSetLoginForm=function(e){return e.preventDefault(),this.logoutCurrentHacker(this.setLoginForm)},HackerRankLoginView.prototype.prefillPossibleHackerDetails=function(){return $(".login input[name=login]").val(this.possibleHacker.get("email"))},HackerRankLoginView.prototype.prefillParamsDetails=function(){if(HR&&HR.params&&HR.params.username)return $(".signup input[name=email]").val(HR.params.username)},HackerRankLoginView.prototype.setSelectionForm=function(){return $(".signup").addClass("hidden"),$(".login").addClass("hidden"),$(".login-selection").removeClass("hidden")},HackerRankLoginView.prototype.togglePassword=function(e){var $currentTarget;return"invited-user"===($currentTarget=$(e.currentTarget)).val()&&$currentTarget.prop("checked")?$(".login-selection .password-input").slideDown(100):$(".login-selection .password-input").slideUp(100)},HackerRankLoginView.prototype.continueWithSelection=function(e){var _this;return e.preventDefault(),$(e.currentTarget),"logged-in-user"===this.$("input[name=hacker-select]:checked").val()?this.renderCandidateDetailsView():(this,$.ajax({url:"/recruit/hackers/check_hacker_login",type:"POST",data:{email:this.possibleHacker.get("email"),password:$("input#selection-password").val()},success:(_this=this,function(response){var $form,error_html;return $form=$("#legacy-selection"),response.status?_this.logoutCurrentHacker(_this.loginInvitedHacker):response.errors.length>1?(error_html="<ul>",_.each(response.errors,function(error){return error_html+="<li>"+error+"</li>"},_this),error_html+="</ul>",$form.find(".error").html(error_html).removeClass("hidden")):$form.find(".error").html(response.errors[0]).removeClass("hidden")})}))},HackerRankLoginView.prototype.logoutCurrentHacker=function(successCallback){return $.ajax({url:"/auth/logout",type:"DELETE",beforeSend:function(xhr){return xhr.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))},success:(_this=this,function(response){if(response.status)return $.ajax({url:"/x/set_csrf_token",type:"GET",success:function(response){return $("meta[name=csrf-token]").attr("content",response.csrf_token),HR.hackerProfile=new HR.Profile,successCallback.call(_this)}})})});var _this},HackerRankLoginView.prototype.loginInvitedHacker=function(){var $button,$form,data,_this;if("disabled"!==($button=this.$(".continue-button")).attr("disabled"))return $button=this.$(".continue-button").attr("disabled","disabled"),data={login:this.possibleHacker.get("email"),password:$("input#selection-password").val(),remember_me:!0},$button.html("Logging in..."),($form=$(".login-selection").find("form")).find(".error").addClass("hidden"),$.ajax({type:"POST",url:"/auth/login",data:data,success:(_this=this,function(data){var error_html,mixpanel_data,ref,ref1,ref2,ref3,track_data;if(_this.$(".continue-button").attr("disabled",!1),data.status){try{mixpanel_data={test_hash:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,func_name:"invitedHacker"},track_data={attribute1:"invitedHacker"},HR.params&&(HR.params.utm_source&&(mixpanel_data.utm_source=HR.params.utm_source,track_data.utm_source=HR.params.utm_source),HR.params.utm_medium&&(mixpanel_data.utm_medium=HR.params.utm_medium,track_data.utm_medium=HR.params.utm_medium),HR.params.utm_campaign&&(mixpanel_data.utm_campaign=HR.params.utm_campaign,track_data.utm_campaign=HR.params.utm_campaign),HR.params.tuuid&&(track_data.attribute2=HR.params.tuuid)),track_data.test_hash=null!=(ref2=HR.candidate)&&null!=(ref3=ref2.candidateTestModel)?ref3.get("unique_id"):void 0,HR.util.candidateTrack(HR.loginWithHREvent,"Candidate_Login",track_data),HR.util.track("Candidate_Login",mixpanel_data)}catch(error1){}return $.ajax({url:"/x/set_csrf_token",type:"GET",success:function(response){return $("meta[name=csrf-token]").attr("content",response.csrf_token),HR.hackerProfile=new HR.Profile,HR.hackerProfile.fetch({success:function(model){if(model.get("id"))return _this.renderCandidateDetailsView()}})}})}return _this.$(".continue-button").html("Continue"),data.errors.length>1?(error_html="<ul>",_.each(data.errors,function(error){return error_html+="<li>"+error+"</li>"},_this),error_html+="</ul>",$form.find(".error").html(error_html).removeClass("hidden")):$form.find(".error").html(data.errors[0]).removeClass("hidden")})})},HackerRankLoginView.prototype.setParamsSignup=function(e){return e.preventDefault(),this.setSignupForm(),this.prefillParamsDetails()},HackerRankLoginView.prototype.setHackerLogin=function(e){return e.preventDefault(),this.setLoginForm(),this.prefillPossibleHackerDetails()},HackerRankLoginView.prototype.renderCandidateDetailsView=function(){return this.parent.shareProfile=this.shareProfile,this.parent.subView="candidate-details",this.parent.hackerDirectLogin=!1,this.parent.renderSubview()},HackerRankLoginView.prototype.facebookConnect=function(e){var h,left,top,w;return e.preventDefault(),e.data,w=600,h=350,left=screen.width/2-w/2,top=screen.height/2-h/2,window.currentView=this,window.login_callback=function(){return $.ajax({url:"/x/set_csrf_token",type:"GET",success:function(response){var mixpanel_data,ref,ref1,ref2,ref3,track_data;$("meta[name=csrf-token]").attr("content",response.csrf_token);try{mixpanel_data={test_hash:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,func_name:"facebookConnect"},track_data={attribute1:"facebookConnect"},HR.params&&(HR.params.utm_source&&(mixpanel_data.utm_source=HR.params.utm_source,track_data.utm_source=HR.params.utm_source),HR.params.utm_medium&&(mixpanel_data.utm_medium=HR.params.utm_medium,track_data.utm_medium=HR.params.utm_medium),HR.params.utm_campaign&&(mixpanel_data.utm_campaign=HR.params.utm_campaign,track_data.utm_campaign=HR.params.utm_campaign),HR.params.tuuid&&(track_data.attribute2=HR.params.tuuid)),track_data.test_hash=null!=(ref2=HR.candidate)&&null!=(ref3=ref2.candidateTestModel)?ref3.get("unique_id"):void 0,HR.util.candidateTrack(HR.loginWithHREvent,"Candidate_SocialAuth",track_data),HR.util.track("Candidate_SocialAuth",mixpanel_data)}catch(error1){e=error1}return HR.hackerProfile.fetch({success:function(model){if(model.get("id"))return window.currentView.renderCandidateDetailsView()}})}})},window.open("/hackers/auth/facebook?display=popup&source=hrw","facebook_login","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+w+", height="+h+", top="+top+", left="+left)},HackerRankLoginView.prototype.googleConnect=function(e){var h,left,top,w;return e.preventDefault(),e.data,w=600,h=500,left=screen.width/2-w/2,top=screen.height/2-h/2,window.currentView=this,window.login_callback=function(){return $.ajax({url:"/x/set_csrf_token",type:"GET",success:function(response){var mixpanel_data,ref,ref1,ref2,ref3,track_data;$("meta[name=csrf-token]").attr("content",response.csrf_token);try{mixpanel_data={test_hash:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,func_name:"googleConnect"},track_data={attribute1:"googleConnect"},HR.params&&(HR.params.utm_source&&(mixpanel_data.utm_source=HR.params.utm_source,track_data.utm_source=HR.params.utm_source),HR.params.utm_medium&&(mixpanel_data.utm_medium=HR.params.utm_medium,track_data.utm_medium=HR.params.utm_medium),HR.params.utm_campaign&&(mixpanel_data.utm_campaign=HR.params.utm_campaign,track_data.utm_campaign=HR.params.utm_campaign),HR.params.tuuid&&(track_data.attribute2=HR.params.tuuid)),track_data.test_hash=null!=(ref2=HR.candidate)&&null!=(ref3=ref2.candidateTestModel)?ref3.get("unique_id"):void 0,HR.util.candidateTrack(HR.loginWithHREvent,"Candidate_SocialAuth",track_data),HR.util.track("Candidate_SocialAuth",mixpanel_data)}catch(error1){e=error1}return HR.hackerProfile.fetch({success:function(model){if(model.get("id"))return window.currentView.renderCandidateDetailsView()}})}})},window.open("/hackers/auth/google_oauth2?display=popup&source=hrw","google_login","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+w+", height="+h+", top="+top+", left="+left)},HackerRankLoginView.prototype.githubConnect=function(e){var h,left,top,w;return e.preventDefault(),e.data,w=960,h=500,left=screen.width/2-w/2,top=screen.height/2-h/2,window.currentView=this,window.login_callback=function(){return $.ajax({url:"/x/set_csrf_token",type:"GET",success:function(response){var mixpanel_data,ref,ref1,ref2,ref3,track_data;$("meta[name=csrf-token]").attr("content",response.csrf_token);try{mixpanel_data={test_hash:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,func_name:"githubConnect"},track_data={attribute1:"githubConnect"},HR.params&&(HR.params.utm_source&&(mixpanel_data.utm_source=HR.params.utm_source,track_data.utm_source=HR.params.utm_source),HR.params.utm_medium&&(mixpanel_data.utm_medium=HR.params.utm_medium,track_data.utm_medium=HR.params.utm_medium),HR.params.utm_campaign&&(mixpanel_data.utm_campaign=HR.params.utm_campaign,track_data.utm_campaign=HR.params.utm_campaign),HR.params.tuuid&&(track_data.attribute2=HR.params.tuuid)),track_data.test_hash=null!=(ref2=HR.candidate)&&null!=(ref3=ref2.candidateTestModel)?ref3.get("unique_id"):void 0,HR.util.candidateTrack(HR.loginWithHREvent,"Candidate_SocialAuth",track_data),HR.util.track("Candidate_SocialAuth",mixpanel_data)}catch(error1){e=error1}return HR.hackerProfile.fetch({success:function(model){if(model.get("id"))return window.currentView.renderCandidateDetailsView()}})}})},window.open("/hackers/auth/github?display=popup&source=hrw","github_login","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+w+", height="+h+", top="+top+", left="+left)},HackerRankLoginView.prototype.showPasswordResetForm=function(e){var metricAttr,ref,ref1,ref2;return e.preventDefault(),this.$(".password-reset-form").slideDown(200),metricAttr={username:(null!=(ref=HR.params)?ref.username:void 0)?HR.params.username:"",test_hash:null!=(ref1=HR.candidate)&&null!=(ref2=ref1.candidateTestModel)?ref2.get("unique_id"):void 0},HR.util.candidateTrack(HR.loginWithHREvent,"Forgot Password link clicked",metricAttr)},HackerRankLoginView.prototype.resetPassword=function(e){var $button,$currentTarget,email,metricAttr,ref,ref1,ref2;if(e.preventDefault(),"disabled"!==($currentTarget=$(e.currentTarget)).attr("disabled"))return $currentTarget.attr("disabled","disabled"),($button=$currentTarget.find("input[type=submit]")).val("Sending Request...").attr("disabled","disabled"),email=this.$("#forgot-password-email").val(),$.ajax({url:"/recruit/hackers/forgot_password",type:"POST",data:{email:email},success:function(response){return $button.attr("disabled",!1).val("Reset password"),response.status?($(".forgot-password-message").html("Instructions have been sent to your email account").removeClass("error").removeClass("hidden"),$currentTarget.attr("disabled",!1)):($(".forgot-password-message").html(response.errors[0]).addClass("error").removeClass("hidden"),$currentTarget.attr("disabled",!1))}}),metricAttr={username:(null!=(ref=HR.params)?ref.username:void 0)?HR.params.username:"",test_hash:null!=(ref1=HR.candidate)&&null!=(ref2=ref1.candidateTestModel)?ref2.get("unique_id"):void 0},HR.util.candidateTrack(HR.loginWithHREvent,"Reset Password button clicked",metricAttr)},HackerRankLoginView.prototype.loginWithHR=function(e){var $currentTarget,$form,data,_this;if(e.preventDefault(),"disabled"!==($currentTarget=$(e.currentTarget)).attr("disabled"))return $currentTarget.attr("disabled","disabled"),$currentTarget.html("Logging in..."),data={login:($form=$($("body").find(".login-group div#hr-login"))).find("input#login").val(),password:$form.find("input#password").val(),remember_me:!0,user_source:"hrw"},$form.find(".error").html("").addClass("hidden"),$.ajax({type:"POST",url:"/auth/login",data:data,success:(_this=this,function(data){var error_html,mixpanel_data,ref,ref1,ref2,ref3,track_data;if($currentTarget.removeAttr("disabled","disabled"),data.status){$(e.currentTarget).html("Logging you in...");try{mixpanel_data={test_hash:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,func_name:"loginWithHR"},track_data={attribute1:"loginWithHR"},HR.params&&(HR.params.utm_source&&(mixpanel_data.utm_source=HR.params.utm_source,track_data.utm_source=HR.params.utm_source),HR.params.utm_medium&&(mixpanel_data.utm_medium=HR.params.utm_medium,track_data.utm_medium=HR.params.utm_medium),HR.params.utm_campaign&&(mixpanel_data.utm_campaign=HR.params.utm_campaign,track_data.utm_campaign=HR.params.utm_campaign),HR.params.tuuid&&(track_data.attribute2=HR.params.tuuid)),track_data.test_hash=null!=(ref2=HR.candidate)&&null!=(ref3=ref2.candidateTestModel)?ref3.get("unique_id"):void 0,HR.util.candidateTrack(HR.loginWithHREvent,"Candidate_Login",track_data),HR.util.track("Candidate_Login",mixpanel_data)}catch(error1){e=error1}return $.ajax({url:"/x/set_csrf_token",type:"GET",success:function(response){return $("meta[name=csrf-token]").attr("content",response.csrf_token),HR.hackerProfile.fetch({success:function(model){return model.get("id")?(_this.shareProfile=null,_this.renderCandidateDetailsView()):($currentTarget.html("Log In"),$form.find(".error").html("").removeClass("hidden"),$form.find(".error").html("<ul><li>There was an issue logging you in. Please Refresh the page and try again.</li></ul>"))}})},error:function(){return $currentTarget.html("Log In"),$form.find(".error").html("").removeClass("hidden"),$form.find(".error").html("<ul><li>There was an issue logging you in. Please Refresh the page and try again.</li></ul>")}})}return $currentTarget.html("Log In"),$form.find(".error").html("").removeClass("hidden"),data.errors.length>1?(error_html="<ul>",_.each(data.errors,function(error){return error_html+="<li>"+error+"</li>"},_this),error_html+="</ul>",$form.find(".error").html(error_html)):$form.find(".error").html(data.errors[0])})})},HackerRankLoginView.prototype.signupOnHR=function(e){var $currentTarget,$form,data,email,name,password;if(e.preventDefault(),"disabled"!==($currentTarget=$(e.currentTarget)).attr("disabled")){if($currentTarget.attr("disabled","disabled").addClass("disabled"),$currentTarget.html("Signing up.."),($form=$($("body").find(".login-group div#hr-signup"))).find("input").removeClass("error"),email=$form.find("input#email").val(),password=$form.find("input#password").val(),!(name=$form.find("input#full_name").val())){$form.find("#full_name").addClass("error"),$form.find("#full_name").attr("data-original-title","Full name cannot be empty");try{$form.find("#full_name").tooltip("show")}catch(error1){e=error1,console.log(e)}return $currentTarget.html("Sign up"),$currentTarget.removeAttr("disabled"),void $currentTarget.removeClass("disabled")}data={email:email,password:password,name:name,hash:HR.util.getParameterByName("b")};try{this.$("input").tooltip("hide")}catch(error1){e=error1,console.log(e)}return this.$("input").removeClass("error"),this.$("input").removeAttr("data-original-title"),$.ajax({type:"POST",url:"/x/hacker_signup",data:data,success:(_this=this,function(data){var key,mixpanel_data,ref,ref1,ref2,ref3,results,track_data;if($form.find("input").removeClass("error"),$currentTarget.removeAttr("disabled"),$currentTarget.removeClass("disabled"),data.status){try{mixpanel_data={test_hash:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0},track_data={},HR.params&&(HR.params.utm_source&&(mixpanel_data.utm_source=HR.params.utm_source,track_data.utm_source=HR.params.utm_source),HR.params.utm_medium&&(mixpanel_data.utm_medium=HR.params.utm_medium,track_data.utm_medium=HR.params.utm_medium),HR.params.utm_campaign&&(mixpanel_data.utm_campaign=HR.params.utm_campaign,track_data.utm_campaign=HR.params.utm_campaign),HR.params.tuuid&&(track_data.attribute2=HR.params.tuuid)),track_data.test_hash=null!=(ref2=HR.candidate)&&null!=(ref3=ref2.candidateTestModel)?ref3.get("unique_id"):void 0,HR.util.candidateTrack(HR.loginWithHREvent,"Candidate_Signup",track_data),HR.util.track("Candidate_Signup",mixpanel_data)}catch(error1){e=error1}return $.ajax({url:"/x/set_csrf_token",type:"GET",success:function(response){
return $("meta[name=csrf-token]").attr("content",response.csrf_token),HR.hackerProfile=new HR.Profile,HR.hackerProfile.fetch({success:function(model){return model.get("id")?(_this.shareProfile=!1,_this.renderCandidateDetailsView()):($currentTarget.html("Sign up"),$form.find(".error").html("").removeClass("hidden"),$form.find(".error").html("<ul><li>There was an issue logging you in. Please Refresh the page and try again.</li></ul>"))}})},error:function(){return $currentTarget.html("Sign up"),$form.find(".error").html("").removeClass("hidden"),$form.find(".error").html("<ul><li>There was an issue logging you in. Please Refresh the page and try again.</li></ul>")}})}for(key in $form.find("input").removeClass("error"),$currentTarget.html("Sign up"),results=[],data.fields)if(0!==data.fields[key].length){$form.find("#"+key).addClass("error"),$("#"+key).attr("data-original-title",data.fields[key].join(","));try{results.push($("#"+key).tooltip("show"))}catch(error1){e=error1,results.push(console.log(e))}}else{$("#"+key).attr("data-original-title","");try{results.push($("#"+key).tooltip("hide"))}catch(error1){e=error1,results.push(console.log(e))}}return results})});var _this}},HackerRankLoginView.prototype.solveLater=function(e){return e.preventDefault(),this.$(".jscs-solve-later-action-block .slide-one").hide(),this.$(".jscs-solve-later-action-block .slide-two").show()},HackerRankLoginView.prototype.clickSendChallengeButton=function(e){if(13===e.keyCode)return this.$("button.get-challenge-link-button").click()},HackerRankLoginView.prototype.sendChallengeLink=function(e){var email_id,that;if(!$(e.currentTarget).hasClass("disabled"))return $(e.currentTarget).addClass("disabled"),this.$(".get-challenge-link-success-message").hide(),this.$(".get-challenge-link-failed-message").hide(),email_id=this.$("#js-solve-later-email-address").val(),/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(email_id)?(that=this,$.ajax({url:"/recruit/tests/"+this.test.get("unique_id")+"/solve_later",type:"POST",data:{email:email_id,job_id:HR.params.job_id,src:HR.params.hrsc_src},error:function(){return that.$(".get-challenge-link-failed-message-text").html("server error. please try again."),that.$(".get-challenge-link-failed-message").show(),$(e.currentTarget).removeClass("disabled")},success:function(data){return $(e.currentTarget).removeClass("disabled"),data.status?(that.$("#solve-later-email-address-span").text(email_id),that.$("#js-solve-later-email-address").val(""),that.$(".get-challenge-link-success-message").show()):(that.$(".get-challenge-link-failed-message-text").html(data.message||"something went wrong"),that.$(".get-challenge-link-failed-message").show())}})):($(e.currentTarget).removeClass("disabled"),this.$(".get-challenge-link-failed-message-text").html("Enter a valid email address"),this.$(".get-challenge-link-failed-message").show())},HackerRankLoginView.prototype.solveLaterEnabled=function(){return HR.candidate.candidateTestModel.get("enable_solve_later")&&HR.params&&HR.params.hrsc},HackerRankLoginView}(window.HR.GenericView),(HR=window.HR).HackerRankLoginView=HackerRankLoginView})}.call(this),function(){var bind=function(fn,me){return function(){return fn.apply(me,arguments)}},extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty,indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++)if(i in this&&this[i]===item)return i;return-1};jQuery(function(){var HR,RecruitCandidateCodingCodeshellxView;return HR=window.HR||{},RecruitCandidateCodingCodeshellxView=function(superClass){function RecruitCandidateCodingCodeshellxView(){return this.closeSplitView=bind(this.closeSplitView,this),this.makeSplitView=bind(this.makeSplitView,this),this.showFaq=bind(this.showFaq,this),this.scrollToStdin=bind(this.scrollToStdin,this),this.switchToCodeshell=bind(this.switchToCodeshell,this),this.showCodeshellxTour=bind(this.showCodeshellxTour,this),this.refreshTourPos=bind(this.refreshTourPos,this),this.submitCodeshellx=bind(this.submitCodeshellx,this),this.runCodeshellx=bind(this.runCodeshellx,this),this.langInvertedIndex=bind(this.langInvertedIndex,this),this.loadCodeshellx=bind(this.loadCodeshellx,this),RecruitCandidateCodingCodeshellxView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateCodingCodeshellxView,superClass),RecruitCandidateCodingCodeshellxView.prototype.template="recruit/question-coding-codeshellx",RecruitCandidateCodingCodeshellxView.prototype.className="question-coding",RecruitCandidateCodingCodeshellxView.prototype.events={"codeshellcompile #editor":"compileAnswer","click .js-starttour":"showCodeshellxTour","click #testcase-dl":"testcaseDownload","click .js-close-notification":"closeNotification","click .js-show-faq":"showFaq","show.bs.modal #faq-modal":"scrollToStdin","click .bb-compile":"runCodeshellx","showTour #csx-editor":"showCodeshellxTour","switchOld #csx-editor":"switchToCodeshell","menu_show_original #csx-editor":"showOriginal",menu_downloadtestcases:"testcaseDownload",menu_downloadsolution:"downloadSolution","menu_fs #csx-editor":"toggleFullscreen","codeChanged #csx-editor":"setDirtyView","initialized #csx-editor":"init_codeshellx","refreshBuffer #csx-editor":"resetDirtyView","click .ans-submit":"submitCodeshellx","full_screen #csx-editor":"refreshTourPos","click .js-closetour":"hideTourBanner","click #custom_checkbox":"toggleCustominput"},RecruitCandidateCodingCodeshellxView.prototype.initialize=function(options){var ref,ref1;return this.csx=void 0,this.tourPlaying=!1,this.codeshellx_rendered=!1,"code"===(null!=options&&null!=(ref=options.question)?ref.type:void 0)&&"split"===(null!=options&&null!=(ref1=options.parent)?ref1.whichView:void 0)?this.fullscreen=!0:this.fullscreen=!1,this.codeBeforeSplit=null,this.parent=options.parent,this.question=options.question,this.test=HR.candidate.candidateTestModel||options.test,this.error_marker_widgets=[],HR.candidate&&HR.candidate.candidateAttemptModel?(this.aid=HR.candidate.candidateAttemptModel.get("id"),HR.appView.saveCodeOnNavigate=!0,this.tourViewed=$.jStorage.get(HR.candidate.candidateAttemptModel.get("id")+"tourViewed")):this.aid="testing",options.disableLocalStorage&&!0===options.disableLocalStorage?this.autoSaveNamespace=null:this.autoSaveNamespace=this.aid+"-"+this.question.unique_id,this.compilingLock=!1,this._subviews=[],this},RecruitCandidateCodingCodeshellxView.prototype.hideTourBanner=function(){var ref,ref1,ref2,ref3,ref4,ref5,ref6,track_data;return $.jStorage.set(HR.candidate.candidateAttemptModel.get("id")+"tourViewed",!0),this.tourViewed=!0,this.$(".js-newcodeeditor").hide("slow"),track_data={test_id:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,question_id:null!=(ref2=HR.candidate)?ref2.currentQuestion:void 0,company_id:(null!=(ref3=HR.candidate)&&null!=(ref4=ref3.candidateTestModel)?ref4.get("company_id"):void 0)||null,job_id:(null!=(ref5=HR.candidate)&&null!=(ref6=ref5.candidateAttemptModel)?ref6.get("job_id"):void 0)||null,duration:0},HR.util.candidateTrack("Click","CandidateEndTour",track_data)},RecruitCandidateCodingCodeshellxView.prototype.setDirtyView=function(e,change){if("setValue"!==change.origin)return HR.appView.dirty=!0},RecruitCandidateCodingCodeshellxView.prototype.addCustomTestCase=function(){if(!this.customTestCaseAdded)return this.customTestCaseAdded=!0,this.showCustomInput()?this.$("#csx-editor").trigger("addCustomTestCase"):void 0},RecruitCandidateCodingCodeshellxView.prototype._render=function(){var _this;if(!this.csx||!this.csx.initialized)return this.tryout=1,$(this.el).html(HR.appController.template(this.template,this,!0,(_this=this,function(){return _this.loadCodeshellx(),_this.set_answer()}))({question:this.question,fullscreen:this.fullscreen})),!0===this.fullscreen&&this.$el.css("padding","1%"),this},RecruitCandidateCodingCodeshellxView.prototype.generateCodeStubs=function(question){var availLangs,codestubs,cshxName,language,ref;for(language in codestubs={},availLangs=[],ref=HR.util.codeshellxLangMap)cshxName=ref[language],""===(cshxName=HR.util.codeshellxLangMap[language])||indexOf.call(question.languages,language)>=0&&(codestubs[cshxName]={head:question[language+"_template_head"],body:question[language+"_template"],tail:question[language+"_template_tail"]},availLangs.push(cshxName));return{codeStubs:codestubs,availableLangs:availLangs}},RecruitCandidateCodingCodeshellxView.prototype.loadCodeshellx=function(){var config,_this;if(this.tryout=this.tryout-1,!(this.csx&&this.tryout<0||!0===this.csxLoading))return this.csxLoading=!0,config={multifile:!1,filetree:!1,runButton:!1,hideTabs:!0,disablePaste:"True"===HR.candidate.candidateTestModel.get("disable_paste"),menu:["fsMenu","oldCodeshellMenu"],defaultMenuOptions:{menu_fz:"font_normal",menu_ts:"tab_4",menu_kb:"keyboard_normal",intellisense:!0},plugins:[],uid:HR.candidate.candidateAttemptModel.get("id")+HR.candidate.questionView.model.get("unique_id")},this.csx=new codeshellx.CodeEditor("csx-editor",config),this.changeInputOutput(this.csx.getFileData("/solution").language),this.localStorageService=HR.codeshellx_util.startLocalStorageService(this.autoSaveNamespace,this.csx),this.insideCompileTestName="InsideCompiletestView",HR.codeshellx_util.loadQuestionInFullScreen("#csx-editor",this.csx,this.question,!1),setTimeout((_this=this,function(){if(!_this.fullscreen)return _this.csx.trigger("_full_screen")})),setTimeout(function(_this){return function(){return _this.$("#csx-editor").on("_full_screen",function(e){return _this.toggleFullscreen(e)})}}(this)),this.csxLoading=!1,this.$("#csx-editor").on("changeMode",function(_this){return function(){var lang;return lang=_this.csx.getFileData("/solution").language,$.jStorage.set("csxFavCodeLang",lang),_this.changeInputOutput(lang)}}(this)),!0!==$.jStorage.get(HR.candidate.candidateAttemptModel.get("id")+"tourViewed")?this.$(".js-newcodeeditor").removeClass("hidden"):void 0},RecruitCandidateCodingCodeshellxView.prototype.toggleFullscreen=function(){var ref;return null!=(ref=this.intro)&&"function"==typeof ref.exit&&ref.exit(),this.fullscreen?(this.closeSplitView(),this.fullscreen=!1):(this.makeSplitView(),this.fullscreen=!0)},RecruitCandidateCodingCodeshellxView.prototype.langInvertedIndex=function(lang){return _.invert(HR.util.codeshellxLangMap)[lang]},RecruitCandidateCodingCodeshellxView.prototype.changeInputOutput=function(lang){if("True"!==this.question.stubs_present)return this.input_output_help_view=new HR.InputOutputInfoView({lang:this.langInvertedIndex(lang),language:lang,test:this.test}),this.add_subview(this.input_output_help_view),lang=this.langInvertedIndex(lang),indexOf.call(this.input_output_help_view.allowedLanguages,lang)>=0?this.$("#input-output-help").html(this.input_output_help_view.render().el):this.$("#input-output-help").empty()},RecruitCandidateCodingCodeshellxView.prototype.runCodeshellx=function(e){var c_data,data,secondsInitial;if(this.csx.trigger("clearOutput"),HR.candidate.ctloop&&clearTimeout(HR.candidate.ctloop),data=this.csx.getFileData("/solution"),(c_data={}).code=data.body,c_data.language=data.language,"run_custom"!==e.type&&!this.$("#custom_checkbox").is(":checked")||(c_data.customtestcase=!0,c_data.custominput=this.$(".custom-input-box").val(),null!=c_data.custominput&&""!==c_data.custominput))return this.csx.trigger("setOpViewStatus","Uploading.."),$("#shouter").val("Uploading your code"),HR.appView.dirty=!1,secondsInitial=(new Date).getTime()/1e3,this.compileAnswer(e,c_data,secondsInitial);this.csx.trigger("showNotification",["Please enter custom input and run again. Refer to sample test case for format",!0])},RecruitCandidateCodingCodeshellxView.prototype.submitCodeshellx=function(){return $("body").removeClass("codeshellx-fullscreenmode-compatible-body")},RecruitCandidateCodingCodeshellxView.prototype.refreshTourPos=function(){if(this.intro)return this.intro.refresh()},RecruitCandidateCodingCodeshellxView.prototype.showCodeshellxTour=function(){var addBackTime,ref,ref1,ref2,ref3,ref4,ref5,ref6,scrollListener,steps,tourEndCallback,track_data,_this;return this.$(".js-newcodeeditor").addClass("hidden"),this.intro=introJs(),steps=[{element:".codemirroreditor",intro:"<strong>Code your solution here.</strong> Some questions may have uneditable areas above and below.",position:"left"},{element:"#menu_fs",intro:"You can <strong>change the editor\u2019s placement</strong> by switching between vertical and horizontal layout",position:"bottom"},{element:".codeshellx-language-select",intro:"<strong>Choose your favourite language</strong> from this list of supported languages.",position:"bottom"},{element:".bb-compile",intro:"Once your code is ready to be tested, use the \u201cRun Code\u201d icon here. You may choose to <strong>test against the built-in test cases, or provide a test input of your own.</strong>",position:"bottom"},{element:".ans-submit",intro:"<strong>This is important!</strong> Once you are done testing make sure you submit your desired version to be considered for grading.",position:"left",tooltipClass:"ourIntroLast"}],this.intro.setOptions({steps:steps,showProgress:!0,tooltipClass:"ourIntro",scrollToElement:!1,skipLabel:"Skip",exitOnOverlayClick:!0,tooltipPosition:"auto",positionPreference:"top"},"bottom","left","right"),this.changing=!1,scrollListener=_.throttle((_this=this,function(){if(!0!==_this.changing)return $("body").addClass("csx-tour-no-transition"),_this.intro.refresh(),$(".introjs-showElement").parents(".is-sticky .codeshellx-menuholder").length>0&&($(".introjs-helperLayer ").css("position","fixed"),$(".introjs-tooltipReferenceLayer").css("position","fixed")),setTimeout(function(){return $("body").removeClass("csx-tour-no-transition")},300)}),300),$(window).on("scroll",scrollListener),addBackTime=function(_this){return function(){var secondsToClaim;return _this.tourPlaying=!1,window.HR.endTour=moment().unix(),(secondsToClaim=window.HR.endTour-window.HR.startTour)>90&&(secondsToClaim=90),HR.candidate.candidateAttemptModel.set("claimTourTime",secondsToClaim),HR.candidate.candidateAttemptModel.save(null,{success:function(m){return HR.candidate.candidateAttemptModel=m,HR.candidate.candidateAttemptModel.unset("claimTourTime"),HR.RecruitCandidateTopBarView.unpauseTimer()},error:function(){return HR.candidate.candidateAttemptModel.unset("claimTourTime"),HR.router.navigate(HR.candidate.candidateTestModel.get("unique_id")+"/redirect",{trigger:!0,replace:!0})}})}}(this),this.tourPlaying=!0,this.tourTimer=setTimeout(function(_this){return function(){return _this.intro.exit(),HR.util.candidatemsg("Maximum allotted pause time has been spent on the tour.<br>You can restart it via Help > Show Tour",!1,!0,7),addBackTime()}}(this),9e4),window.HR.startTour=moment().unix(),$.jStorage.get(HR.candidate.candidateAttemptModel.get("id")+"tourViewed")||HR.RecruitCandidateTopBarView.pauseTimer(),tourEndCallback=function(_this){return function(){return $(window).off("scroll",scrollListener),addBackTime(),null!=_this.tourTimer&&clearTimeout(_this.tourTimer),$.jStorage.set(HR.candidate.candidateAttemptModel.get("id")+"tourViewed",!0)}}(this),this.intro.onexit(tourEndCallback),this.intro.oncomplete(tourEndCallback),this.intro.onafterchange(function(_this){return function(){var scrlTop;if($(".introjs-fixParent").removeClass("introjs-fixParent"),_this.changing=!1,$(".introjs-showElement").length>0)return scrlTop=$("body").scrollTop(),setTimeout(function(){return $("body").scrollTop(scrlTop)},400)}}(this)),this.intro.onbeforechange(function(_this){return function(){return _this.changing=!0}}(this)),track_data={test_id:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,question_id:null!=(ref2=HR.candidate)?ref2.currentQuestion:void 0,company_id:(null!=(ref3=HR.candidate)&&null!=(ref4=ref3.candidateTestModel)?ref4.get("company_id"):void 0)||null,job_id:(null!=(ref5=HR.candidate)&&null!=(ref6=ref5.candidateAttemptModel)?ref6.get("job_id"):void 0)||null},HR.util.candidateTrack("Click","CandidateStartTour",track_data),this.intro.start(),setTimeout(function(){return $(".introjs-overlay").css("display","block")})},RecruitCandidateCodingCodeshellxView.prototype.switchToCodeshell=function(){return HR.util.confirm({title:"Editor switch",message:"Please ensure you've submitted the current answer once so it's available in the old editor.<br><br>Are you sure you want to switch to the old editor?",okButtonText:"Yes, switch",cancelButtonText:"No, stay",okCallback:function(){return console.log("confirmed."),HR.candidate.candidateAttemptModel.set("switchcodeshell","true"),HR.candidate.candidateAttemptModel.save(null,{success:function(){return window.location.reload()}})}})},RecruitCandidateCodingCodeshellxView.prototype.scrollToStdin=function(){return setTimeout(function(){return this.$("#faq-modal .modal-body .js-content-tabfaq").animate({scrollTop:900})},500)},RecruitCandidateCodingCodeshellxView.prototype.showFaq=function(e){var faq_modal,faq_view;return e.preventDefault(),faq_view=new HR.RecruitInfoView({test:this.test,public_url:!1,subpage:"faq",in_modal:!0,scroll_to:"#stdin"}),this._subviews.push(faq_view),(faq_modal=this.$("#faq-modal")).find(".modal-body").html(faq_view.render().el),faq_modal.modal("show")},RecruitCandidateCodingCodeshellxView.prototype.testcaseDownload=function(){var ref,ref1,ref2,ref3,ref4,ref5,ref6,ref7,track_data,url,_this;return url="/recruit/attempts/"+HR.candidate.candidateAttemptModel.id+"/questions/"+this.question.unique_id+"/testcases",null!=(ref=this.csx)&&ref.trigger("showNotification",["Downloading the testcases. These have unix line-endings - please do not use notepad on windows to edit these.",!0]),HR.util.downloadURL(url),track_data={test_id:null!=(ref1=HR.candidate)&&null!=(ref2=ref1.candidateTestModel)?ref2.get("unique_id"):void 0,question_id:null!=(ref3=HR.candidate)?ref3.currentQuestion:void 0,company_id:(null!=(ref4=HR.candidate)&&null!=(ref5=ref4.candidateTestModel)?ref5.get("company_id"):void 0)||null,job_id:(null!=(ref6=HR.candidate)&&null!=(ref7=ref6.candidateAttemptModel)?ref7.get("job_id"):void 0)||null},HR.util.candidateTrack("Click","DownloadSampleTestcase",track_data),HR.util.downloadURL(url),setTimeout((_this=this,function(){if(_this.csx)return _this.csx.trigger("hideNotification")}),5e3)},RecruitCandidateCodingCodeshellxView.prototype.getLangDefaults=function(){var j,l,len,m,ref;for(m={},j=0,len=(ref=this.question.languages).length;j<len;j++)l=ref[j],this.question[l+"_template"]&&(m[l]=this.question[l+"_template"]);return m},RecruitCandidateCodingCodeshellxView.prototype.getLangHeads=function(){var j,l,len,m,ref;for(m={},j=0,len=(ref=this.question.languages).length;j<len;j++)l=ref[j],this.question[l+"_template_head"]&&(m[l]=this.question[l+"_template_head"]);return m},RecruitCandidateCodingCodeshellxView.prototype.getLangTails=function(){var j,l,len,m,ref;for(m={},j=0,len=(ref=this.question.languages).length;j<len;j++)l=ref[j],this.question[l+"_template_tail"]&&(m[l]=this.question[l+"_template_tail"]);return m},RecruitCandidateCodingCodeshellxView.prototype.showOriginal=function(){var defaults,lang;return defaults=this.getLangDefaults(),lang=this.csx.getFileData("/solution").language,_.find(HR.util.codeshellxLangMap,function(value,key){if(value===lang)return lang=key}),HR.util.alert({message:"This is the code stub originally provided with this challenge. You can copy this using Ctrl/Cmd+C and paste it back in the code editor.<br/><br/><textarea readonly class='fw xtall' style='padding:20px 0px 20px 10px; line-height: 15px; font-family: monospace; overflow-y: auto;' id='initial_code'>"+_.escape(defaults[lang])+"</textarea>",title:"Initial Code",okButtonText:"Close Window",closebutton:!0,width:"800"}),$("#initial_code").select()},RecruitCandidateCodingCodeshellxView.prototype.downloadSolution=function(){var a,code;return a=window.document.createElement("a"),code=this.csx.getFileData("/solution"),a.href=window.URL.createObjectURL(new Blob([code.head+code.body+code.tail],{type:"text/plain;charset=utf-8"})),a.download=code.fullName,document.body.appendChild(a),a.click(),document.body.removeChild(a)},RecruitCandidateCodingCodeshellxView.prototype.loadTestCasesInCsx=function(){var request_params,_this;return request_params={url:"/recruit/attempts/"+HR.candidate.candidateAttemptModel.id+"/questions/"+this.question.unique_id+"/sample_testcases",type:"GET",success:(_this=this,function(xhr){return _.each(xhr.model.input,function(input,index){var output;return output=xhr.model.output[index],_this.$("#csx-editor").trigger("addTestCase",[index,input,output])})}),error:function(xhr){return console.error("Unable to fetch sample testcases.. : ",xhr.message)}},$.ajax(request_params)},RecruitCandidateCodingCodeshellxView.prototype.showCustomInput=function(){return!_.include(["approx","database"],this.question.type)&&(!this.question.custom_testcase_allowed||"False"!==this.question.custom_testcase_allowed)},RecruitCandidateCodingCodeshellxView.prototype.customCompile=function(e,data){var ref,ref1,ref2,ref3,ref4,ref5,ref6,secondsInitial,track_data;return secondsInitial=(new Date).getTime()/1e3,this.compileAnswer(e,data,secondsInitial),track_data={test_id:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,question_id:null!=(ref2=HR.candidate)?ref2.currentQuestion:void 0,attribute12:this.$("#custominput").val()>0,company_id:(null!=(ref3=HR.candidate)&&null!=(ref4=ref3.candidateTestModel)?ref4.get("company_id"):void 0)||null,job_id:(null!=(ref5=HR.candidate)&&null!=(ref6=ref5.candidateAttemptModel)?ref6.get("job_id"):void 0)||null,start_time:secondsInitial},HR.util.candidateTrack("CandidateRunCode",HR.candidate.candidateAttemptModel.get("id"),track_data)},RecruitCandidateCodingCodeshellxView.prototype.compileAnswer=function(e,data,secondsInitial){var language,_this;if(data.code)return language=data.language,_.find(HR.util.codeshellxLangMap,function(v,k){return v===language&&(language=k,!0)}),data.language=language,this.deleteMarkersOnSource(null,null,language,"solution"),HR.candidate.ctmodel=new HR.CandidateCompileTestModel,HR.candidate.ctmodel.setAid(this.aid),HR.candidate.ctmodel.setQid(this.question.unique_id),"database"!==this.question.type&&"runalltestcases"!==e||HR.candidate.ctmodel.setAllCases(!0),this.question.has_samples||data.customtestcase||HR.candidate.ctmodel.setAllCases(!0),HR.candidate.ctview=new HR.RecruitCandidateCompileTestView({allTestCases:HR.candidate.ctmodel.getAllCases(),totalTestCasesCount:this.question.total_test_cases_count,questionType:this.question.type,aid:this.aid}),this.$("#runstatus").html(HR.candidate.ctview.render().el),this.$("#runstatus").scrollintoview(),HR.candidate.ctmodel.save(data,{success:(_this=this,function(){return HR.candidate.ctview.setStatus("Uploaded. Waiting for results.."),HR.candidate.ctloop=setTimeout(function(){return _this.checkForResult(_this,data,e,secondsInitial)},1e3)}),error:function(tmp,e){var msg;return $(".bb-compile").removeClass("disabled"),HR.candidate.ctmodel=null,e&&e.responseText&&(msg=JSON.parse(e.responseText).error)?HR.candidate.ctview.setStatus("Error when trying to compile and test: "+msg):HR.candidate.ctview.setStatus("Could not compile as server is unreachable, or this session has closed.")}})},RecruitCandidateCodingCodeshellxView.prototype.checkForResult=function(that,data,e,secondsInitial,liveStatus){var hrMetricFlag,_this;if(null==liveStatus&&(liveStatus=null),HR.candidate.ctloop)return hrMetricFlag=!0,HR.candidate.ctview.setStatus(liveStatus||"Processing.."),HR.candidate.ctmodel.fetch({success:(_this=this,function(m){var censored_stderr,expected_output,expected_output_url,i,input,input_url,j,len,message,msg,output,output_debug,pass,ref,ref1,ref2,ref3,ref4,ref5,ref6,ref7,score,secondsFinal,st_class,status_msg,stderr,testcase_label,testcase_no,total_time,track_data;if(0===m.get("status"))return liveStatus=m.get("status_string")?m.get("status_string"):null,void(HR.candidate.ctloop=setTimeout(function(){return that.checkForResult(that,data,e,secondsInitial,liveStatus)},1e3));if(0!==m.get("status")){if($(".bb-compile").removeClass("disabled"),clearTimeout(HR.candidate.ctloop),HR.candidate.ctloop=null,m.get("result")>0)return"database"===_this.question.type?HR.candidate.ctview.setStatus("Runtime Error","red"):(message="Error.",HR.candidate.ctview.setStatus(message,"red"),HR.candidate.ctview.hideTestCaseTable()),HR.candidate.ctview.setCompileStatus("Compilation failed.",m.get("compilemessage")),that.addMarkersOnSource(m);if(null!=m.get("error_code")&&m.get("error_code")>0)return message="Alert",HR.candidate.ctview.setStatus(message,"red"),HR.candidate.ctview.hideTestCaseTable(),HR.candidate.ctview.setTestMessage("Message :","Looks like we're facing some technical difficulties right now (error "+m.get("error_code")+").\nPlease try again in a moment. If the issue persists, write to us at support@hackerrank.com.");if(pass=0,m.get("customtestcase"))HR.candidate.ctview.setStatus("Compiled successfully.","orange"),input=m.get("stdin")[0],output=m.get("stdout")[0],expected_output=m.get("expected_output")?m.get("expected_output")[0]:null,output_debug=m.get("stdout_debug")?m.get("stdout_debug")[0]:null,censored_stderr=null!=(stderr=m.get("stderr")?m.get("stderr")[0]:null)?stderr:m.get("censored_stderr")?m.get("censored_stderr")[0]:null,m.get("signal")&&0!==m.get("signal")[0]&&m.get("testcase_message")&&m.get("testcase_message")[0]?(msg=m.get("testcase_message"),st_class="red"):(msg="",st_class="green"),HR.candidate.ctview.addTestCase({tno:1,input:input,output:output,input_url:null,expected_output_url:null,output_debug:output_debug,expected_output:expected_output,compiler_msg:msg,censored_stderr:censored_stderr,st_class:st_class,score:score});else{for("runalltestcases"!==e&&_this.question.has_samples||null==m.get("testcase_status")||HR.candidate.ctview.updateTestCaseTable(m.get("testcase_status"),m.get("testcase_message")),i=j=0,len=(ref=m.get("testcase_status")).length;j<len;i=++j)input=ref[i],input=m.get("stdin")[i],output=m.get("stdout")[i],expected_output=m.get("expected_output")[i],input_url=m.get("stdin_url")?m.get("stdin_url")[i]:null,expected_output_url=m.get("expected_output_url")?m.get("expected_output_url")[i]:null,output_debug=m.get("stdout_debug")?m.get("stdout_debug")[i]:null,censored_stderr=null!=(stderr=m.get("stderr")?m.get("stderr")[i]:null)?stderr:m.get("censored_stderr")?m.get("censored_stderr")[i]:null,msg=m.get("testcase_message")[i],1===m.get("testcase_status")[i]?(st_class="txt-green",pass++):st_class="txt-orange",m.get("score")&&_.isNumber(m.get("score")[i])&&(score=m.get("score")[i]),"database"===_this.question.type?(testcase_no=null,testcase_label="Output <i class='icon-help-circled txt-blue psT psB psL js-tooltip' data-toggle='tooltip' data-placement='right' title='The output from SQL server is shown as one row per line and column values separated by space'></i>\n<span class='pull-right'>Query time: "+Math.round(100*m.get("time")[0])/100+" seconds</span>",st_class="hidden"):(testcase_no=i+1,testcase_label="Your Output"),HR.candidate.ctview.addTestCase({tno:testcase_no,input:input,output:output,input_url:input_url,expected_output_url:expected_output_url,output_debug:output_debug,expected_output:expected_output,compiler_msg:msg,censored_stderr:censored_stderr,st_class:st_class,score:score,output_label:testcase_label});0===m.get("testcase_status").length?(msg="Compiled successfully. There are no test cases for this question.",_this.showCustomInput()&&(msg+=" Please select 'Test against custom input' to run the code with your input."),HR.candidate.ctview.setStatus(msg,"orange"),HR.candidate.ctview.updateProgressBar(1,1),HR.candidate.ctview.updateStatusMessage(msg,"complete")):0===pass?(status_msg="database"===_this.question.type?m.get("signal")&&0!==m.get("signal")[0]&&m.get("testcase_message")&&m.get("testcase_message")[0]?m.get("testcase_message")[0]:"Incorrect Answer":"No test cases passed.",HR.candidate.ctview.setStatus(status_msg,"red"),HR.candidate.ctview.updateProgressBar(1,1),HR.candidate.ctview.updateStatusMessage(status_msg,"error")):pass<i?"runalltestcases"===e?(message="Compiled successfully. "+pass+"/"+i+" test cases passed.",HR.candidate.ctview.setStatus(message,"orange"),HR.candidate.ctview.updateProgressBar(1,1),HR.candidate.ctview.updateStatusMessage(message,"complete")):HR.candidate.ctview.setStatus("Compiled successfully. "+pass+"/"+i+" sample test cases passed.","orange"):"runalltestcases"!==e?(HR.candidate.ctview.setStatus("Compiled successfully. All sample test cases passed!","green"),hrMetricFlag=!1,_this.$(".bb-runall").show(),that.compileAnswer("runalltestcases",data,secondsInitial)):("database"===_this.question.type?status_msg="Correct Answer":(status_msg="Compiled successfully. All available test cases passed!",HR.candidate.ctview.updateProgressBar(1,1),HR.candidate.ctview.updateStatusMessage(status_msg,"complete")),HR.candidate.ctview.setStatus(status_msg,"green"))}if(hrMetricFlag)return secondsFinal=(new Date).getTime()/1e3,total_time=parseFloat(secondsFinal)-parseFloat(secondsInitial),track_data={test_id:null!=(ref1=HR.candidate)&&null!=(ref2=ref1.candidateTestModel)?ref2.get("unique_id"):void 0,question_id:null!=(ref3=HR.candidate)?ref3.currentQuestion:void 0,attribute12:_this.$("#custominput").val()>0,company_id:(null!=(ref4=HR.candidate)&&null!=(ref5=ref4.candidateTestModel)?ref5.get("company_id"):void 0)||null,job_id:(null!=(ref6=HR.candidate)&&null!=(ref7=ref6.candidateAttemptModel)?ref7.get("job_id"):void 0)||null,end_time:secondsFinal,total_time:total_time},HR.util.candidateTrack("CandidateRunCode",HR.candidate.candidateAttemptModel.get("id"),track_data)}}),error:function(){return HR.candidate.ctmodel=null,$(".bb-compile").removeClass("disabled"),HR.candidate.ctview.setStatus("Unable to fetch compile information from server.")}})},RecruitCandidateCodingCodeshellxView.prototype.answer=function(){var codeBuffer,language;return codeBuffer=this.csx.getFileData("/solution"),language=HR.util.hrwLang(codeBuffer.language),{code:codeBuffer.body,language:language}},RecruitCandidateCodingCodeshellxView.prototype.set_answer=function(){return this.csx.trigger("restoreLocalStorage")},RecruitCandidateCodingCodeshellxView.prototype.checkCopyPaste=function(change){var added_text;if(this.setDefaultText&&(added_text=change.text.join(""))!==this.lastAddedText)return this.lastAddedText=added_text,"paste"===change.origin&&added_text.length>100?HR.candidate.testEvents.add({action:"paste",eid:9,qid:this.question.unique_id,insertTime:new Date}):void 0},RecruitCandidateCodingCodeshellxView.prototype.addMarkersOnSource=function(data,language){var error_markers,markers;if(data.get("error_markers"))return(error_markers=data.get("error_markers")).head_code_lines,markers=error_markers.markers,language=HR.util.codeshellxLangMap[data.get("language")],this.$("#csx-editor").trigger("addMarkers",[markers,"/solution",language])},RecruitCandidateCodingCodeshellxView.prototype.deleteMarkersOnSource=function(e,change){return e&&change&&HR.candidate&&HR.candidate.candidateAttemptModel&&"True"===HR.candidate.candidateAttemptModel.get("secure")&&this.checkCopyPaste(change),this.$("#csx-editor").trigger("clearMarkers","/solution")},RecruitCandidateCodingCodeshellxView.prototype.init_codeshellx=function(){var availableLanguages,codeStubs,dataObj,favLang,languageDetails,ref;return codeStubs=(languageDetails=this.generateCodeStubs(this.question)).codeStubs,availableLanguages=languageDetails.availableLangs,favLang=languageDetails.availableLangs[0],null!=$.jStorage.get("csxFavCodeLang")&&(ref=$.jStorage.get("csxFavCodeLang"),indexOf.call(languageDetails.availableLangs,ref)>=0)&&(favLang=$.jStorage.get("csxFavCodeLang")),(dataObj={}).id="/solution",dataObj.text="solution",dataObj.codeStubs=codeStubs,dataObj.availableLanguages=availableLanguages,dataObj.language=favLang,dataObj.text="solution",dataObj.noClose=!0,this.$("#csx-editor").trigger("addFile",["/solution",dataObj]),this.$("#csx-editor").trigger("openFile","/solution"),this.$("#csx-editor").trigger("restoreLastSave")},RecruitCandidateCodingCodeshellxView.prototype.makeSplitView=function(){return this.parent.whichView="split",this.$el.attr({style:"padding: 1%; width: auto;"}),this.parent.$el.html(""),$.cookie("candidate-site-view","split",{expires:365}),
!0===this.tourViewed||"testing"!==this.aid?this.$(".js-codeeditor").addClass("hidden"):this.$(".js-codeeditor").removeClass("hidden"),this.csx=null,this.parent.render()},RecruitCandidateCodingCodeshellxView.prototype.toggleCustominput=function(e){return this.$(e.currentTarget).attr("checked")?(this.$(".custom-input-box").removeClass("hidden"),this.$(".custom-input-box-msg").removeClass("hidden")):(this.$(".custom-input-box").addClass("hidden"),this.$(".custom-input-box-msg").addClass("hidden"))},RecruitCandidateCodingCodeshellxView.prototype.closeSplitView=function(){return this.parent.whichView="normal",this.$el.attr({style:"padding: 0%;"}),this.parent.$el.html(""),$.cookie("candidate-site-view","normal",{expires:365}),!0===this.tourViewed||"testing"!==this.aid?this.$(".js-codeeditor").addClass("hidden"):this.$(".js-codeeditor").removeClass("hidden"),this.csx=null,this.parent.render()},RecruitCandidateCodingCodeshellxView}(window.HR.GenericView),HR.RecruitCandidateCodingCodeshellxView=RecruitCandidateCodingCodeshellxView})}.call(this),function(){var bind=function(fn,me){return function(){return fn.apply(me,arguments)}},extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty,indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++)if(i in this&&this[i]===item)return i;return-1};jQuery(function(){var HR,RecruitCandidateCodingView,codeShellProxy,krackJackEditor;return HR=window.HR||{},krackJackEditor=null,codeShellProxy=function(name,arg){if("string"==typeof name){if("value"===name)return krackJackEditor.getValue();if("setStatusText"===name)return krackJackEditor.setStatusText(arg);"saveLangCode"===name&&krackJackEditor.saveLangCode()}else"object"==typeof name&&(krackJackEditor=name);return this},RecruitCandidateCodingView=function(superClass){function RecruitCandidateCodingView(){return this.getStdoutLabel=bind(this.getStdoutLabel,this),this.renderTooltip=bind(this.renderTooltip,this),this.handleUnlock=bind(this.handleUnlock,this),this.handleDownload=bind(this.handleDownload,this),this.closeNotification=bind(this.closeNotification,this),this.showSpaceWarning=bind(this.showSpaceWarning,this),this.trackCandidateFirstType=bind(this.trackCandidateFirstType,this),this.init_codemirror_accessibility=bind(this.init_codemirror_accessibility,this),RecruitCandidateCodingView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateCodingView,superClass),RecruitCandidateCodingView.prototype.template="recruit/question-coding",RecruitCandidateCodingView.prototype.className="question-coding",RecruitCandidateCodingView.prototype.get_current_content=function(cm){var editor;return editor=cm.getInputField(),$(editor).val()},RecruitCandidateCodingView.prototype.shout_current_content=function(cm){var _this;return setTimeout((_this=this,function(){var content;return content=_this.get_current_content(cm),_this.shout(content)}),1),this},RecruitCandidateCodingView.prototype.shout=function(content){var shouter;return shouter=$("#shouter")[0],$(shouter).val(content),this},RecruitCandidateCodingView.prototype.init_codemirror_accessibility=function(){var that,_this;return this.$(".CodeMirror").length>0?($(".select2-container input").attr("aria-label","Type the language that you want to code in and press enter"),$(".select2-container input").keydown((_this=this,function(e){var code_lang,code_lang_obj;if(13===e.which){if(!(code_lang_obj=$(".select2-container span")[0]))return;code_lang=code_lang_obj.innerText,_this.shout("Current language is "+code_lang)}})),that=this,$(".CodeMirror").keydown(function(ev){var cmContext;return cmContext=this,that.editorKeyDown(ev,cmContext)})):setTimeout(function(_this){return function(){return _this.init_codemirror_accessibility(),_this}}(this),100),this},RecruitCandidateCodingView.prototype.editorKeyDown=function(e,cmContext){var cm,content,cursor,_this;if(null==cmContext&&(cmContext=null),!this.timer&&this.trackKeyStrokes&&(this.timer=setTimeout((_this=this,function(){return _this.keystrokes<10?(_this.keystrokes=0,_this.timer=null):_this.trackCandidateFirstType(e)}),6e4)),this.incrementKeystrokes(e),null==this.kjEditor){if(cm=cmContext.CodeMirror,content=this.get_current_content(cm),e.keyCode>=48&&e.keyCode<=90&&""!==content)return this.shout_current_content(cm);switch(cursor=cm.getCursor(),content=cm.getLine(cursor.line),e.keyCode){case 8:case 37:case 39:case 46:return content=content.substring(0,cursor.ch),this.shout(content);case 38:case 40:return""===content&&(content="Empty Line"),this.shout(content);default:return this.shout_current_content(cm)}}},RecruitCandidateCodingView.prototype.incrementKeystrokes=function(e){if(!e.ctrlKey&&!e.metaKey&&this.trackKeyStrokes&&32!==e.keyCode&&13!==e.keyCode&&91!==e.keyCode&&17!==e.keyCode)return this.keystrokes++},RecruitCandidateCodingView.prototype.trackCandidateFirstType=function(){var firstTypeKey,qid,ref,ref1,ref2,ref3,ref4,ref5,ref6,ref7,ref8,track_data;return HR.candidate&&HR.candidate.candidateAttemptModel&&(firstTypeKey=HR.candidate.candidateAttemptModel.get("id")+"-"+(qid=HR.candidate.currentQuestion)+"-seen",null===$.jStorage.get(firstTypeKey)&&($.jStorage.set(firstTypeKey,!0),HR.candidate.testEvents.add({action:"first_type",eid:25,inserttime:new Date(Date.now()),qid:qid}),this.trackKeyStrokes=!1,track_data={test_id:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,question_id:null!=(ref2=HR.candidate)?ref2.currentQuestion:void 0,company_id:(null!=(ref3=HR.candidate)&&null!=(ref4=ref3.candidateTestModel)?ref4.get("company_id"):void 0)||null,hacker_id:(null!=(ref5=HR.candidate)&&null!=(ref6=ref5.candidateAttemptModel)?ref6.get("hacker_id"):void 0)||null,job_id:(null!=(ref7=HR.candidate)&&null!=(ref8=ref7.candidateAttemptModel)?ref8.get("job_id"):void 0)||null,attribute5:this.keystrokes},HR.util.candidateTrack("keydown","Candidate First Type",track_data))),this},RecruitCandidateCodingView.prototype.keyStrokesToBeTracked=function(){var aid,firstTypeKey,qid;return!(!HR.candidate||!HR.candidate.candidateAttemptModel)&&(aid=HR.candidate.candidateAttemptModel.get("id"),qid=HR.candidate.currentQuestion,!(!aid||!qid)&&(firstTypeKey=aid+"-"+qid+"-seen",null===$.jStorage.get(firstTypeKey)))},RecruitCandidateCodingView.prototype.initialize=function(options){var keystring,ref,ref1,_this;return this.fromSplitView=!1,this.render_krackjack=!0,Backbone.Events.off("process:overlimit"),Backbone.Events.on("process:overlimit",this.onMemoryLimit,this),"code"===(null!=options&&null!=(ref=options.question)?ref.type:void 0)&&"split"===(null!=options&&null!=(ref1=options.parent)?ref1.whichView:void 0)?this.fullscreen=!0:this.fullscreen=!1,this.codeBeforeSplit=null,this.parent=options.parent,this.question=options.question,this.test=HR.candidate.candidateTestModel||options.test,this.codeshell=null,this.firebaseToken=this.question.token,this.error_marker_widgets=[],this.trackKeyStrokes=this.keyStrokesToBeTracked(),this.keystrokes=0,this.timer=null,HR.candidate&&HR.candidate.candidateAttemptModel?(this.aid=HR.candidate.candidateAttemptModel.get("id"),HR.appView.saveCodeOnNavigate=!0,this.tourViewed=$.jStorage.get(HR.candidate.candidateAttemptModel.get("id")+"tourViewed")):this.aid="testing",options.disableLocalStorage&&!0===options.disableLocalStorage?this.autoSaveNamespace=null:"testing"===this.aid?(keystring=JSON.stringify(this.getLangHeads())+JSON.stringify(this.getLangTails())+JSON.stringify(this.getLangDefaults()),this.autoSaveNamespace=this.aid+"-"+CryptoJS.MD5(keystring)):this.autoSaveNamespace=this.aid+"-"+this.question.unique_id,this.customInputMetrics=_.once(function(){var customType,ref2,ref3,ref4,ref5,ref6,ref7,ref8,track_data;return customType="raw",this.showNewCustomInput()&&(customType="visual"),track_data={test_id:null!=(ref2=HR.candidate)&&null!=(ref3=ref2.candidateTestModel)?ref3.get("unique_id"):void 0,question_id:null!=(ref4=HR.candidate)?ref4.currentQuestion:void 0,company_id:(null!=(ref5=HR.candidate)&&null!=(ref6=ref5.candidateTestModel)?ref6.get("company_id"):void 0)||null,job_id:(null!=(ref7=HR.candidate)&&null!=(ref8=ref7.candidateAttemptModel)?ref8.get("job_id"):void 0)||null,attribute1:customType},HR.util.candidateTrack("Click","CustomInput",track_data)}),this.compilingLock=!1,this._subviews=[],this.init_codemirror_accessibility(),this.destroyTestcases=function(){},this.showNewTestcasesUI()&&(HR.requires(["react.production.min","react-dom.production.min"],(_this=this,function(React,ReactDOM){return _this.destroyTestcases=function(){return ReactDOM.unmountComponentAtNode(_this.testcasesResultWrapper[0]),_this.testcasesElementMounted=!1,_this.testcaseElementProps=null}})),HR.util.loadCssCustom(asset_path("ui-kit.min.css")),HR.util.loadCssCustom(asset_path("ui_icons_font_face.css")),HR.util.loadCssCustom(asset_path("testcases.min.css"))),this},RecruitCandidateCodingView.prototype.events={"codeshellafter_create #editor":"applyCustomInput","codeshellcompile #editor":"customCompile","codeshellstarttour #editor":"showCodeshellTour","click .js-starttour":"showCodeshellTour","codeshelloriginalcode #editor":"showOriginalCode","click #testcase-dl":"testcaseDownload","click .js-close-notification":"closeNotification","click #editor a.fullscreen":"makeSplitView","click #editor a.restorefullscreen":"closeSplitView","input #custominput":"showSpaceWarning","change #customtestcase":"showSpaceWarning","click .js-closetour":"hideTourBanner","click #custom-input-checkbox":"customInputMetrics"},RecruitCandidateCodingView.prototype.showSpaceWarning=function(){var content,message;return this.showCustomInput()&&!this.kjEditor&&(content=this.$("#custominput").val(),this.$("#customtestcase").is(":checked")&&content.length>0?(message=""," "===content.substring(content.length-1,content.length)&&(message="* Trailing spaces detected in custom input")," "===content.substring(0,1)&&(message="* Leading spaces detected in custom input")," "===content.substring(0,1)&&" "===content.substring(content.length-1,content.length)&&content.length>1&&(message="* Leading and trailing spaces detected in custom input"),this.$(".leadingSpaceWarn").removeClass("hidden"),this.$(".leadingSpaceWarn .warn-message").html(message)):this.$(".leadingSpaceWarn").addClass("hidden")),this.customInputMetrics()},RecruitCandidateCodingView.prototype.closeNotification=function(e){var instruction_tip;return e.preventDefault(),this.$("#editor").codeshell("hideNotification"),(instruction_tip=$(".js-instruction-link")).tooltip("show"),setTimeout(function(){return instruction_tip.tooltip("hide")},3e3)},RecruitCandidateCodingView.prototype.shouldUseKrackJack=function(){var ref,ref1;return"krackjack"===(null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateAttemptModel)?ref1.get("code_editor"):void 0)&&(!!this.show_template&&("True"!==this.test.get("enable_codefixedheader")&&("True"!==this.test.get("disable_paste")&&"True"!==this.test.get("enable_contextmenu"))))},RecruitCandidateCodingView.prototype._render=function(){var ref,ref1;return $(this.el).html(HR.appController.template(this.template,this)({question:this.question,fullscreen:this.fullscreen,aid:this.aid})),!0===this.fullscreen&&this.$el.css("padding","1%"),this.show_template=!0,this.question.hide_template&&"true"===this.question.hide_template.toLowerCase()&&(this.show_template=!1),(null!=(ref=this.test)?ref.get("hide_template"):void 0)&&"true"===(null!=(ref1=this.test)?ref1.get("hide_template").toLowerCase():void 0)&&(this.show_template=!1),this.shouldUseKrackJack()?(this.kjEditor=null,$("body").addClass("body-height-auto"),this.render_krackjack&&this.loadKrackJack()):this.loadCodeShell(),!0!==this.tourViewed&&"testing"!==this.aid&&this.$(".js-codeeditor").removeClass("hidden"),this},RecruitCandidateCodingView.prototype.loadCodeShell=function(cb){return null==cb&&(cb=null),this.mainEditor="codeshell",HR.appController.loadCodeMirror((_this=this,function(){return _this.applyCodeshell(),_this.$("#editor").codeshell("onChange",function(e,change){var changedByFirePad,ref;if(changedByFirePad="RTCMADAPTER"===change.origin||(null!=(ref=change.origin)&&"function"==typeof ref.startsWith?ref.startsWith("cmrt"):void 0),"setValue"!==change.origin&&"testing"!==_this.aid&&!changedByFirePad)return window.HR.appView.dirty=!0}),"function"==typeof cb?cb():void 0}),function(){return HR.util.candidatemsg("Unable to load code editor.<br/><br/> Check your internet connection, and refresh the page to fix this.",!1)});var _this},RecruitCandidateCodingView.prototype.makeSplitView=function(e,view){var ref;return null==view&&(view="split"),this.fromSplitView=!0,null!=(ref=this.intro)&&ref.exit(),$("body .tooltip").remove(),this.$("#editor").codeshell("saveLangCode"),this.codeBeforeSplit=this.$("#editor").codeshell("value"),this.$("#editor").codeshell("disposeFirepad"),this.parent.whichView=view,"split"===view?(this.fullscreen=!0,this.$el.css("padding","1%"),this.$el.css("width","auto")):(this.fullscreen=!1,this.$el.css("width","100%"),this.$el.css("padding","0%")),null!=this.CustomInputElement&&this.destroyCustomInput(),null!=this.kjEditor&&(this.kjEditor.destroy(),this.kjEditor=null),this.parent.$el.html(""),$.cookie("candidate-site-view",view,{expires:365}),!0===this.tourViewed||"testing"!==this.aid?this.$(".js-codeeditor").addClass("hidden"):this.$(".js-codeeditor").removeClass("hidden"),this.parent.render(),this.fromSplitView=!1},RecruitCandidateCodingView.prototype.closeSplitView=function(e){return this.makeSplitView(e,"normal")},RecruitCandidateCodingView.prototype.testcaseDownload=function(){var ref,ref1,ref2,ref3,ref4,ref5,ref6,track_data,url;return url="/recruit/attempts/"+HR.candidate.candidateAttemptModel.id+"/questions/"+this.question.unique_id+"/testcases",HR.util.downloadURL(url),track_data={test_id:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,question_id:null!=(ref2=HR.candidate)?ref2.currentQuestion:void 0,company_id:(null!=(ref3=HR.candidate)&&null!=(ref4=ref3.candidateTestModel)?ref4.get("company_id"):void 0)||null,job_id:(null!=(ref5=HR.candidate)&&null!=(ref6=ref5.candidateAttemptModel)?ref6.get("job_id"):void 0)||null},HR.util.candidateTrack("Click","DownloadSampleTestcase",track_data)},RecruitCandidateCodingView.prototype.changeInputOutput=function(){var langData,langId,langLabel;if("True"!==this.question.stubs_present){if(null!=this.kjEditor){if(!(langData=this.kjEditor.getLanguage()))return void this.$("#input-output-help").empty();langId=langData.language,langLabel=langData.label}else langId=this.$("#select-lang").select2("val"),langLabel=this.$("#select-lang").select2("data").text;return this.input_output_help_view=new HR.InputOutputInfoView({lang:langId,language:langLabel,test:this.test?this.test:null}),this.add_subview(this.input_output_help_view),indexOf.call(this.input_output_help_view.allowedLanguages,langId)>=0?this.$("#input-output-help").html(this.input_output_help_view.render().el):this.$("#input-output-help").empty()}},RecruitCandidateCodingView.prototype.showNewCustomInput=function(){var currDatatype,datatypesAllowed,i,passedParams,ref,ref1;if((null!=(ref=this.question)?ref.custom_testcase_allowed:void 0)&&"False"===(null!=(ref1=this.question)?ref1.custom_testcase_allowed:void 0))return!1;if(HR.candidate&&HR.candidate.candidateAttemptModel){if(!this.question.functionParams||"code"!==this.question.type&&"approx"!==this.question.type||"1"!==this.question.template_type)return!1;for(passedParams=this.question.functionParams.split(","),datatypesAllowed=["INTEGER","STRING","FLOAT","LONG_INTEGER","STRING_ARRAY","INTEGER_ARRAY","LONG_INTEGER_ARRAY","FLOAT_ARRAY","INTEGER_SINGLY_LINKED_LIST","FLOAT_SINGLY_LINKED_LIST","CHARACTER_SINGLY_LINKED_LIST","STRING_SINGLY_LINKED_LIST","INTEGER_DOUBLY_LINKED_LIST","FLOAT_DOUBLY_LINKED_LIST","CHARACTER_DOUBLY_LINKED_LIST","STRING_DOUBLY_LINKED_LIST"],i=0;i<passedParams.length;){if(currDatatype=passedParams[i].split(" ")[0],!_.contains(datatypesAllowed,currDatatype))return!1;i++}return this.newCustomInput=!0,!0}return!1},RecruitCandidateCodingView.prototype.getCustomInputData=function(){return this.kjEditor?this.kjEditor.getCustomInputValue():this.$("#customtestcase").is(":checked")?this.newCustomInput?this.CustomInputElement.getValue():this.$("#custominput").val():null},RecruitCandidateCodingView.prototype.getCurrentComponent=function(){return this.kjEditor?this.kjEditor.getCustomInputView():this.$("#customtestcase").is(":checked")?this.newCustomInput?this.CustomInputElement.getCurrentComponent():"raw":null},RecruitCandidateCodingView.prototype.getCustomInputOpts=function(){var currentParams,functionParams,i,passedParams;for($.jStorage.set("show-custom-input-v4",!0,{TTL:864e5}),passedParams=this.question.functionParams.split(","),i=0,functionParams=[];i<passedParams.length;)currentParams=passedParams[i].split(" "),functionParams[i]={name:currentParams[1],type:currentParams[0]},i++;return{functionName:this.question.functionName,datatypes:functionParams,defaultView:"visual"}},RecruitCandidateCodingView.prototype.applyCustomInput=function(){var config,customInputWrapper,ref,_this;if("True"===(null!=(ref=this.test)?ref.get("disable_paste"):void 0)&&this.$("#editor").codeshell("getEditor").on("paste",function(e,ev){return ev.preventDefault()}),this.showNewCustomInput())return config=this.getCustomInputOpts(),customInputWrapper=$(".js-custom-input"),HR.requires(["react.production.min","react-dom.production.min","custom-input.min"],(_this=this,function(React,ReactDOM,CustomInputLib){var EditorCustomInput;return EditorCustomInput=CustomInputLib["default"],_this.CustomInputElement=ReactDOM.render(React.createElement(EditorCustomInput,{config:config,onChange:function(text){return _this.customInputData=text}}),customInputWrapper[0]),_this.destroyCustomInput=function(){return ReactDOM.unmountComponentAtNode(customInputWrapper[0]),_this.CustomInputElement=null}}))},RecruitCandidateCodingView.prototype.applyCodeshell=function(){var $editor,enable_autocomplete,fullsc,layout,opts,ref,ref1,ref2,ref3,ref4,ref5,ref6,show_mode,_this;return fullsc=!1,layout=0,"testing"!==this.aid&&_.contains(["code","approx","database"],this.question.type)&&(layout="split"===this.parent.whichView?2:1),show_mode=null==(ref=this.test)||!ref.get("secure")||"True"!==(null!=(ref1=this.test)?ref1.get("secure"):void 0),enable_autocomplete=!1!==(null!=(ref2=this.test)?ref2.get("enable_autocomplete"):void 0),(opts={languages:this.question.languages,defaultLanguage:indexOf.call(this.question.languages,"c")>=0?"c":this.question.languages[0],showFileTree:!1,autoSaveNamespace:this.autoSaveNamespace,lang_template:this.getLangDefaults(),showTemplate:this.show_template,showNonEditableHeadTail:this.show_template,lang_head_template:this.getLangHeads(),lang_tail_template:this.getLangTails(),compile_button_text:"database"===this.question.type?"Run Query":"Run Code",submit_button_sub_text:"testing"!==this.aid?"("+i18next.t("question.code.submit_any_number")+")":void 0,submit_button_text:"Submit code & Continue",showSubmit:!0,showCustomInput:this.showCustomInput(),showNewCustomInput:this.newCustomInput,dynamicMode:!0,enableIntellisense:enable_autocomplete&&show_mode,enableLiveAutocomplete:enable_autocomplete&&show_mode,enableLiveAutocompleteLinting:!1,showFullScreen:fullsc,layout:layout,showMode:show_mode,adminView:!1,customSetting:"testing"===this.aid?null:[{label:"Editor tour",type:"link",classList:" btn btn-small",text:"Show tour",eventName:"starttour"}],customToolBar:"testing"===this.aid?null:[{label:"Original Code",type:"link",classList:"js-showoriginalcode btn btn-medium",text:"Original code",eventName:"originalcode"}],loadmode:function(e,data){return HR.appController.loadCodeMirrorMode(data.lang,function(){return data.callback()})}}).showNotification=!1,"True"!==(null!=(ref3=this.test)?ref3.get("hide_compile_test"):void 0)&&"True"!==this.question.hide_compile_test||(opts.showCompileTest=!1),"testing"===this.aid&&(opts.showSubmit=!1,opts.showCompileTest=!1),!1!==opts.showCompileTest&&(opts.showCompileTest=!0),"testing"!==this.aid&&"undefined"!=typeof Firebase&&null!==Firebase&&!0===HR.candidate.candidateTestModel.get("track_firebase")&&(opts.firepad={enabled:!0,authUrl:""+this.question.firepad_url,authToken:this.firebaseToken,readyCb:function(){return window.HR.appView.dirty=!1},readyFailCb:function(){return window.HR.appView.dirty=!1}},null!=(null!=(ref4=this.question.solve)?ref4.answer:void 0)&&(opts.firepad.answer=this.question.solve.answer)),($editor=this.$("#editor")).codeshell(opts),$editor.codeshell("onChange",(_this=this,function(e,change){return _this.changeInputOutput(),_this.deleteMarkersOnSource(e,change)})),"testing"!==this.aid&&(this.$("#editor #vertical-icon").attr({"data-analytics":"VerticalViewSwitch","data-attr-question_id":this.question.unique_id,"data-attr-attempt_id":this.aid,"data-attr-test_id":null!=(ref5=this.test)?ref5.tid:void 0}),this.$("#editor #horizontal-icon").attr({"data-analytics":"HorizontalViewSwitch","data-attr-question_id":this.question.unique_id,"data-attr-attempt_id":this.aid,"data-attr-test_id":null!=(ref6=this.test)?ref6.tid:void 0})),this.set_answer(),this.fullscreen?(this.$("#editor a.fullscreen").addClass("force-hide").removeClass("active-link"),this.$("#editor a.restorefullscreen").removeClass("force-hide").addClass("active-link")):(this.$("#editor a.restorefullscreen").addClass("force-hide").removeClass("active-link"),this.$("#editor a.fullscreen").removeClass("force-hide").addClass("active-link"),this.setPinnedHeader()),setTimeout(function(_this){return function(){return _this.setDefaultText=!0}}(this),3e3),setTimeout(function(){return $editor.codeshell("refresh")},2e3)},RecruitCandidateCodingView.prototype.setPinnedHeader=function(){var _this;return this.checkPinnedHeader()?(this.parent.$(".js-pinheader").html("<a class='btn js-btnpin' data-pin='True' title='Pin/unpin the Run and Submit code buttons below'><i class='icon--single icon-cancel-small'></i> Unpin code header/footer</a>"),setTimeout(function(){return HR.util.fixedDiv("questions",".codeshell",[70,window.innerHeight-65],!0,window),$(".codeshell-footer").css("border-top","#bbb 1px solid")},1e3),$(window).bind("resize",(_this=this,function(){return _this.render()}))):($(window).unbind("scroll"),$(window).unbind("resize"),this.parent.$(".js-pinheader").html("<a class='btn js-btnpin' data-pin='False' title='Pin/unpin the Run and Submit code buttons below'><i class='icon--single icon-pencil'></i> Pin code header/footer</a>")),$(document).on("click",".js-pinheader",function(_this){return function(e){var noPin;return"True"===(noPin=e.srcElement.attributes["data-pin"].value)&&$(window).unbind("scroll"),$.jStorage.set("noPin",noPin),_this.render()}}(this))},RecruitCandidateCodingView.prototype.checkPinnedHeader=function(){var pinnedHeader,ref;return"True"===(null!=(ref=this.test)?ref.get("enable_codefixedheader"):void 0)?(this.parent.$(".js-pinheader").removeClass("hidden"),pinnedHeader=!0,"True"===$.jStorage.get("noPin")&&(pinnedHeader=!1)):pinnedHeader=!1,pinnedHeader},RecruitCandidateCodingView.prototype.getLangDefaults=function(){var j,l,len,m,ref;for(m={},j=0,len=(ref=this.question.languages).length;j<len;j++)l=ref[j],this.question[l+"_template"]&&(m[l]=this.question[l+"_template"]);return m},RecruitCandidateCodingView.prototype.getLangHeads=function(){var j,l,len,m,ref;for(m={},j=0,len=(ref=this.question.languages).length;j<len;j++)l=ref[j],this.question[l+"_template_head"]&&(m[l]=this.question[l+"_template_head"]);return m},RecruitCandidateCodingView.prototype.getLangTails=function(){var j,l,len,m,ref;for(m={},j=0,len=(ref=this.question.languages).length;j<len;j++)l=ref[j],this.question[l+"_template_tail"]&&(m[l]=this.question[l+"_template_tail"]);return m},RecruitCandidateCodingView.prototype.showCustomInput=function(){return"database"!==this.question.type&&((!this.question.custom_testcase_allowed||"False"!==this.question.custom_testcase_allowed)&&!this.showNewCustomInput())},RecruitCandidateCodingView.prototype.showNewTestcasesUI=function(){return HR.candidate&&HR.candidate.candidateTestModel},RecruitCandidateCodingView.prototype.showHiddenTestcases=function(){return HR.candidate&&HR.candidate.candidateTestModel&&HR.candidate.candidateTestModel.get("enable_reveal_hidden_testcases")},RecruitCandidateCodingView.prototype.updateLiveStatus=function(status){return _.extend(this.testcaseElementProps.liveStatus,status)},RecruitCandidateCodingView.prototype.handleDownload=function(className,index){var url;return url="","stdin"===className&&(url="inputUrl"),"expected-output"===className&&(url="expectedOutputUrl"),window.open(this.testcases[index][url])},RecruitCandidateCodingView.prototype.handleUnlock=function(testcaseIndex){return $.ajax({type:"POST",url:"/recruit/attempts/"+HR.candidate.candidateAttemptModel.id+"/questions/"+this.question.unique_id+"/reveal_testcase",data:{testcase_id:testcaseIndex},success:(_this=this,function(){return $.ajax({type:"GET",url:"/recruit/attempts/"+HR.candidate.candidateAttemptModel.id+"/questions/"+_this.question.unique_id+"/testcase_data",data:{testcase_id:testcaseIndex,compile_test_id:HR.candidate.ctmodel.id},success:function(data){var expectedOutput,expectedOutputUrl,inputUrl,stdIn,stdOut,testcases;return testcases=_.clone(_this.testcases),expectedOutput=data.expectedOutput,expectedOutputUrl=data.expectedOutputUrl,inputUrl=data.inputUrl,stdIn=data.stdIn,stdOut=data.stdOut,_.extend(testcases[testcaseIndex],{purchased:!0,expectedOutput:expectedOutput,expectedOutputUrl:expectedOutputUrl,inputUrl:inputUrl,stdIn:stdIn,stdOut:stdOut}),_this.renderTestcasesElement({testcases:testcases})}})})});var _this},RecruitCandidateCodingView.prototype.renderTestcasesElement=function(props,cb){return null==cb&&(cb=null),this.testcasesResultWrapper=$(".new-run-status"),this.testcaseElementProps=_.extend(this.testcaseElementProps,props),HR.requires(["react.production.min","react-dom.production.min","testcases.min"],(_this=this,function(React,ReactDOM,TestcasesResult){var target;return ReactDOM.render(React.createElement(TestcasesResult["default"],_this.testcaseElementProps),_this.testcasesResultWrapper[0]),_this.testcasesElementMounted||(target=$(".new-run-status .testcase-wrapper")).length&&target.scrollintoview(),"function"==typeof cb&&cb(),_this.testcasesElementMounted=!0}));var _this},RecruitCandidateCodingView.prototype.getTestcasesCount=function(){return"True"===HR.candidate.candidateTestModel.get("hide_hidden_testcase")?this.question.sample_test_cases_count:this.question.total_test_cases_count},RecruitCandidateCodingView.prototype.renderTooltip=function(){return this.$("[data-toggle=tooltip]").tooltip()},RecruitCandidateCodingView.prototype.getStdoutLabel=function(m,cb,index){if("database"===this.question.type)return HR.requires(["react.production.min"],function(React){var stdoutLabel;return stdoutLabel=React.createElement("span",null,"Output",React.createElement("i",{"class":"icon-help-circled txt-blue psT psB psL js-tooltip cursor-pointer","data-toggle":"tooltip","data-placement":"right",title:"The output from SQL server is shown as one row per line and column values separated by space"}),React.createElement("span",{"class":"pull-right"},"Query time:",Math.round(100*m.get("time")[0])/100," seconds")),cb(stdoutLabel,index)})},RecruitCandidateCodingView.prototype.customCompile=function(e,data){var event,isCustomInput,ref,ref1,ref2,ref3,ref4,ref5,ref6,secondsInitial,track_data;return this.testcasesElementMounted&&this.destroyTestcases(),!this.kjEditor&&this.getCustomInputData()&&(data.custominput=this.getCustomInputData()),secondsInitial=(new Date).getTime()/1e3,isCustomInput=this.$("#customtestcase").is(":checked")&&this.getCustomInputData(),event=this.showNewTestcasesUI()&&!isCustomInput?"runalltestcases":e,this.compileAnswer(event,data,secondsInitial),track_data={test_id:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,question_id:null!=(ref2=HR.candidate)?ref2.currentQuestion:void 0,attribute12:!(!data.custominput||!data.custominput.length),attribute1:this.getCurrentComponent(),company_id:(null!=(ref3=HR.candidate)&&null!=(ref4=ref3.candidateTestModel)?ref4.get("company_id"):void 0)||null,job_id:(null!=(ref5=HR.candidate)&&null!=(ref6=ref5.candidateAttemptModel)?ref6.get("job_id"):void 0)||null,start_time:secondsInitial},HR.util.candidateTrack("CandidateRunCode",HR.candidate.candidateAttemptModel.get("id"),track_data)},RecruitCandidateCodingView.prototype.compileAnswer=function(e,data,secondsInitial){var liveStatus,ref,_this;if(data.code&&!(null!=(ref=this.kjEditor)&&ref.isRunCodeDisabled()||$(".bb-compile").hasClass("disabled")))return data.custominput&&(data.customtestcase=!0),$(".bb-compile").addClass("disabled"),this.deleteMarkersOnSource(),HR.candidate.ctmodel=new HR.CandidateCompileTestModel,HR.candidate.ctmodel.setAid(this.aid),HR.candidate.ctmodel.setQid(this.question.unique_id),"database"!==this.question.type&&"runalltestcases"!==e||HR.candidate.ctmodel.setAllCases(!0),this.question.has_samples||data.customtestcase||HR.candidate.ctmodel.setAllCases(!0),this.testcaseElementProps||(this.testcaseElementProps={liveStatus:{totalCount:this.getTestcasesCount()},isCustomTestcase:data.customtestcase,showLineNumbers:!0}),HR.candidate.ctview=new HR.RecruitCandidateCompileTestView({allTestCases:HR.candidate.ctmodel.getAllCases(),questionType:this.question.type,aid:this.aid,showNewTestcasesUI:this.showNewTestcasesUI()}),this.$("#runstatus").html(HR.candidate.ctview.render().el),this.showNewTestcasesUI()?(liveStatus=this.updateLiveStatus({liveMessage:"Uploading"}),this.renderTestcasesElement({liveStatus:liveStatus})):this.$("#runstatus").scrollintoview(),HR.candidate.ctmodel.save(data,{success:(_this=this,function(){var liveMessage;return liveMessage="Uploaded. Waiting for results..",_this.showNewTestcasesUI()?(liveStatus=_this.updateLiveStatus({liveMessage:liveMessage}),_this.renderTestcasesElement({liveStatus:liveStatus})):HR.candidate.ctview.setStatus(liveMessage),HR.candidate.ctloop=setTimeout(function(){return _this.checkForResult(_this,data,e,secondsInitial)},1e3)}),error:function(_this){return function(tmp,e){var msg;return HR.candidate.ctview.showCompileTestsView(),_this.destroyTestcases(),null!=_this.kjEditor?_this.kjEditor.enableRunCode():$(".bb-compile").removeClass("disabled"),HR.candidate.ctmodel=null,e&&e.responseText&&(msg=JSON.parse(e.responseText).error)?HR.candidate.ctview.setStatus("Error when trying to compile and test: "+msg):HR.candidate.ctview.setStatus("Could not compile as server is unreachable, or this session has closed.")}}(this)})},RecruitCandidateCodingView.prototype.checkForResult=function(that,data,e,secondsInitial,liveStatus){var hrMetricFlag,liveStatusProps,testcaseElementProps,_this;if(null==liveStatus&&(liveStatus=null),HR.candidate.ctloop)return hrMetricFlag=!0,liveStatusProps={},liveStatus&&(liveStatusProps.progress=liveStatus.progress,liveStatusProps.maxLimit=liveStatus.progress_states,liveStatusProps.liveMessage=liveStatus.live_message||"Processing",liveStatusProps.testcaseMessage=liveStatus.testcase_message,liveStatusProps.testcaseStatus=liveStatus.testcase_status,liveStatusProps.signal=liveStatus.codechecker_signal),this.showNewTestcasesUI()?(liveStatus=this.updateLiveStatus(liveStatusProps),testcaseElementProps={liveStatus:liveStatus},this.renderTestcasesElement(testcaseElementProps)):HR.candidate.ctview.setStatus(liveStatus||"Processing.."),HR.candidate.ctmodel.fetch({success:(_this=this,function(m){var censored_stderr,companyName,customInputValue,custom_checker_result,customchecker_message,expected_output,expected_output_url,i,input,input_url,isSample,j,len,message,msg,output,output_debug,pass,ref,ref1,ref2,ref3,ref4,ref5,ref6,ref7,ref8,ref9,score,secondsFinal,st_class,status_msg,stderr,stdoutCallback,testcaseData,testcase_label,testcase_no,total_time,track_data;if(0===m.get("status"))return liveStatus=m.get("status_string")?m.get("status_string"):null,void(HR.candidate.ctloop=setTimeout(function(){return that.checkForResult(that,data,e,secondsInitial,liveStatus)},1e3));if(HR.candidate.ctview.showCompileTestsView(),0!==m.get("status")){if(null!=_this.kjEditor?_this.kjEditor.enableRunCode():$(".bb-compile").removeClass("disabled"),clearTimeout(HR.candidate.ctloop),HR.candidate.ctloop=null,m.get("result")>0)return _this.destroyTestcases(),
"database"===_this.question.type?HR.candidate.ctview.setStatus("Runtime Error","red"):(HR.candidate.ctview.setStatus("Compilation Failed","red"),HR.candidate.ctview.hideTestCaseTable()),HR.candidate.ctview.setCompileStatus("Compilation Message",m.get("compilemessage")),HR.candidate.ctview.setCompileCommand("Compilation Command",m.get("compile_command")),that.addMarkersOnSource(m);if(null!=m.get("error_code")&&m.get("error_code")>0)return _this.destroyTestcases(),message="Alert",HR.candidate.ctview.setStatus(message,"red"),HR.candidate.ctview.hideTestCaseTable(),HR.candidate.ctview.setTestMessage("Message :","Looks like we're facing some technical difficulties right now (error "+m.get("error_code")+").\nPlease try again in a moment. If the issue persists, write to us at support@hackerrank.com.");if(pass=0,_this.testcases=[],m.get("customtestcase"))HR.candidate.ctview.setStatus("Compiled successfully.","orange"),input=m.get("stdin")[0],output=m.get("stdout")[0],expected_output=m.get("expected_output")?m.get("expected_output")[0]:null,output_debug=m.get("stdout_debug")?m.get("stdout_debug")[0]:null,censored_stderr=null!=(stderr=m.get("stderr")?m.get("stderr")[0]:null)?stderr:m.get("censored_stderr")?m.get("censored_stderr")[0]:null,m.get("signal")&&0!==m.get("signal")[0]&&m.get("testcase_message")&&m.get("testcase_message")[0]?(msg=m.get("testcase_message"),st_class="red"):(msg="",st_class="green"),customchecker_message="",m.get("custom_checker_result")&&((custom_checker_result=m.get("custom_checker_result")).result>0?customchecker_message=custom_checker_result.compile_message:custom_checker_result.stderr&&custom_checker_result.stderr[0]&&(customchecker_message=custom_checker_result.stderr[0])),_this.showNewTestcasesUI()?(testcaseData={stdIn:input,stdOut:output,stdOutDebug:output_debug,expectedOutput:expected_output,compilerMessage:msg,stdErr:censored_stderr,customCheckerMessage:customchecker_message,signal:m.get("signal")[0]},_this.testcases[0]=testcaseData,testcaseElementProps={testcases:_this.testcases,statusCode:m.get("status"),type:"compile"},_this.renderTestcasesElement(testcaseElementProps)):HR.candidate.ctview.addTestCase({tno:1,input:input,output:output,input_url:null,expected_output_url:null,output_debug:output_debug,expected_output:expected_output,compiler_msg:msg,censored_stderr:censored_stderr,st_class:st_class,customchecker_message:customchecker_message});else{for(_this.showNewTestcasesUI()||"runalltestcases"!==e&&_this.question.has_samples||null==m.get("testcase_status")||HR.candidate.ctview.updateTestCaseTable(m.get("testcase_status"),m.get("testcase_message")),i=j=0,len=(ref=m.get("testcase_status")).length;j<len;i=++j)ref[i],input=m.get("stdin")[i],output=m.get("stdout")[i],input_url=m.get("stdin_url")?m.get("stdin_url")[i]:null,expected_output_url=m.get("expected_output_url")?m.get("expected_output_url")[i]:null,expected_output=m.get("expected_output")[i],output_debug=m.get("stdout_debug")?m.get("stdout_debug")[i]:null,censored_stderr=null!=(stderr=m.get("stderr")?m.get("stderr")[i]:null)?stderr:m.get("censored_stderr")?m.get("censored_stderr")[i]:null,msg=m.get("testcase_message")[i],1===m.get("testcase_status")[i]?(st_class="txt-green",pass++):st_class="txt-orange",m.get("score")&&_.isNumber(m.get("score")[i])&&(score=m.get("score")[i]),"database"===_this.question.type?(testcase_no=null,testcase_label="Output <i class='icon-help-circled txt-blue psT psB psL js-tooltip' data-toggle='tooltip' data-placement='right' title='The output from SQL server is shown as one row per line and column values separated by space'></i>\n<span class='pull-right'>Query time: "+Math.round(100*m.get("time")[0])/100+" seconds</span>",st_class="hidden"):(testcase_no=i+1,testcase_label="Your Output"),customchecker_message="",m.get("custom_checker_result")&&((custom_checker_result=m.get("custom_checker_result")).result>0?customchecker_message=custom_checker_result.compile_message:custom_checker_result.stderr&&custom_checker_result.stderr[i]&&(customchecker_message=custom_checker_result.stderr[i])),_this.showNewTestcasesUI()?(stdoutCallback=function(text,index){return _this.testcases[index].renderStdoutLabel=function(){return text},_this.renderTestcasesElement(_this.testcases,_this.renderTooltip)},isSample=!(!_.contains(["True","true",!0,"1",1],HR.candidate.candidateTestModel.get("hide_hidden_testcase"))||"database"===_this.question.type)||_.contains(m.get("sample_indexes"),i),testcaseData={stdIn:input,stdOut:_.isUndefined(output)||_.isNull(output)?"Output hidden":output,inputUrl:input_url,expectedOutputUrl:expected_output_url,stdOutDebug:output_debug,expectedOutput:expected_output,compilerMessage:"database"===_this.question.type?void 0:msg,stdErr:censored_stderr,score:score,customCheckerMessage:customchecker_message,status:m.get("testcase_status")[i],renderStdoutLabel:_this.getStdoutLabel(m,stdoutCallback,i),signal:m.get("signal")[i],isSample:isSample},1===m.get("testcase_status")[i]?testcaseData.purchased=!0:testcaseData.purchased=!(_.isUndefined(output)||_.isNull(output)),_this.testcases[i]=testcaseData):HR.candidate.ctview.addTestCase({tno:testcase_no,input:input,output:output,input_url:input_url,expected_output_url:expected_output_url,output_debug:output_debug,expected_output:expected_output,compiler_msg:msg,censored_stderr:censored_stderr,st_class:st_class,score:score,output_label:testcase_label,customchecker_message:customchecker_message});0===m.get("testcase_status").length?(msg="Compiled successfully. There are no test cases for this question.",_this.showCustomInput()&&(msg+=" Please select 'Test against custom input' to run the code with your input."),HR.candidate.ctview.setStatus(msg,"orange"),HR.candidate.ctview.updateProgressBar(1,1),HR.candidate.ctview.updateStatusMessage(msg,"complete")):0===pass?(status_msg="database"===_this.question.type?m.get("signal")&&0!==m.get("signal")[0]&&m.get("testcase_message")&&m.get("testcase_message")[0]?m.get("testcase_message")[0]:"Incorrect Answer":"No test cases passed.",HR.candidate.ctview.setStatus(status_msg,"red"),HR.candidate.ctview.updateProgressBar(1,1),HR.candidate.ctview.updateStatusMessage(status_msg,"error")):pass<i?"runalltestcases"===e?(message="Compiled successfully. "+pass+"/"+i+" test cases passed.",HR.candidate.ctview.setStatus(message,"orange"),HR.candidate.ctview.updateProgressBar(1,1),HR.candidate.ctview.updateStatusMessage(message,"complete")):HR.candidate.ctview.setStatus("Compiled successfully. "+pass+"/"+i+" sample test cases passed.","orange"):"runalltestcases"!==e?(HR.candidate.ctview.setStatus("Compiled successfully. All sample test cases passed!","green"),hrMetricFlag=!1,_this.$(".bb-runall").show(),that.compileAnswer("runalltestcases",data,secondsInitial)):("database"===_this.question.type?status_msg="Correct Answer":(status_msg="Compiled successfully. All available test cases passed!",HR.candidate.ctview.updateProgressBar(1,1),HR.candidate.ctview.updateStatusMessage(status_msg,"complete")),HR.candidate.ctview.setStatus(status_msg,"green")),_this.showNewTestcasesUI()&&(testcaseElementProps={testcases:_this.testcases,statusCode:m.get("status"),type:"submit",handleDownload:_this.handleDownload,defaultTextForOutput:"database"===_this.question.type?"~ no output ~":void 0},_this.showHiddenTestcases()&&(companyName=(companyName=null!=(ref1=HR.candidate)&&null!=(ref2=ref1.candidateTestModel)?ref2.get("company_name"):void 0).split(" ").map(function(word){return word[0].toUpperCase()+word.slice(1)}).join(" "),_.extend(testcaseElementProps,{shouldUnlockHiddenTestcase:!0,unlockTestcaseMessage:companyName+" has chosen to keep this test case hidden. If you choose to reveal a test case, it will be displayed in the test report but does not affect your test score.",handleUnlock:_this.handleUnlock,unlockButtonText:"Reveal"})),_this.renderTestcasesElement(testcaseElementProps))}if(hrMetricFlag)return secondsFinal=(new Date).getTime()/1e3,total_time=parseFloat(secondsFinal)-parseFloat(secondsInitial),customInputValue=_this.getCustomInputData(),track_data={test_id:null!=(ref3=HR.candidate)&&null!=(ref4=ref3.candidateTestModel)?ref4.get("unique_id"):void 0,question_id:null!=(ref5=HR.candidate)?ref5.currentQuestion:void 0,attribute12:!(!customInputValue||!customInputValue.length),company_id:(null!=(ref6=HR.candidate)&&null!=(ref7=ref6.candidateTestModel)?ref7.get("company_id"):void 0)||null,job_id:(null!=(ref8=HR.candidate)&&null!=(ref9=ref8.candidateAttemptModel)?ref9.get("job_id"):void 0)||null,end_time:secondsFinal,total_time:total_time},HR.util.candidateTrack("CandidateRunCode",HR.candidate.candidateAttemptModel.get("id"),track_data)}}),error:function(_this){return function(){return _this.destroyTestcases(),HR.candidate.ctview.showCompileTestsView(),HR.candidate.ctmodel=null,null!=_this.kjEditor?_this.kjEditor.enableRunCode():$(".bb-compile").removeClass("disabled"),HR.candidate.ctview.setStatus("Unable to fetch compile information from server.")}}(this)})},RecruitCandidateCodingView.prototype.answer=function(){return this.$("#editor").codeshell("value")},RecruitCandidateCodingView.prototype.set_answer=function(){if("krackjack"===this.mainEditor)return this.fromSplitView=!1,void(null!=this.kjEditor?this.kjEditor.setValue(this.question.solve.answer):loadKrackJack());if(this.codeBeforeSplit){if("undefined"!=typeof Firebase&&null!==Firebase&&HR.candidate.candidateTestModel.get("track_firebase"))return;return this.$("#editor").codeshell("setValue",this.codeBeforeSplit),setTimeout((_this=this,function(){return _this.codeBeforeSplit=null}),300)}return!this.question.solve||"undefined"!=typeof Firebase&&null!==Firebase&&!0===HR.candidate.candidateTestModel.get("track_firebase")?void 0:this.$("#editor").codeshell("setValue",this.question.solve.answer);var _this},RecruitCandidateCodingView.prototype.sendPasteEvent=function(pasted_text){var ref,ref1,ref2,ref3,ref4,ref5,ref6,ref7,ref8,track_data;if(!(pasted_text.length<=100))return"True"===HR.candidate.candidateAttemptModel.get("secure")&&HR.candidate.testEvents.add({action:"paste",eid:9,qid:this.question.unique_id,insertTime:new Date}),track_data={test_id:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,question_id:null!=(ref2=HR.candidate)?ref2.currentQuestion:void 0,company_id:(null!=(ref3=HR.candidate)&&null!=(ref4=ref3.candidateTestModel)?ref4.get("company_id"):void 0)||null,hacker_id:(null!=(ref5=HR.candidate)&&null!=(ref6=ref5.candidateAttemptModel)?ref6.get("hacker_id"):void 0)||null,job_id:(null!=(ref7=HR.candidate)&&null!=(ref8=ref7.candidateAttemptModel)?ref8.get("job_id"):void 0)||null,attribute5:pasted_text.length},HR.util.candidateTrack("paste","candidate paste code",track_data)},RecruitCandidateCodingView.prototype.checkCopyPaste=function(change){var added_text;if(this.setDefaultText&&(added_text=change.text.join(""))!==this.lastAddedText)return this.lastAddedText=added_text,"paste"===change.origin?this.sendPasteEvent(added_text):void 0},RecruitCandidateCodingView.prototype.handleKrackJackPaste=function(range,pasted_text){if((HR.candidate||HR.candidate.candidateAttemptModel)&&pasted_text!==this.lastAddedText)return this.lastAddedText=pasted_text,this.sendPasteEvent(pasted_text)},RecruitCandidateCodingView.prototype.addMarkersOnSource=function(data){var editor,error_markers,error_message,i,line_number,line_offset,marker_node,markers,total_lines;if("krackjack"!==this.mainEditor&&data.get("error_markers")){for(i in editor=this.$("#editor").codeshell("getEditor"),error_markers=data.get("error_markers"),total_lines=editor.lineCount(),line_offset=error_markers.head_code_lines,markers=error_markers.markers)error_message=markers[i].message,line_number=markers[i].line_number,(line_number-=line_offset)<=total_lines&&(marker_node=$("<div class='error-marker'><span class='error-marker-icon'>!</span>"+error_message+"</div>"),this.error_marker_widgets.push(editor.addLineWidget(line_number-1,marker_node[0],{above:!0})));return setTimeout((_this=this,function(){return _this.$("#editor").codeshell("refresh")}),2e3);var _this}},RecruitCandidateCodingView.prototype.deleteMarkersOnSource=function(e,change){var editor,i;if("krackjack"!==this.mainEditor&&(e&&change&&HR.candidate&&HR.candidate.candidateAttemptModel&&this.checkCopyPaste(change),0!==this.error_marker_widgets.length)){for(i in editor=this.$("#editor").codeshell("getEditor"),this.error_marker_widgets)editor.removeLineWidget(this.error_marker_widgets[i]);var _this;return setTimeout((_this=this,function(){return _this.$("#editor").codeshell("refresh")}),2e3),this.error_marker_widgets=[]}},RecruitCandidateCodingView.prototype.showCodeshellTour=function(){var addBackTime,compileStep,customInputTour,ref,ref1,ref2,ref3,ref4,ref5,ref6,ref7,steps,tourEndCallback,track_data,_this;return this.$(".js-codeeditor").addClass("hidden"),this.tourViewed=!0,this.intro=introJs(),steps=[{element:null!=this.kjEditor?".hr-monaco-editor-parent":".code-body",intro:"Code your solution here. Some questions may have uneditable areas above and below.",position:this.fullscreen?"left":"top"},{element:null!=this.kjEditor?".select-language":"#s2id_select-lang",intro:"Choose your favourite language from this list of supported languages.",position:"bottom"},{element:".orientation-icon",intro:"You can <strong>change the editor\u2019s placement</strong> by switching between vertical and horizontal layout",position:"bottom"},{element:null!=this.kjEditor?".hr-monaco-submit":".ans-submit",intro:"<strong>This is important!</strong> Once you are done testing make sure you submit your code. You can submit any number of times, your last submitted version will be considered for grading.",position:"top",tooltipClass:"ourIntroLast"}],compileStep={intro:"Once your code is ready to be tested, use the \u201cRun Code\u201d button here. You may choose to test against the built-in test cases, or provide a test input of your own",position:"top"},(null!=(ref=this.kjEditor)?ref.options.showCompileTest:void 0)?compileStep.element=".hr-monaco-compile":$(".bb-compile").length?compileStep.element=".bb-compile":compileStep=null,compileStep&&steps.splice(3,0,compileStep),"code"!==this.question.type&&"approx"!==this.question.type||!this.showCustomInput()&&!this.showNewCustomInput()||(customInputTour={element:"#customtestcase",intro:"You can debug code using your own input. This will help you troubleshoot against the hidden testcases",position:"top"},steps.splice(3,0,customInputTour)),this.intro.setOptions({steps:steps,showProgress:!0,tooltipClass:"ourIntro",scrollToElement:!0,skipLabel:"Skip",exitOnOverlayClick:!0}),_this=this,addBackTime=function(){var secondsToClaim;return _this.tourPlaying=!1,window.HR.endTour=moment().unix(),(secondsToClaim=window.HR.endTour-window.HR.startTour)>90&&(secondsToClaim=90),HR.candidate.candidateAttemptModel.set("claimTourTime",secondsToClaim),HR.candidate.candidateAttemptModel.save(null,{success:function(m){return HR.candidate.candidateAttemptModel=m,HR.candidate.candidateAttemptModel.unset("claimTourTime"),HR.RecruitCandidateTopBarView.unpauseTimer()},error:function(){return HR.candidate.candidateAttemptModel.unset("claimTourTime"),HR.router.navigate(HR.candidate.candidateTestModel.get("unique_id")+"/redirect",{trigger:!0,replace:!0})}}),track_data.duration=secondsToClaim,HR.util.candidateTrack("Click","CandidateEndTour",track_data)},this.tourPlaying=!0,this.tourTimer=setTimeout(function(_this){return function(){return _this.intro.exit(),HR.util.candidatemsg("Maximum allotted pause time has been spent on the tour.",!1,!0,7),addBackTime()}}(this),9e4),window.HR.startTour=moment().unix(),$.jStorage.get(HR.candidate.candidateAttemptModel.get("id")+"tourViewed")||HR.RecruitCandidateTopBarView.pauseTimer(),tourEndCallback=function(_this){return function(){return addBackTime(),null!=_this.tourTimer&&clearTimeout(_this.tourTimer),$.jStorage.set(HR.candidate.candidateAttemptModel.get("id")+"tourViewed",!0)}}(this),this.intro.onexit(tourEndCallback),this.intro.oncomplete(tourEndCallback),null==this.kjEditor||this.fullscreen||this.intro.onafterchange(function(elem){if($(elem).hasClass("hr-monaco-base-editor"))return setTimeout(function(){return document.querySelector(".ourIntro").scrollIntoView({behavior:"smooth",block:"start"})})}),track_data={test_id:null!=(ref1=HR.candidate)&&null!=(ref2=ref1.candidateTestModel)?ref2.get("unique_id"):void 0,question_id:null!=(ref3=HR.candidate)?ref3.currentQuestion:void 0,company_id:(null!=(ref4=HR.candidate)&&null!=(ref5=ref4.candidateTestModel)?ref5.get("company_id"):void 0)||null,job_id:(null!=(ref6=HR.candidate)&&null!=(ref7=ref6.candidateAttemptModel)?ref7.get("job_id"):void 0)||null},HR.util.candidateTrack("Click","CandidateStartTour",track_data),this.intro.start(),setTimeout(function(){return $(".introjs-overlay").css("display","block")})},RecruitCandidateCodingView.prototype.renderDiffEditor=function(el,eventName){var base,base1,base2,body,code,defaults,editorRef,head,initialModels,lang,tail,template,_this;return null==eventName&&(eventName="ViewCodeDiff"),defaults=this.getLangDefaults(),lang=(editorRef=this.kjEditor.editorRef).getCurrentLanguage(),code=null!=(base=editorRef.currentCodes)[lang]?base[lang]:base[lang]="",head=null!=(base1=editorRef.currentHeads)[lang]?base1[lang]:base1[lang]="",body=null!=defaults[lang]?defaults[lang]:defaults[lang]="",tail=null!=(base2=editorRef.currentTails)[lang]?base2[lang]:base2[lang]="",body.trim()&&body.startsWith("\n")||!head||(body="\n\n"+body),!body.endsWith("\n")&&tail&&(body+="\n\n"),template=""+head+body+tail,this.diffEditor&&(null!=(initialModels=this.diffEditor.getModel()).original&&initialModels.original.dispose(),null!=initialModels.modified&&initialModels.modified.dispose()),setTimeout((_this=this,function(){var domElement,modifiedModel,originalModel,track_data;if(domElement=document.querySelector(el))return _this.diffEditor=monaco.editor.createDiffEditor(domElement,{ariaLabel:"Original Code Diff Editor",ignoreTrimWhitespace:!1,readOnly:!0,renderFinalNewline:!1,scrollBeyondLastLine:!1,scrollBeyondLastColumn:5,enableContextMenu:!1}),originalModel=monaco.editor.createModel(template,"diff"),modifiedModel=monaco.editor.createModel(code,"diff"),_this.diffEditor.setModel({original:originalModel,modified:modifiedModel}),_this.diffEditor.onDidUpdateDiff(function(){return editorRef.getFirstDiff(_this.diffEditor)}),track_data=_this.getDiffEditorTrackData(head,code,tail),HR.util.candidateTrack("Click",eventName,track_data)}))},RecruitCandidateCodingView.prototype.getDiffEditorTrackData=function(head,code,tail){var currentCode,currentHead,currentTail,diffHead,diffTail,headArray,tailArray;if(null==head&&(head=""),null==code&&(code=""),null==tail&&(tail=""),this.kjEditor&&this.diffEditor&&code.length>0&&(head.length>0||tail.length>0))return currentCode=code.split("\n"),currentHead=currentTail=[],head.length>0&&(headArray=head.split("\n"),currentHead=currentCode.slice(0,headArray.length)),tail.length>0&&(tailArray=tail.split("\n"),currentTail=currentCode.slice(currentCode.length-tailArray.length)),diffHead=currentHead.join("\n"),diffTail=currentTail.join("\n"),{originalHead:head,originalHeadLength:head.length,modifiedHead:diffHead,modifiedHeadLength:diffHead.length,originalTail:tail,originalTailLength:tail.length,modifiedTail:diffTail,modifiedTailLength:diffTail.length}},RecruitCandidateCodingView.prototype.showOriginalCode=function(){var defaults,lang,msg,_this;if(msg="This is the code stub originally provided with this challenge. You can copy this using Ctrl/Cmd+C and paste it back in the code editor.",this.shouldUseKrackJack()?msg="<div class='alert alert-body'>"+msg+"</div>"+"<div class='diff-banner'><div class='diff-banner-label'>Original Code</div><div class='diff-banner-label'>Modified Code</div></div>"+"<div id='diff-initial-code'></div>":(defaults=this.getLangDefaults(),lang=this.$("#editor").codeshell("value").language,msg=msg+"<br/><br/><textarea readonly class='fw xtall' id='initial-code'>"+_.escape(defaults[lang])+"</textarea>"),HR.util.alert({message:msg,title:"<span class='alert-title'>Initial Code</span>",okButtonText:"Close Window",closebutton:!0,width:"800",callback:(_this=this,function(){if(null!=_this.diffEditor)return _this.diffEditor.dispose()})}),this.shouldUseKrackJack())return this.renderDiffEditor("#diff-initial-code")},RecruitCandidateCodingView.prototype.hideTourBanner=function(){var ref,ref1,ref2,ref3,ref4,ref5,ref6,track_data;return $.jStorage.set(HR.candidate.candidateAttemptModel.get("id")+"tourViewed",!0),this.tourViewed=!0,this.$(".js-codeeditor").hide("slow"),track_data={test_id:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,question_id:null!=(ref2=HR.candidate)?ref2.currentQuestion:void 0,company_id:(null!=(ref3=HR.candidate)&&null!=(ref4=ref3.candidateTestModel)?ref4.get("company_id"):void 0)||null,job_id:(null!=(ref5=HR.candidate)&&null!=(ref6=ref5.candidateAttemptModel)?ref6.get("job_id"):void 0)||null,duration:0},HR.util.candidateTrack("Click","CandidateEndTour",track_data)},RecruitCandidateCodingView.prototype.getDefaultLanguage=function(){var ref;return(null!=(ref=this.question.languages)?ref.length:void 0)>0?this.question.languages[0]:"c"},RecruitCandidateCodingView.prototype.getKrackJackOpts=function(){var answer,enable_autocomplete,layout,opts,ref,ref1,ref2,ref3,ref4,ref5,ref6,show_mode,uaParser,_this;return!1,layout=0,"IE"===(uaParser=new UAParser).getBrowser().name?layout=0:"testing"!==this.aid&&_.contains(["code","approx","database"],this.question.type)&&(layout="split"===this.parent.whichView?2:1),show_mode=null==(ref=this.test)||!ref.get("secure")||"True"!==(null!=(ref1=this.test)?ref1.get("secure"):void 0),enable_autocomplete=!1!==(null!=(ref2=this.test)?ref2.get("enable_autocomplete"):void 0),opts={attemptId:this.aid,isReadonlyEditable:"Safari"===uaParser.getBrowser().name,languageOptions:{languages:this.question.languages,lang_template:this.getLangDefaults(),lang_head_template:this.getLangHeads(),lang_tail_template:this.getLangTails()},defaultLanguage:this.getDefaultLanguage(),compileButtonText:"database"===this.question.type?"Run Query":"Run Code",submitButtonSubText:"testing"!==this.aid?"("+i18next.t("question.code.submit_any_number")+")":void 0,submitButtonText:"Submit code & Continue",showSubmit:!0,showCustomInput:this.showCustomInput(),showNewCustomInput:this.showNewCustomInput(),autoSaveNamespace:this.autoSaveNamespace,enableAutoComplete:enable_autocomplete&&show_mode,showModes:show_mode,customSetting:"testing"===this.aid?[]:[{label:"Editor tour",type:"link",classList:"btn btn-small",text:"Show tour",callback:this.showCodeshellTour.bind(this)}],itemsBeforeLanguageSelector:"testing"===this.aid?[]:[{label:"View Code Diff",type:"link",classList:"js-showoriginalcode btn btn-medium",text:"Original code",callback:this.showOriginalCode.bind(this)}],showFullScreen:0!==layout,isHorizontal:2===layout,isAnswerSubmitted:!1,isSecure:!show_mode,onKeyDown:this.editorKeyDown.bind(this),onPaste:this.handleKrackJackPaste.bind(this),onLanguageChange:(_this=this,function(newLang){return _this.changeInputOutput(),_this.shout("Current language is "+newLang)}),onToggleView:function(_this){return function(toggle){var eventName,ref3;return toggle?_this.makeSplitView():_this.closeSplitView(),eventName=toggle?"VerticalViewSwitch":"HorizontalViewSwitch",HR.util.candidateTrack("Click",eventName,{question_id:_this.question.unique_id,attempt_id:_this.aid,test_id:null!=(ref3=_this.test)?ref3.tid:void 0},!0)}}(this)},"True"!==(null!=(ref3=this.test)?ref3.get("hide_compile_test"):void 0)&&"True"!==this.question.hide_compile_test||(opts.showCompileTest=!1),"testing"===this.aid&&(opts.showSubmit=!1,opts.showCompileTest=!1),!1!==opts.showCompileTest&&(opts.showCompileTest=!0),show_mode||(opts.enableAutoComplete=!1),"testing"!==this.aid&&!0===HR.candidate.candidateTestModel.get("track_firebase")&&(opts.firepad={enabled:!0,apiKey:HR.FIREBASE_API_KEY,authUrl:this.test.get("firepad_new_url")+"/"+this.question.unique_id,authToken:this.test.get("firepad_new_token"),readyCb:function(){return window.HR.appView.dirty=!1},readyFailCb:function(){return window.HR.appView.dirty=!1}},null!=(null!=(ref4=this.question.solve)?ref4.answer:void 0)&&(opts.firepad.answer=this.question.solve.answer)),null!=(null!=(ref5=this.question)&&null!=(ref6=ref5.solve)?ref6.answer:void 0)&&(answer=this.question.solve.answer,opts.languageOptions.lang_template[answer.language]=answer.code,opts.defaultLanguage=answer.language,opts.isAnswerSubmitted=!0),opts},RecruitCandidateCodingView.prototype.checkErrorSubmission=function(){var banner,msg,_this;return!this.shouldUseKrackJack()||(!this.kjEditor.editorRef.hasTemplateChanged()||(banner="<div class='diff-banner'><div class='diff-banner-label'>Original Code</div><div class='diff-banner-label'>Modified Code</div></div>",msg="Please refrain from making changes to the static header and footer of the code since it will result in failed code submission. Please revert any such changes and modify only the editable part of the code.",HR.util.alert({message:"<div class='alert alert-danger' role='alert'>"+msg+"</div>"+banner+"<div id='diff-submit-code'></div>",title:"<span class='alert-title'>Submission Failed</span>",okButtonText:"Ok",closebutton:!0,width:"800",callback:(_this=this,function(){if(null!=_this.diffEditor)return _this.diffEditor.dispose()})}),this.renderDiffEditor("#diff-submit-code","DiffEditorMismatch"),!1))},RecruitCandidateCodingView.prototype.loadKrackJack=function(){var opts,_this;return this.kjEditor&&(this.kjEditor.destroy(),this.kjEditor=null),this.mainEditor="krackjack",this.kjEditor||this.$("#editor").addClass("loading-mode"),window.CodeShellAdapter?(this.$("#editor").removeClass("loading-mode"),opts=this.getKrackJackOpts(),this.renderKrackJack(CodeShellAdapter,opts),this.changeInputOutput()):HR.appController.loadKrackJack((_this=this,function(CodeShellAdapter){return window.CodeShellAdapter=CodeShellAdapter,_this.$("#editor").removeClass("loading-mode"),opts=_this.getKrackJackOpts(),_this.renderKrackJack(CodeShellAdapter,opts),_this.changeInputOutput()}),function(){return HR.util.candidatemsg("Unable to load code editor.<br/><br/> Check your internet connection, and refresh the page to fix this.",!1)})},RecruitCandidateCodingView.prototype.renderKrackJack=function(CodeShellAdapter,options){var $editor,editorObject,_this;if(($editor=this.$("#editor")).length)return editorObject=null,options.onCompileTest=(_this=this,function(data,e){if(editorObject)return data.code=editorObject.getCode(),_this.checkErrorSubmission()?(editorObject.disableRunCode(),_this.customCompile(e,data)):void 0}),options.onSubmitCode=function(_this){return function(data,e){if(editorObject)return _this.checkErrorSubmission()?_this.parent.submitAnswer(e):void 0}}(this),options.showNewCustomInput=this.showNewCustomInput(),options.prevCode=this.codeBeforeSplit,options.showNewCustomInput&&(options.inputConfig=this.getCustomInputOpts()),editorObject=new CodeShellAdapter($editor[0],options),this.codeBeforeSplit=null,$(".orientation-icon").tooltip(),this.kjEditor=editorObject,this.addDummyCodeshell($editor,this.kjEditor)},RecruitCandidateCodingView.prototype.addDummyCodeshell=function($node,editor){return $.prototype.codeshell!==codeShellProxy&&(this.originalCodeShell=$.prototype.codeshell),$.prototype.codeshell=codeShellProxy,this.$("#editor").codeshell(editor)},RecruitCandidateCodingView.prototype.unmountReactComponents=function(){if(this.originalCodeShell&&($.prototype.codeshell=this.originalCodeShell),null!=this.kjEditor&&(this.kjEditor.destroy(),this.kjEditor=null),this.CustomInputElement)return this.destroyCustomInput()},RecruitCandidateCodingView.prototype.saveCurrentCodeToServer=function(alertFrom){var data,request_params,_this;return null==alertFrom&&(alertFrom="EarlySaveToBackend"),data={qid:this.question.unique_id,qtype:this.question.type,answer:{type:"code",answer:this.answer()}},request_params={url:"/recruit/attempts/"+HR.candidate.candidateAttemptModel.get("id")+"/solves",data:data,dataType:"json",type:"POST",success:(_this=this,function(){return _this.showMemoryAlert(alertFrom)})},$.ajax(request_params)},RecruitCandidateCodingView.prototype.showMemoryAlert=function(alertFrom){return HR.util.candidateTrack("MemoryAlert",alertFrom),HR.util.alert({message:"You are facing an intermittent issue which will be resolved on refreshing the page. Please do not worry as we have saved your test progress. To continue taking the test, please click refresh.",title:"<span class='alert-title'>Refresh to continue</span>",okButtonText:"Refresh",closebutton:!1,width:"600",callback:function(){return $(window).off("beforeunload",HR.router.beforeUnload),window.location.reload()}})},RecruitCandidateCodingView.prototype.onMemoryLimit=function(){var storage;if(null!=this.question.solve)return this.saveCurrentCodeToServer();if(null!=this.kjEditor){this.kjEditor.editorRef.saveLangCode();try{if(storage=localStorage.getItem("jStorage"),(storage=JSON.parse(storage))[this.kjEditor.editorRef.getCurrentAutoSaveKey()]===this.kjEditor.editorRef.getCode())return this.showMemoryAlert("EarlySaveToLocalStorage");throw new Error("Not Saved")}catch(error){return this.saveCurrentCodeToServer("EarlySaveLocalStorageFailed")}}},RecruitCandidateCodingView.prototype.destroy=function(){return Backbone.Events.off("process:overlimit"),$("body").removeClass("body-height-auto"),this.timer&&clearTimeout(this.timer),this.unmountReactComponents(),this.unbind()},RecruitCandidateCodingView}(window.HR.GenericView),HR.RecruitCandidateCodingView=RecruitCandidateCodingView,HR.appLoaded=!0})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,RecruitCandidateMultipleFileView;return HR=window.HR||{},RecruitCandidateMultipleFileView=function(superClass){function RecruitCandidateMultipleFileView(){return RecruitCandidateMultipleFileView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateMultipleFileView,superClass),RecruitCandidateMultipleFileView.prototype.confirmUploadFileDialog=function(e){var that;return e.preventDefault(),this.showConfirmUpload()?this.uploadFileDialog():(that=this,HR.util.confirm({title:"Upload Zip File",message:"<p>Uploading a new directory structure will replace the content of your current code Editor. Would you like to continue? </p> <p class='gray-text' style='font-size: 14px;'> <input id='confirm-upload-checkbox' type='checkbox' class='confirm-upload'> <label style='display: inline-block; font-weight: normal;' for='confirm-upload-checkbox'>Skip this alert next time</label> </p>",okButtonText:"Yes",cancelButtonText:"No",okCallback:function(dialog){return that.toggleConfirmUpload(dialog.$body().find("input.confirm-upload").is(":checked")),dialog.destroy(),that.uploadFileDialog()}}))},RecruitCandidateMultipleFileView.prototype.uploadFileDialog=function(){var buttons,fields,that;return that=this,fields=[{name:"source_file",title:"Source File",type:"file"}],buttons=[{name:"Upload",callback:function(dialog){var btn,files,max_allowed_file_size,upload_url;return max_allowed_file_size=26214400,(btn=this).unSetFailedMsg(),btn.setInactive(),0===(files=dialog.$form().find(":file")[0].files).length?(btn.setActive(),void btn.setFailedMsg("Please Select a file to upload")):files[0].size>max_allowed_file_size?(btn.setActive(),void btn.setFailedMsg("File size should be < 25MB.")):(upload_url="testing"===that.aid?that.model.url()+"/upload":that.model.url()+"/upload_filetree",$.ajax({url:upload_url,type:"POST",data:{a:1},dataType:"json",iframe:!0,processData:!0,files:dialog.$form().find(":file"),success:function(response){return btn.setActive(),200===response.status?(btn.setSuccessMsg(response.message),$.ajax({url:that.model.url(),data:{refresh_folders:!0},type:"GET",success:function(response){return that.question=response.model,that.initFileTree(),that.render(),dialog.destroy(),window.HR.appView.dirty=!0}})):btn.setFailedMsg(response.message)}}))}}],new HR.util.ShowFormDialog({title:"Upload Dialog",width:650,enctype:"multipart/form-data",fields:fields,buttons:buttons}).render()},RecruitCandidateMultipleFileView.prototype.toggleConfirmUpload=function(flag){return $.cookie("code_upload_as_zip",!1===flag)},RecruitCandidateMultipleFileView.prototype.showConfirmUpload=function(){return"false"===$.cookie("code_upload_as_zip")},RecruitCandidateMultipleFileView.prototype.initFileTree=function(){
var performAction,that;return that=this,performAction=function(opts){var node_path;return node_path=null,node_path=opts.node_path?opts.node_path:$.jstree.reference("#filetree").get_path(opts.node).join("/"),$.ajax({url:that.model.url()+"/files",type:"POST",data:{node:opts.node,operation:opts.operation,node_path:node_path,new_path:opts.new_name?opts.new_name:void 0,try_question:"testing"===that.aid?"True":void 0},success:opts.success,error:opts.error,complete:opts.complete})},this.multipleFiles={data:this.question.file_tree,onSave:function(node,cb){return node.original&&node.original.permission<4?cb():performAction({node:node,operation:"save",success:function(){return window.HR.appView.dirty=!0},error:function(){return console.log("error")},complete:function(){return cb()}})},fetch:function(treeObj,cb){return performAction({node:treeObj.node,operation:"fetch",success:function(data){return treeObj.node.original.fileContents=data.fileContents},error:function(xhr){var res;return res=$.parseJSON(xhr.responseText),treeObj.node.original.fileContents="<i class='icon--single icon-attention'> </i> "+res.error,treeObj.node.original.permission=3},complete:function(){return cb(treeObj)}})},onCreate:function(node,node_parent,create_callback){var inst,node_parent_path,node_path;return node_path=(node_parent_path=(inst=$.jstree.reference("#filetree")).get_path(node_parent))?node_parent_path.join("/")+"/"+node.text:""+node.text,performAction({node:node,node_path:node_path,operation:"create",success:function(){return window.HR.appView.dirty=!0},error:function(xhr){return HR.util.candidatemsg($.parseJSON(xhr.responseText).error,!0,!0,1.5),inst.delete_node(node)},complete:function(){return create_callback()}})},onRename:function(node,node_parent,new_name,rename_callback){var old_name;return old_name=node.text,performAction({node:node,operation:"rename",new_name:new_name,success:function(){return window.HR.appView.dirty=!0},error:function(xhr){return HR.util.candidatemsg($.parseJSON(xhr.responseText).error,!0,!0,1.5),node.text=old_name,$.jstree.reference("#filetree").refresh(node)},complete:function(){return rename_callback()}})},onDelete:function(node,node_parent,delete_callback){return performAction({node:node,operation:"delete",success:function(){return delete_callback(),window.HR.appView.dirty=!0},error:function(xhr){return HR.util.candidatemsg($.parseJSON(xhr.responseText).error,!0,!0,1.5),delete_callback(!1)}})}}},RecruitCandidateMultipleFileView}(window.HR.GenericView),HR.RecruitCandidateMultipleFileView=RecruitCandidateMultipleFileView})}.call(this),function(){var bind=function(fn,me){return function(){return fn.apply(me,arguments)}},extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,RecruitCandidateDesignView;return RecruitCandidateDesignView=function(superClass){function RecruitCandidateDesignView(){return this.hideLoading=bind(this.hideLoading,this),this.fetchAndRegisterDesignUrl=bind(this.fetchAndRegisterDesignUrl,this),RecruitCandidateDesignView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateDesignView,superClass),RecruitCandidateDesignView.prototype.template="recruit/question-design",RecruitCandidateDesignView.prototype.className="question-design",RecruitCandidateDesignView.prototype.initialize=function(options){var hashKey;return this.question=options.question,this.test=HR.candidate.candidateTestModel||options.test,this.codeshell=null,HR.candidate&&HR.candidate.candidateAttemptModel?this.aid=HR.candidate.candidateAttemptModel.get("id"):this.aid="testing","testing"===this.aid?(hashKey=CryptoJS.MD5(this.question.html_template+"-"+this.question.css_template+"-"+this.question.javascript_template).toString(),this.test?this.autoSaveNamespace=this.aid+"-"+this.test.id+"-"+this.question.id+"-"+HR.currentUser.id+"-"+hashKey:this.autoSaveNamespace=this.aid+"-"+this.question.id+"-"+HR.currentUser.id+"-"+hashKey):this.autoSaveNamespace=this.aid+"-"+this.question.unique_id,"true"===this.question.multiple_files?this.initFileTree():this.multipleFiles=!1,this},RecruitCandidateDesignView.prototype.events={"codeshellcompile #editor":"renderAnswer","click .upload_file":"confirmUploadFileDialog"},RecruitCandidateDesignView.prototype._render=function(){var _this;return $(this.el).html(HR.appController.template(this.template,this)({question:this.question})),this.$("#runstatus").on("load",this.hideLoading),this.show_template=!1,"testing"!==this.aid&&this.fetchAndRegisterDesignUrl(this.aid),HR.appController.loadCodeMirror((_this=this,function(){return _this.applyCodeshell(),_this.$("#editor").codeshell("onChange",function(e,change){if("setValue"!==change.origin&&"testing"!==_this.aid&&(window.HR.appView.dirty=!0),e&&change&&HR.candidate&&HR.candidate.candidateAttemptModel&&"True"===HR.candidate.candidateAttemptModel.get("secure"))return _this.checkCopyPaste(change)})}),function(){return HR.util.alert({message:"There was an error loading the code editor. Please refresh the page."})}),this},RecruitCandidateDesignView.prototype.fetchAndRegisterDesignUrl=function(aid,callback){var designUrl,request_design_url,_this;return null==callback&&(callback=null),designUrl=HR.util.getDesignUrl(aid,this.question.unique_id),request_design_url={url:window.location.protocol+"//"+window.location.host+"/recruit/attempts/"+aid+"/render/fetch_render_auth",type:"GET",tryCount:0,retryLimit:5,success:(_this=this,function(data){var register_design_url;return register_design_url={url:designUrl+"/recruit/attempts/"+aid+"/render/register_render_auth",type:"POST",tryCount:0,xhrFields:{withCredentials:!0},retryLimit:5,data:{reg_key:data.reg_key},success:function(){return _this.renderAuthenticated=!0,"function"==typeof callback?callback():void 0},error:function(xhr){return this.tryCount++,this.tryCount<this.retryLimit?$.ajax(this):console.log(xhr)}},$.ajax(register_design_url)}),error:function(){return this.tryCount++,this.tryCount<this.retryLimit?$.ajax(this):console.log("Error in setting frontend cookie")}},$.ajax(request_design_url)},RecruitCandidateDesignView.prototype.applyCodeshell=function(){var opts,selected_node,tabs,tabs_tooltip,_this;return opts={showFileTree:this.multipleFiles,autoSaveNamespace:this.autoSaveNamespace,lang_template:this.getLangDefaults(),showUploadCode:!this.question.enable_permissions&&this.multipleFiles,compile_button_text:"Render",submit_button_text:"Submit code & Continue",autoSaveTTL:"testing"===this.aid?6048e5:null,showSubmit:!0,showCustomInput:!1,dynamicMode:!0,enableIntellisense:!0,adminView:!1,loadmode:function(e,data){return HR.appController.loadCodeMirrorMode(data.lang,function(){return data.callback()})}},this.multipleFiles?this.question.enable_permissions?opts.showDownloadCode=!1:"testing"===this.aid?opts.showDownloadCode=this.model.url()+"/download":opts.showDownloadCode=this.model.url()+"/download_filetree":(opts.languages=this.question.languages,opts.language="html",opts.showNonEditableHeadTail=this.show_template,this.basicDesignQuestion=!0),"testing"===this.aid&&(opts.showSubmit=!1,opts.showCompileTest=!0),!1!==opts.showCompileTest&&(opts.showCompileTest=!0),this.$("#editor").codeshell(opts),this.multipleFiles||(this.$("#select-lang").addClass("hidden"),this.$("#select-lang-tabs").remove(),tabs="<div id='select-lang-tabs'> <div class='pull-left btn-group'>",this.question.languages.forEach(function(v){return tabs+="<a class='cursor btn btn-white "+(v===opts.language?"active":"")+"' data-lang='"+v+"'>"+lang_display_mapping[v]+"</a>"}),tabs+="</div> </div>",tabs_tooltip=$("<span class=' pull-left icon-help-circled txt-blue psT psB psL' data-toggle='tooltip' data-placement='right' title='The tabs on the left help you view the corresponding code segment.'></span>").tooltip(),(tabs=$(tabs)).find("a").on({click:(_this=this,function(e){return e.preventDefault(),tabs.find("a").removeClass("active"),_this.$("#editor").codeshell("saveLangCode"),_this.$("#editor").codeshell("changeLanguage",_this.$(e.currentTarget).addClass("active").data("lang"))})}),this.$("#editor > div.grey-header").prepend(tabs.append(tabs_tooltip))),$("#render-help").remove(),this.$("#editor .bb-compile").parent().prepend($("<span id='render-help' class='pull-left icon-help-circled txt-blue psT psB psR' data-toggle='tooltip' data-placement='left' title='Press \"Render\" Button to view the visual output of your code. Press \"Submit code & Continue\" to submit your answer. '></span>").tooltip()),this.$("#editor").codeshell("refresh"),this.set_answer(),this.multipleFiles&&(this.$("#editor").codeshell("setValue",{language:"text",code:"Please select any file from left to start editing."}),this.$("#editor").codeshell("setOption","readOnly",!0),selected_node=void 0,this.question.file_tree.every(function(node_object){return selected_node=node_object,"file"!==node_object.type}),selected_node&&"file"===selected_node.type&&this.$("#filetree").one("loaded.jstree",function(){return $.jstree.reference("#filetree").activate_node(selected_node,"activate_node.jstree")})),setTimeout(function(_this){return function(){return _this.setDefaultText=!0}}(this),3e3)},RecruitCandidateDesignView.prototype.getLangDefaults=function(){var i,l,len,m,ref;for(m={},i=0,len=(ref=this.question.languages).length;i<len;i++)l=ref[i],void 0!==this.question[l+"_template"]&&(m[l]=this.question[l+"_template"]);return m},RecruitCandidateDesignView.prototype.hideLoading=function(){if(this.$(".bb-compile").length&&this.$("#runstatus").attr("src"))return this.setStatus("Document prepared successfully","green"),this.renderAuthenticated&&this.$(".output-message").html("<a href='"+this.srcLink+"' target='_blank'> If your code does not render properly below, click here to open in a new tab. </a>"),this.$(".bb-compile").removeClass("disabled"),this.$(".output-message").removeClass("hidden"),this.$("#runstatus-load").addClass("hidden"),this.$("#runstatus").removeClass("hidden")},RecruitCandidateDesignView.prototype.renderAnswer=function(){return this.renderAuthenticated||"testing"===this.aid?this.showRenderDoc():this.fetchAndRegisterDesignUrl(this.aid,this.showRenderDoc)},RecruitCandidateDesignView.prototype.showRenderDoc=function(){var data,fileData,init_url,ref,_this;if(!$(".bb-compile").hasClass("disabled"))return this.$(".bb-compile").addClass("disabled").data("status","sending"),this.$(".output-message").addClass("hidden"),"testing"!==this.aid?(HR.candidate.dtmodel=new HR.CandidateDesignTestModel,HR.candidate.dtmodel.setAid(this.aid),HR.candidate.dtmodel.setQid(this.question.unique_id)):(HR.candidate.dtmodel=new HR.RecruitDesignTestModel,HR.candidate.dtmodel.setQid(this.question.id),HR.candidate.dtmodel.setTid(null!=(ref=this.test)?ref.id:void 0)),this.$("#runstatus").addClass("hidden"),this.$("#runstatus-load").removeClass("hidden"),data=this.answer(),this.srcLink="",this.setStatus("Preparing the document...","black"),init_url=HR.development?window.location.protocol+"//design."+window.location.host:"yes"===HR.USE_CURRENT_HOST_AS_DESIGN_DOMAIN?window.location.protocol+"//"+window.location.host:window.location.protocol+"//"+HR.DESIGN_SUBDOMAIN_PREFIX+"-"+this.aid+"-"+this.question.unique_id+"."+HR.DESIGN_DOMAIN,"testing"!==this.aid||"true"===this.question.multiple_files?"testing"===this.aid?(this.setStatus("Loading document.."),this.srcLink=""+init_url+HR.candidate.dtmodel.renderUrl()+"/testing-"+HR.currentUser.get("id")+"/",this.test?this.srcLink+=this.test.get("authkey")+"/":this.srcLink+=this.question.authkey+"/",this.$("#runstatus").attr("src",this.srcLink),HR.util.scrollToBottom(1e3)):HR.candidate.dtmodel.save(data,{success:(_this=this,function(m){return _this.setStatus("Loading document.."),_this.srcLink=""+init_url+m.url()+"/"+m.get("id"),_this.$("#runstatus").attr("src",_this.srcLink),HR.util.scrollToBottom(1e3)}),error:function(_this){return function(){return HR.candidate.dtmodel=null,_this.setStatus("There was an issue with rendering this code.","red")}}(this)}):(fileData={content:data,single_file:!0,try_test:!0,operation:"save"},HR.candidate.dtmodel.save(fileData,{success:function(_this){return function(){return _this.setStatus("Loading document.."),_this.srcLink=""+init_url+HR.candidate.dtmodel.renderUrl()+"/testing-"+HR.currentUser.get("id")+"/",_this.test?_this.srcLink+=_this.test.get("authkey")+"/":_this.srcLink+=_this.question.authkey+"/",_this.$("#runstatus").attr("src",_this.srcLink),HR.util.scrollToBottom(1e3)}}(this),error:function(_this){return function(){return HR.candidate.dtmodel=null,_this.setStatus("There was an issue with rendering this code.","red")}}(this)}))},RecruitCandidateDesignView.prototype.answer=function(){return this.$("#editor").codeshell("value",!0)},RecruitCandidateDesignView.prototype.setStatus=function(s,additional_class){if(null==additional_class&&(additional_class=""),this.$(".output-area-wrap").removeClass("hidden"),this.$(".status-msg").html(s),""!==additional_class)return this.$(".status-msg").addClass(additional_class)},RecruitCandidateDesignView.prototype.set_answer=function(){var m;return!this.multipleFiles&&this.question.solve?(m={},_.each(this.question.solve.answer,function(data){return m[data.language]=data.code}),this.$("#editor").codeshell("setOption","lang_template",m),this.$("#editor").codeshell("setValue",{language:"html",code:m.html})):this.basicDesignQuestion?this.$("#editor").codeshell("changeLanguage","html"):void 0},RecruitCandidateDesignView.prototype.checkCopyPaste=function(change){var added_text;if(this.setDefaultText&&(added_text=change.text.join(""))!==this.lastAddedText)return this.lastAddedText=added_text,"paste"===change.origin&&added_text.length>100?HR.candidate.testEvents.add({action:"paste",eid:9,qid:this.question.unique_id,insertTime:new Date}):void 0},RecruitCandidateDesignView}((HR=window.HR||{}).RecruitCandidateMultipleFileView),HR.RecruitCandidateDesignView=RecruitCandidateDesignView})}.call(this),function(){var bind=function(fn,me){return function(){return fn.apply(me,arguments)}},extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,RecruitCandidateProjectView;return RecruitCandidateProjectView=function(superClass){function RecruitCandidateProjectView(){return this.openApkDownloadModal=bind(this.openApkDownloadModal,this),RecruitCandidateProjectView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateProjectView,superClass),RecruitCandidateProjectView.prototype.template="recruit/question-project",RecruitCandidateProjectView.prototype.className="question-project",RecruitCandidateProjectView.prototype.initialize=function(options){return this.question=options.question,this.test=HR.candidate.candidateTestModel||options.test,this.codeshell=null,HR.candidate&&HR.candidate.candidateAttemptModel?this.aid=HR.candidate.candidateAttemptModel.get("id"):this.aid="testing","testing"===this.aid?this.test?this.autoSaveNamespace=this.aid+"-"+this.test.id+"-"+this.question.id+"-"+HR.currentUser.id:this.autoSaveNamespace=this.aid+"-"+this.question.id+"-"+HR.currentUser.id:this.autoSaveNamespace=this.aid+"-"+this.question.unique_id,this.initFileTree(),this},RecruitCandidateProjectView.prototype.events={"click .js-apk":"openApkDownloadModal","codeshellexecute #editor":"executeCode","codeshellcompile #editor":"runCode","codeshellchanginglanguage #editor":"languageChange","click .upload_file":"confirmUploadFileDialog"},RecruitCandidateProjectView.prototype._render=function(){var _this;return $(this.el).html(HR.appController.template(this.template,this)({question:this.question})),this.show_template=!1,HR.appController.loadCodeMirror((_this=this,function(){return _this.applyCodeshell(),_this.$("#editor").codeshell("onChange",function(e,change){if("setValue"!==change.origin&&"testing"!==_this.aid)return window.HR.appView.dirty=!0})}),function(){return HR.util.alert({message:"There was an error loading the code editor. Please refresh the page."})}),this},RecruitCandidateProjectView.prototype.applyCodeshell=function(){var opts,selected_node,_this;return opts={showFileTree:this.multipleFiles,autoSaveNamespace:this.autoSaveNamespace,lang_template:this.getLangDefaults(),compile_button_text:"Build",submit_button_text:"Submit & Continue",uploadCodeText:"Upload code as Zip",downloadCodeText:"Download code as Zip",showSubmit:!0,showCompileTest:!0,showCustomInput:!1,dynamicMode:!0,enableIntellisense:!0,showNonEditableHeadTail:!1,adminView:!1,showNotification:!0,showUploadCode:!0,showDownloadCode:!1,enableLanguageChangeHook:!0,loadmode:function(e,data){return HR.appController.loadCodeMirrorMode(data.lang,function(){return data.callback()})}},"testing"===this.aid&&(opts.showSubmit=!1,opts.showCompileTest=!0),!1!==opts.showCompileTest&&(opts.showCompileTest=!0),"testing"===this.aid?opts.showDownloadCode=this.model.url()+"/download":opts.showDownloadCode=this.model.url()+"/download_filetree","project"===this.question.type&&(opts.showExecute=!0,opts.execute_button_text="Execute main()",opts.showCustomInput=!0,opts.compile_button_text="Run Unit Tests"),this.$("#editor").codeshell(opts),this.$("#editor").codeshell("refresh"),this.set_answer(),this.$("#editor").codeshell("setValue",{language:"text",code:"Please select any file from left to start editing."}),this.$("#editor").codeshell("setOption","readOnly",!0),selected_node=void 0,this.question.file_tree.every(function(node_object){return selected_node=node_object,"file"!==node_object.type}),selected_node&&"file"===selected_node.type&&this.$("#filetree").one("loaded.jstree",function(){return $.jstree.reference("#filetree").activate_node(selected_node,"activate_node.jstree")}),"project"===this.question.type&&this.$(".bb-execute").tooltip({placement:"left",title:"You can debug your code by writing a main() and optionally provide some custom input that will be fed to your program's STDIN",delay:{show:100,hide:0}}),setTimeout((_this=this,function(){return _this.setDefaultText=!0}),3e3)},RecruitCandidateProjectView.prototype.languageChange=function(e,data){return HR.util.confirm({title:"Are you sure?",message:"Changing the language will only change the syntax highlighting of the content.<br><br>You must upload an appropriate folder structure and file names with correct extensions, and also modify the pom.xml file to ensure the Maven framework works correctly.<br><br>Are you sure you want to change the syntax?",okCallback:function(){return data.yes()},cancelCallback:function(){return data.no()},okClass:"btn-primary"})},RecruitCandidateProjectView.prototype.getLangDefaults=function(){var j,l,len,m,ref;for(m={},j=0,len=(ref=this.question.languages).length;j<len;j++)l=ref[j],this.question[l+"_template"]&&(m[l]=this.question[l+"_template"]);return m},RecruitCandidateProjectView.prototype.enableRunCode=function(){return this.$(".bb-execute").removeClass("disabled").removeAttr("disabled"),this.$(".bb-compile").removeClass("disabled").removeAttr("disabled")},RecruitCandidateProjectView.prototype.disableRunCode=function(){return this.$(".bb-execute").tooltip("hide"),this.$(".bb-compile").addClass("disabled").attr("disabled",!0),this.$(".bb-execute").addClass("disabled").attr("disabled",!0)},RecruitCandidateProjectView.prototype.showError=function(error){return HR.candidate.ctview.setStatus(error)},RecruitCandidateProjectView.prototype.sendCompileTestRequest=function(e,data){var ref,_this;return this.disableRunCode(),data.multiple_files="true",data.kind="project",data.language="maven",HR.candidate.ctview=new HR.RecruitCandidateCompileTestView,this.$("#runstatus").html(HR.candidate.ctview.render().el),HR.util.scrollToBottom(1e3),"testing"===this.aid?(HR.candidate.ctmodel=new HR.RecruitCompileTestModel,HR.candidate.ctmodel.setTid(null!=(ref=this.test)?ref.get("id"):void 0),HR.candidate.ctmodel.setQid(this.question.id)):(HR.candidate.ctmodel=new HR.CandidateCompileTestModel,HR.candidate.ctmodel.setAid(this.aid),HR.candidate.ctmodel.setQid(this.question.unique_id),HR.candidate.ctmodel.setAllCases(!0)),HR.candidate.ctmodel.save(data,{success:(_this=this,function(){return HR.candidate.ctview.setStatus("Uploaded. Waiting for results.."),HR.candidate.ctloop=setTimeout(function(){return _this.checkForResult(_this,data,e)},2e3)}),error:function(_this){return function(m,xhr){return _this.enableRunCode(),HR.candidate.ctview.setStatus($.parseJSON(xhr.responseText).error,"red")}}(this)})},RecruitCandidateProjectView.prototype.executeCode=function(e,data){var that;return this.$("#runstatus").empty(),"android"===this.question.type?(this.connection=new HR.EmulatorConnectionModel,this.connection.connect()):"project"===this.question.type?("project"===this.question.type&&(data.execution_mode="main"),_.isEmpty(data.custominput)?(that=this,HR.util.confirm({message:"You've not set any custom input for the main(). Are you sure you want to continue?",cancelButtonText:"No, don't execute",okButtonText:"Yes, execute.",cancelCallback:function(){return that.enableRunCode()},okCallback:function(){return that.sendCompileTestRequest(e,data)}})):this.sendCompileTestRequest(e,data)):void 0},RecruitCandidateProjectView.prototype.runCode=function(e,data){var that;return this.$("#runstatus").empty(),data={},"project"===this.question.type&&(data.execution_mode="test"),"android"===this.question.type&&"gradle"===this.question.project_type&&(data.execution_mode=""),this.$("#customtestcase").prop("checked")?(that=this,HR.util.confirm({message:"Running Unit test will ignore your custom input.",cancelButtonText:"Cancel",okButtonText:"OK, continue",cancelCallback:function(){return that.enableRunCode()},okCallback:function(){return that.sendCompileTestRequest(e,data)}})):this.sendCompileTestRequest(e,data)},RecruitCandidateProjectView.prototype.openApkDownloadModal=function(e){var qr_code_url;return e.preventDefault(),qr_code_url="http://chart.apis.google.com/chart?chs=200x200&amp;cht=qr&amp;chld=|1&amp;chl="+this.apk_link,HR.util.alert({title:"Download APK",okButtonText:"Close",message:"Scan the following QR code from your device to install or click on the download button.\n<img src='"+qr_code_url+"' class='block-center clearfix'/>\n<div class=\"m clearfix\">\n  <a href='"+this.apk_link+"' target='_blank' class='btn mmL block-center span-md-6'><i class='icon--single icon-download'></i>Download</a>\n</div>"})},RecruitCandidateProjectView.prototype.checkForResult=function(that,data,e){var _this;if(HR.candidate.ctloop)return HR.candidate.ctview.setStatus("Processing.."),HR.candidate.ctmodel.fetch({success:(_this=this,function(m){var c,global_status_class,global_status_message,i,j,len,lines_str,lines_total,methods_str,methods_total,msg,ref,st_class,stderr,stdout,testcases,testing_label,unit_test_msg;if(0!==m.get("status")){if(0!==m.get("status"))if(_this.enableRunCode(),clearTimeout(HR.candidate.ctloop),HR.candidate.ctloop=null,m.get("result")>0)HR.candidate.ctview.setStatus("Build Failure","red"),HR.candidate.ctview.setTestMessage("Build Message :",m.get("compilemessage"));else if(null!=m.get("marked_for_rerun")&&!0===m.get("marked_for_rerun"))HR.candidate.ctview.setStatus("Alert","red"),HR.candidate.ctview.setTestMessage("Message :","Looks like something went wrong on our end.\nPlease try again.");else if(HR.candidate.ctview.setTestMessage("Build Message :",m.get("compilemessage")),null!=m.get("result")&&0===m.get("result")){if(HR.candidate.ctview.setStatus("Build Successful","green"),"android"===_this.question.type)null!=m.get("apk_link")&&(_this.apk_link=m.get("apk_link"),HR.candidate.ctview.setStatus("Build Successful\n<a href='#'' target='_blank' class='btn js-apk pull-right'><i class='icon--single icon-download'></i> Download APK</a>\n<div class=\"clear\"></div>","green"));else if(m.get("coverage")&&(lines_total=(c=m.get("coverage")).line_missed+c.line_covered,lines_str="Line Coverage: "+c.line_covered_percent+"% ("+c.line_covered+"/"+lines_total+")",methods_total=c.method_missed+c.method_covered,methods_str="Method Coverage: "+c.method_covered_percent+"% ("+c.method_covered+"/"+methods_total+")",HR.candidate.ctview.setCoverageMessage("Code coverage information",lines_str+"\n"+methods_str)),global_status_message="Build Successful. ",global_status_class="green",null!=m.get("stdout"))if("test"===m.get("execution_mode")?(testcases={passed:0,failed:0,total:0},_.each(m.get("testcase_status"),function(testcase_status){return testcase_status>0?testcases.passed+=1:testcases.failed+=1,testcases.total+=1}),0===testcases.total?(global_status_message+="No unit tests provided.",global_status_class="green"):testcases.passed>0?(unit_test_msg=testcases.passed+"/"+testcases.total,testcases.passed===testcases.total?(unit_test_msg="All",global_status_class="green"):global_status_class=testcases.failed>0?testcases.failed===testcases.total?"red":"orange":"green",global_status_message+=unit_test_msg+" unit tests passed."):(global_status_message+="Unit Testing failure.",global_status_class="red")):m.get("testcase_status")[0]>0?(global_status_message+="Execution Successful.",global_status_class="green"):(global_status_message+="Execution Failure.",global_status_class="red"),HR.candidate.ctview.setStatus(global_status_message,global_status_class),"test"===m.get("execution_mode"))for(testing_label="Unit Test",i=j=0,len=(ref=m.get("testcase_status")).length;j<len;i=++j)ref[i],stdout=stderr=msg=null,_.isEmpty(m.get("stdout")[i])||(stdout=m.get("stdout")[i]),_.isEmpty(m.get("stderr")[i])||(stderr=m.get("stderr")[i]),1===m.get("testcase_status")[i]?(st_class="txt-green",msg="Success"):(st_class="txt-orange",msg="Failed"),HR.candidate.ctview.addTestCase({tno:i+1,input:null,output:stdout,input_url:null,expected_output_url:null,output_debug:null,expected_output:null,compiler_msg:msg,censored_stderr:stderr,st_class:st_class,score:null,output_label:testing_label});else testing_label="Execution Message:",stdout=stderr=null,_.isEmpty(m.get("stdout")[0])||(stdout=m.get("stdout")[0]),_.isEmpty(m.get("stderr")[0])||(stderr=m.get("stderr")[0]),HR.candidate.ctview.addTestCase({tno:null,input:null,output:stdout,input_url:null,expected_output_url:null,output_debug:null,expected_output:null,compiler_msg:null,censored_stderr:stderr,st_class:"hidden",score:null,output_label:testing_label})}else HR.candidate.ctview.setStatus("Build Failure","red");return $("body, html").animate({scrollTop:$("#runstatus").offset().top-200},800)}HR.candidate.ctloop=setTimeout(function(){return that.checkForResult(that,data,e)},2e3)}),error:function(_this){return function(){return HR.candidate.ctmodel=null,_this.enableRunCode(),HR.candidate.ctview.setStatus("Unable to fetch compile information from server.")}}(this)})},RecruitCandidateProjectView.prototype.answer=function(){return this.$("#editor").codeshell("value",!0)},RecruitCandidateProjectView.prototype.setStatus=function(s,additional_class){if(null==additional_class&&(additional_class=""),this.$(".output-area-wrap").removeClass("hidden"),this.$(".status-msg").html(s),""!==additional_class)return this.$(".status-msg").addClass(additional_class)},RecruitCandidateProjectView.prototype.set_answer=function(){var m;if(!this.multipleFiles&&this.question.solve)return m={},_.each(this.question.solve.answer,function(data){return m[data.language]=data.code}),this.$("#editor").codeshell("setOption","lang_template",m),this.$("#editor").codeshell("setValue",{language:"html",code:m.html})},RecruitCandidateProjectView.prototype.checkCopyPaste=function(change){var added_text;if(this.setDefaultText&&(added_text=change.text.join(""))!==this.lastAddedText)return this.lastAddedText=added_text,"paste"===change.origin&&added_text.length>100?HR.candidate.testEvents.add({action:"paste",eid:9,qid:this.question.unique_id,insertTime:new Date}):void 0},RecruitCandidateProjectView}((HR=window.HR||{}).RecruitCandidateMultipleFileView),HR.RecruitCandidateProjectView=RecruitCandidateProjectView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty,bind=function(fn,me){return function(){return fn.apply(me,arguments)}};jQuery(function(){var HR,RecruitCandidateChe7View,RecruitCandidateFullStackCheView,RecruitCandidateFullStackView,RecruitCandidateJupyterView,RecruitCandidateRbaView;return HR=window.HR||{},RecruitCandidateFullStackView=function(superClass){function RecruitCandidateFullStackView(){return RecruitCandidateFullStackView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateFullStackView,superClass),RecruitCandidateFullStackView.prototype.template="recruit/fullstack-project",RecruitCandidateFullStackView.prototype.className="question-project",RecruitCandidateFullStackView.prototype.initialize=function(options){return this.question=options.question,this.test=HR.candidate.candidateTestModel||options.test,this.codeshell=null,this.parent=options.parent,HR.candidate&&HR.candidate.candidateAttemptModel?this.aid=HR.candidate.candidateAttemptModel.get("id"):this.aid="testing","testing"===this.aid?this.autoSaveNamespace=this.aid+"-"+this.test.id+"-"+this.question.id:this.autoSaveNamespace=this.aid+"-"+this.question.unique_id,this.myurl=Backbone.history.getFragment(),this.initFileTree(),this.codekitserverup=!1,this.codekitLate=!1,this.on("runTests",this.runTests),this},RecruitCandidateFullStackView.prototype.events={"click .js-tour":"showTour","click .js-closetour":"hideTour"},RecruitCandidateFullStackView.prototype.runTests=function(){var ref;if("undefined"!=typeof codekitApp&&null!==codekitApp&&null!=(ref=codekitApp.app)?ref.runProjectTest:void 0)return codekitApp.app.runProjectTest(),this.$("#ck-container").scrollintoview({yExtraScroll:parseInt($("header").height())+20})},RecruitCandidateFullStackView.prototype._render=function(){var ref,ref1,_this;if($(this.el).html(HR.appController.template(this.template,this)({question:this.question})),this.parent.$(".ans-submit").text("Submit code & continue").addClass("pull-right").prop("disabled",!0),this.runTests=this.parent.$(".run-tests"),this.runTests.addClass("pull-right"),null==(ref=HR.candidate.candidateAttemptModel.get("docker_info"))||null==(ref1=ref[this.question.unique_id])||!ref1.available)return require(["/CodeKit/client/build/static/application.js"],(_this=this,function(){var ck;return(ck=new CodeKit({mainDiv:"ck",addonsPath:"/CodeKit/addons",questionTitle:_this.question.name,question:_this.question.question,track:function(){return _this.trackEvent(arguments)}})).then(function(){return console.log("Skeleton CodeKit Loaded"),setTimeout(function(){return codekitApp.app.on("live_support",function(){return _this.openChatlio()}),codekitApp.app.on("cssFullScreen",function(state){return state?$("#HackerRank-main").css("overflow","hidden"):$("#HackerRank-main").css("overflow","")})},1e3),_this.fetchCandidateAttemptModel()},function(){return window.location.reload()}),setTimeout(function(){return _this.codekitLate=!0},3e4),window.ck=ck}),function(){return window.location.reload()}),this;this.modeSwitchAndRender()},RecruitCandidateFullStackView.prototype.fetchCandidateAttemptModel=function(){return HR.candidate.candidateAttemptModel.fetch({silent:!0,success:(_this=this,function(model){var info,ref,ref1,ref2;return _this.codekitserverup=!0,info=null!=(ref=model.get("docker_info"))?ref[_this.question.unique_id]:void 0,(null!=(ref1=model.get("docker_info"))&&null!=(ref2=ref1[_this.question.unique_id])?ref2.available:void 0)?_this.modeSwitchAndRender():(_this.updateLoadingMessage((null!=info?info.agent:void 0)||"localhost"),setTimeout(function(){if(Backbone.history.getFragment()===_this.myurl)return _this.fetchCandidateAttemptModel()},4e3))}),error:function(_this){return function(){return setTimeout(function(){if(Backbone.history.getFragment()===_this.myurl)return _this.fetchCandidateAttemptModel()},4e3)}}(this)});var _this},RecruitCandidateFullStackView.prototype.updateLoadingMessage=function(agent_url){return $.ajax({url:"//"+agent_url+"/v2/status",type:"GET",success:function(r){var completed,total;if(null!=r.w)return r.status&&r.status.length>0?(total=r.status.length,completed=_.filter(r.status,function(t){return 1===t[1]}).count||0,_.filter(r.status,function(t){return 1===t[1]&&!0===t[2]
}).count?codekitApp.loading.update("Setup error","Looks like there was an error setting up content. Please reach out to HackerRank support."):completed!==total?codekitApp.loading.update("Setting up questions ("+completed+"/"+total+")",""):codekitApp.loading.update("All setup, initialising editor","")):this.codekitLate?codekitApp.loading.update("Setting up question contents on server",'<i class="fa fa-exclamation-triangle mmR"></i>Connecting to the virtual server is taking longer than expected.<br>Please try to refresh the page, and if the issue still persists, reach out to us via live support for troubleshooting.'):codekitApp.loading.update("Setting up question contents on server")},error:(_this=this,function(){if(console.log("error",_this.codekitLate),_this.codekitLate)return codekitApp.loading.update("Provisioning server",'<i class="fa fa-exclamation-triangle mmR"></i>Connecting to the virtual server is taking longer than expected.<br>Please try to refresh the page, and if the issue still persists, reach out to us via live support for troubleshooting.')})});var _this},RecruitCandidateFullStackView.prototype.modeSwitchAndRender=function(){var dockerInfo,_this;return!0===(dockerInfo=HR.candidate.candidateAttemptModel.get("docker_info")[this.question.unique_id]).mode_switch?$.get("https://"+dockerInfo.domain+"/rpc/configs/current",(_this=this,function(info,success){return"success"===success&&info.data.current_config.id===_this.question.unique_id?_this.renderEditor():$.get("https://"+dockerInfo.domain+"/rpc/configs/switch?config_id="+_this.question.unique_id,function(i,s){return"success"===s?_this.renderEditor():HR.util.candidatemsg("Unable to switch mode on server.",!1,!0,30)})})).error(function(_this){return function(){return HR.util.candidatemsg("Unable to reach server, retrying...",!1,!0,3),setTimeout(function(){return _this.modeSwitchAndRender()},3e3)}}(this)):this.renderEditor()},RecruitCandidateFullStackView.prototype.renderEditor=function(){var dockerInfo,_this;return dockerInfo=HR.candidate.candidateAttemptModel.get("docker_info")[this.question.unique_id],require(["/CodeKit/client/build/static/application.js"],(_this=this,function(){var opts;return opts={mainDiv:"ck",addonsPath:"/CodeKit/addons",url:"https://"+dockerInfo.domain,runPath:null!=dockerInfo.hasServer?"https://"+dockerInfo.domain.replace("2999","8000"):null,email:HR.candidate.candidateAttemptModel.get("id"),files:dockerInfo.defaultFiles||[],hasServer:!!dockerInfo.hasServer,questionTitle:_this.question.name,question:_this.question.question,track:function(){return _this.trackEvent(arguments)},configId:_this.question.unique_id,gitPath:"https://"+dockerInfo.agent+"/git"},dockerInfo.has_container_key&&(opts.key=dockerInfo.unique_id),new CodeKit(opts,function(){return _this.parent.$(".ans-submit").prop("disabled",!1),codekitApp.app.on("live_support",function(){return _this.openChatlio()}),codekitApp.app.on("dirty_view",function(state){if(!_.isUndefined(state))return window.HR.appView.dirty=!!state}),codekitApp.app.on("work_offline_open",function(){return hrClipboard({copy_button:_this.$("#ck.codekit-editor .offline-instructions-copy")[0],container:"#ck",success_message:"Copied",error_message:"Press (Ctrl / \u2318) + C to Copy",target:_this.$("#ck.codekit-editor .offline-instructions-dialog pre")[0]})}),codekitApp.app.on("cssFullScreen",function(state){return state?$("#HackerRank-main").css("overflow","hidden"):$("#HackerRank-main").css("overflow","")}),codekitApp.app.on("project_test_available",function(){return _this.runTests.removeClass("hidden")})}).then(function(){return setTimeout(function(){return codekitApp.app.on("live_support",function(){return _this.openChatlio()}),codekitApp.app.on("cssFullScreen",function(state){return state?$("#HackerRank-main").css("overflow","hidden"):$("#HackerRank-main").css("overflow","")})},1e3)},function(){return window.location.reload()})}),function(){return window.location.reload()})},RecruitCandidateFullStackView.prototype.hideTour=function(e){return e.preventDefault(),this.$(".csx-tour-banner").addClass("hidden")},RecruitCandidateFullStackView.prototype.showTour=function(){var addBackTime,ref,ref1,ref2,ref3,ref4,ref5,ref6,steps,tourEndCallback,track_data,_this;return this.$(".csx-tour-banner").addClass("hidden"),HR.candidate.candidateAttemptModel.get("docker_info")[this.question.unique_id],this.intro=introJs(),steps=[{element:"#codekit",intro:"Code your project in our online IDE.",position:"top"},{element:".cb-commands-menubar",intro:"Use the Run menu to run the server, install or test the project.",position:"right"},{element:".cb-body",intro:"Access the file tree on the left. Click on a file to edit it in the editor on the right side.",position:"top"},{element:".fa-arrows-alt",intro:"Click here to switch to full-screen mode",position:"left"},{element:".fa-terminal",intro:"Click here to open a terminal to run commands on the shell prompt.",position:"left"},{element:".run-tests",intro:"Ensure you run the tests before submitting your code.",position:"left"}],this.intro.setOptions({steps:steps,showProgress:!0,tooltipClass:"ourIntro",scrollToElement:!1,skipLabel:"Skip",exitOnOverlayClick:!0}),_this=this,addBackTime=function(){var secondsToClaim;return _this.tourPlaying=!1,window.HR.endTour=moment().unix(),(secondsToClaim=window.HR.endTour-window.HR.startTour)>90&&(secondsToClaim=90),HR.candidate.candidateAttemptModel.set("claimTourTime",secondsToClaim),HR.candidate.candidateAttemptModel.save(null,{success:function(m){return HR.candidate.candidateAttemptModel=m,HR.candidate.candidateAttemptModel.unset("claimTourTime"),HR.RecruitCandidateTopBarView.unpauseTimer()},error:function(){return HR.candidate.candidateAttemptModel.unset("claimTourTime"),HR.router.navigate(HR.candidate.candidateTestModel.get("unique_id")+"/redirect",{trigger:!0,replace:!0})}}),track_data.duration=secondsToClaim,HR.util.candidateTrack("Click","CandidateEndTour",track_data)},this.tourPlaying=!0,this.tourTimer=setTimeout(function(_this){return function(){return _this.intro.exit(),HR.util.candidatemsg("Maximum allotted pause time has been spent on the tour.",!1,!0,7),addBackTime()}}(this),9e4),window.HR.startTour=moment().unix(),$.jStorage.get("fullstack-tour-"+this.aid)||HR.RecruitCandidateTopBarView.pauseTimer(),track_data={test_id:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,question_id:null!=(ref2=HR.candidate)?ref2.currentQuestion:void 0,company_id:(null!=(ref3=HR.candidate)&&null!=(ref4=ref3.candidateTestModel)?ref4.get("company_id"):void 0)||null,job_id:(null!=(ref5=HR.candidate)&&null!=(ref6=ref5.candidateAttemptModel)?ref6.get("job_id"):void 0)||null},HR.util.candidateTrack("Click","CandidateStartTour",track_data),tourEndCallback=function(_this){return function(){return addBackTime(),null!=_this.tourTimer&&clearTimeout(_this.tourTimer),$.jStorage.set("fullstack-tour-"+_this.aid,!0)}}(this),this.intro.onexit(tourEndCallback),this.intro.oncomplete(tourEndCallback),this.intro.start(),setTimeout(function(){return $(".introjs-overlay").css("display","block")})},RecruitCandidateFullStackView.prototype.saveAllTabs=function(){if(window.HR.appView.dirty=!1,"undefined"!=typeof codekitApp&&null!==codekitApp?codekitApp.app:void 0)return codekitApp.app.trigger("save_all_tabs")},RecruitCandidateFullStackView.prototype.initChatlio=function(){if(!window.HR.fullstackSupport)return window.HR.fullstackSupport=!0,document.addEventListener("chatlio.ready",function(){return _chatlio.reset()},{once:!0}),document.addEventListener("chatlio.collapsed",function(){return _chatlio.hide()}),document.addEventListener("chatlio.messageReceived",function(){return _chatlio.show({expanded:!0})}),$("<script>").html('try {\n  window._chatlio = window._chatlio||[];\n  !function(){ var t=document.getElementById("chatlio-widget-embed");if(t&&window.ChatlioReact&&_chatlio.init)return void _chatlio.init(t,ChatlioReact);for(var e=function(t){return function(){_chatlio.push([t].concat(arguments)) }},i=["configure","identify","track","show","hide","isShown","isOnline"],a=0;a<i.length;a++)_chatlio[i[a]]||(_chatlio[i[a]]=e(i[a]));var n=document.createElement("script"),c=document.getElementsByTagName("script")[0];n.id="chatlio-widget-embed",n.src="https://w.chatlio.com/w.chatlio-widget.js",n.async=!0,n.setAttribute("data-embed-version","2.1");\n    n.setAttribute(\'data-widget-id\',\'b84add37-760a-46fe-4645-1149d76f8591\');\n    n.setAttribute(\'data-widget-options\', \'{"skipRequireLoad":true}\');\n    n.setAttribute(\'data-start-hidden\', true);\n    c.parentNode.insertBefore(n,c);\n  }();\n} catch (e) {}')},RecruitCandidateFullStackView.prototype.trackEvent=function(event){var attributeCounter,attributes,event_value,metadata,name,ref,ref1,ref2,ref3,subject;if(!_.isUndefined(event)&&(event=[].slice.call(event),!_.isEmpty(event)&&(name=event.shift(),attributes={},attributeCounter=2,this.containerUniqueId||(this.containerUniqueId=null!=(ref=HR.candidate.candidateAttemptModel.get("docker_info"))&&null!=(ref1=ref[this.question.unique_id])?ref1.unique_id:void 0),this.containerUniqueToken||(this.containerUniqueToken=null!=(ref2=HR.candidate.candidateAttemptModel.get("docker_info"))&&null!=(ref3=ref2[this.question.unique_id])?ref3.unique_token:void 0),event_value=null,subject=null,metadata={},_.each(event,function(attribute){return _.isArray(attribute)?metadata.data=attribute:"string"==typeof attribute?(attributes["attribute"+attributeCounter]=attribute,2===attributeCounter?event_value=attribute:3===attributeCounter?subject=attribute:metadata["attribute"+(attributeCounter-2)]=attribute,attributeCounter+=1):_.isObject(attribute)?(attributes.metadata=attribute,_.extend(metadata,attribute)):void 0}),this.containerUniqueId&&this.containerUniqueToken)))return $.post("/full_stack/logs/"+this.containerUniqueId+"/"+this.containerUniqueToken,{source:"CandidateFrontEnd",event_key:name,event_value:event_value,subject:subject,metadata:metadata})},RecruitCandidateFullStackView.prototype.openChatlio=function(e){var data,testData;if(e&&e.preventDefault(),!_.isUndefined(_chatlio))return data=HR.candidate.candidateAttemptModel.toJSON(),testData=HR.candidate.candidateTestModel.toJSON(),_chatlio.identify(data.id,{name:data.full_name||"Candidate",email:data.email,docker_info:JSON.stringify(data.docker_info||null),time_left:data.time_left,company_name:testData.company_name,current_question:HR.candidate.currentQuestion,duration:testData.duration,test_name:testData.name,test_unique_id:testData.unique_id,questions_count:testData.questions_count,questions_list:JSON.stringify(testData.questions_list||null),attempt_id:data.id,mixpanel_token:$.cookie("hackerrank_mixpanel_token")||null}),_chatlio.show({expanded:!0})},RecruitCandidateFullStackView.prototype.showError=function(error){return HR.candidate.ctview.setStatus(error)},RecruitCandidateFullStackView.prototype.answer=function(){return{status:!0}},RecruitCandidateFullStackView.prototype.set_answer=function(){},RecruitCandidateFullStackView.prototype.checkCopyPaste=function(change){var added_text;if(this.setDefaultText&&(added_text=change.text.join(""))!==this.lastAddedText)return this.lastAddedText=added_text,"paste"===change.origin&&added_text.length>100?HR.candidate.testEvents.add({action:"paste",eid:9,qid:this.question.unique_id,insertTime:new Date}):void 0},RecruitCandidateFullStackView}(HR.RecruitCandidateMultipleFileView),RecruitCandidateFullStackCheView=function(){function RecruitCandidateFullStackCheView(){return this.runTestFinished=bind(this.runTestFinished,this),this.showGitAlert=bind(this.showGitAlert,this),this.showWsagentAlert=bind(this.showWsagentAlert,this),this.renderChe=bind(this.renderChe,this),RecruitCandidateFullStackCheView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateFullStackCheView,RecruitCandidateFullStackView),RecruitCandidateFullStackCheView.prototype.template="recruit/che-project",RecruitCandidateFullStackCheView.prototype.initialize=function(options){return RecruitCandidateFullStackCheView.__super__.initialize.call(this,options)},RecruitCandidateFullStackCheView.prototype.events=function(){return _.extend({},RecruitCandidateFullStackView.prototype.events,{"click #che-fullscreen-button":"fullScreen","click #che-smallscreen-button":"smallScreen","click #che-show-question-button":"showQuestionModal","click #reset-project-button":"resetProject","click #view-ide-tutorial":"showIDETutorial","click #close-wsagent-down-alert":"closeWsAgentAndGitAlert"})},RecruitCandidateFullStackCheView.prototype._render=function(){var commands,dockerInfo,question_id,ref,ref1;return $(this.el).html(HR.appController.template(this.template,this)({question:this.question})),this.parent.$(".ans-submit").text("Submit code & continue").addClass("pull-right").prop("disabled",!0),question_id=this.question.unique_id,commands=HR.candidate.candidateAttemptModel.get("docker_info")[question_id].commands,window.showGitAlert=this.showGitAlert,window.showWsagentAlert=this.showWsagentAlert,commands.hasOwnProperty("test")&&commands.test.command&&this.$(".run-tests").removeClass("hidden"),(null!=(ref=HR.candidate.candidateAttemptModel.get("docker_info"))&&null!=(ref1=ref[this.question.unique_id])?ref1.available:void 0)?(question_id=this.question.unique_id,dockerInfo=HR.candidate.candidateAttemptModel.get("docker_info")[question_id],void this.renderChe(dockerInfo,question_id)):this},RecruitCandidateFullStackCheView.prototype.modeSwitchAndRender=function(){var data,dockerInfo,question_id,_this;return question_id=this.question.unique_id,!0===(dockerInfo=HR.candidate.candidateAttemptModel.get("docker_info")[question_id]).mode_switch?(this.clearKeycloakLogin(dockerInfo),data={url:dockerInfo.ws_agent_url,question_id:this.question.unique_id,project_type:dockerInfo.che_project_type},$.ajax({type:"POST",url:"https://"+dockerInfo.agent+"/v2/switch/",data:data,dataType:"json",success:(_this=this,function(){return _this.$("#server-unreachable-div").addClass("hidden"),_this.renderChe(dockerInfo,question_id),data={question_id:_this.question.unique_id,exec_url:dockerInfo.exec_agent_url,command_type:"install"},$.ajax({type:"POST",url:"https://"+dockerInfo.agent+"/v2/exec",data:data,dataType:"json"})}),error:function(_this){return function(){var ref,ref1,ref2,ref3,track_data;return _this.$("#server-unreachable-div").removeClass("hidden"),_this.$(".che-editor-controls").addClass("hidden"),track_data={test_id:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,question_id:_this.question.unique_id,company_id:(null!=(ref2=HR.candidate)&&null!=(ref3=ref2.candidateTestModel)?ref3.get("company_id"):void 0)||null,attribute1:dockerInfo.docker_id,attribute2:dockerInfo.che_url},HR.util.candidateTrack("show","WorkspaceUnreachableMessage",track_data),setTimeout(function(){return _this.modeSwitchAndRender()},1e4)}}(this)})):(this.clearKeycloakLogin(dockerInfo),this.renderChe(dockerInfo,question_id))},RecruitCandidateFullStackCheView.prototype.initializeCheAuth=function(dockerInfo){var cookieDomain;return cookieDomain="."+window.location.hostname.split(".").slice(-2).join(".")+";",require([dockerInfo.keycloak_url+"/auth/js/keycloak.js"],function(){var keycloak;return keycloak=Keycloak({url:dockerInfo.keycloak_url+"/auth",realm:"che",clientId:"che-public"}),access_token=dockerInfo.user_credentials.access_token,refresh_token=dockerInfo.user_credentials.refresh_token,keycloak.init({onLoad:"login-required",checkLoginIframe:!1,flow:"implicit",token:access_token,refreshToken:refresh_token}).success(function(authenticated){return authenticated?($.cookie("keycloak_active_user",dockerInfo.docker_id,{path:"/"}),$.cookie("KEYCLOAK_IDENTITY",access_token,{expires:10,path:"/auth/realms/che",domain:cookieDomain}),console.log("Keycloak authenticated successfully!")):console.log("Keycloak authentication failed.")}).error(function(){return console.log("Failed to initialize Keycloak.")});var access_token,refresh_token})},RecruitCandidateFullStackCheView.prototype.clearKeycloakLogin=function(dockerInfo){var attempt_id,context,keycloak_user_name,_this;return attempt_id=HR.candidate.candidateAttemptModel.get("id"),keycloak_user_name=$.cookie("keycloak_active_user"),context=dockerInfo.context,keycloak_user_name&&keycloak_user_name!==dockerInfo.docker_id?$.ajax({type:"DELETE",url:"/recruit/attempts/"+attempt_id+"/clear_keycloak_session/"+keycloak_user_name+"/"+context,success:(_this=this,function(){return console.log("Keycloak session cleared."),$.removeCookie("keycloak_active_user",{path:"/"}),_this.initializeCheAuth(dockerInfo)}),error:function(_this){return function(){return console.log("Failed to clear Keycloak session."),_this.initializeCheAuth(dockerInfo)}}(this)}):this.initializeCheAuth(dockerInfo)},RecruitCandidateFullStackCheView.prototype.renderChe=function(dockerInfo){var _this;return this.renderGitBox(dockerInfo),this.$("#che-ide").attr("src",dockerInfo.che_url),dockerInfo.has_git&&(this.$("#git-toggle-work-offline").removeClass("hidden"),this.$(".ide-tutorial-div").addClass("vertical-line"),this.$(".ide-tutorial-div").addClass("plL"),this.$(".ide-tutorial-parent-div").removeClass("pmL"),this.$(".ide-tutorial-parent-div").addClass("psL")),this.parent.$(".ans-submit").prop("disabled",!1),setTimeout((_this=this,function(){return _this.$("#che-ide").attr("src",dockerInfo.che_url),_this.$("#che-ide").removeClass("hidden")}),2e3),setTimeout(function(_this){return function(){return _this.$(".che-editor-controls").removeClass("hidden")}}(this),1e4)},RecruitCandidateFullStackCheView.prototype.renderGitBox=function(dockerInfo){var folderName,ref,ref1,ref2,ref3,ref4,ref5;if(folderName=this.question.name?(folderName=(folderName=this.question.name.toLowerCase().slice(0,40).trim().split(" ").join("-")).replace(/[^\w]/gi,"-"))+"-"+dockerInfo.question_unique_id:"",this.$("#git-instructions").text("git clone https://"+dockerInfo.agent+"/git-"+dockerInfo.unique_id+"/"+dockerInfo.question_unique_id+" "+folderName),(null!=dockerInfo&&null!=(ref=dockerInfo.commands)&&null!=(ref1=ref.run)?ref1.command:void 0)&&(this.$("#git-command-run").text(dockerInfo.commands.run.command),this.$("#git-command-run-div").removeClass("hidden")),(null!=dockerInfo&&null!=(ref2=dockerInfo.commands)&&null!=(ref3=ref2.install)?ref3.command:void 0)&&(this.$("#git-command-install").text(dockerInfo.commands.install.command),this.$("#git-command-install-div").removeClass("hidden")),null!=dockerInfo&&null!=(ref4=dockerInfo.commands)&&null!=(ref5=ref4.test)?ref5.command:void 0)return this.$("#git-command-test").text(dockerInfo.commands.test.command),this.$("#git-command-test-div").removeClass("hidden")},RecruitCandidateFullStackCheView.prototype.configureIDE=function(dockerInfo,question_id){return dockerInfo.defaultFiles,$.ajax({url:dockerInfo.ws_agent_url+"/app/state?userId="+dockerInfo.che_user_id+"&token="+dockerInfo.runtime_token,type:"GET",success:(_this=this,function(r){var app_state,ref;if(null==(null!=r&&null!=(ref=r.editor)?ref.ACTIVE_EDITOR:void 0)&&dockerInfo.defaultFiles.length>0)return app_state=_this.buildAppState(dockerInfo,question_id,r),$.ajax({url:dockerInfo.ws_agent_url+"/app/state/update?userId="+dockerInfo.che_user_id+"&token="+dockerInfo.runtime_token,type:"POST",data:JSON.stringify(app_state||null),dataType:"json",contentType:"application/json",error:function(e){return console.log(e)}})}),error:function(e){return console.log(e)}});var _this},RecruitCandidateFullStackCheView.prototype.buildAppState=function(dockerInfo,question_id,r){var app_state,base,base1,base2,base3,file,j,len,ref;for(null==(app_state=r)&&(app_state={}),null==app_state.editor&&(app_state.editor={}),null==app_state.projectExplorer&&(app_state.projectExplorer={}),null==(base=app_state.projectExplorer).revealPath&&(base.revealPath=[]),null==(base1=app_state.editor).FILES&&(base1.FILES={}),null==(base2=app_state.editor.FILES).FILES&&(base2.FILES=[]),j=0,len=(ref=dockerInfo.defaultFiles).length;j<len;j++)file=ref[j],app_state.editor.FILES.FILES.push({PATH:"/challenge-"+question_id+"/project/"+file}),app_state.projectExplorer.revealPath.push("/challenge-"+question_id+"/project/"+file);return app_state.editor.FILES.FILES[0].ACTIVE=!0,null==(base3=app_state.editor).ACTIVE_EDITOR&&(base3.ACTIVE_EDITOR=app_state.editor.FILES.FILES[0].PATH),null==app_state.workspace&&(app_state.workspace={perspectives:{"Project Perspective":{PART_STACKS:{INFORMATION:{STATE:"HIDDEN",HIDDEN:!0}},TOOLING:{STATE:"HIDDEN",HIDDEN:!0}}}}),app_state},RecruitCandidateFullStackCheView.prototype.showIDETutorial=function(){var addBackTime,ref,ref1,ref2,ref3,ref4,ref5,ref6,track_data,videoURL,_this;return!0!==$.jStorage.get("fullstack-tour-"+this.aid)&&HR.RecruitCandidateTopBarView.pauseTimer(),$.jStorage.set("fullstack-tour-"+this.aid,!0),videoURL="https://www.youtube.com/embed/UsT2AoI0EWk?autoplay=1&rel=0",this.$("#video-iframe").attr("src",videoURL),_this=this,addBackTime=function(){var secondsToClaim;return _this.tourPlaying=!1,window.HR.endTour=moment().unix(),(secondsToClaim=window.HR.endTour-window.HR.startTour)>90&&(secondsToClaim=90),HR.candidate.candidateAttemptModel.set("claimTourTime",secondsToClaim),HR.candidate.candidateAttemptModel.save(null,{success:function(m){return HR.candidate.candidateAttemptModel=m,HR.candidate.candidateAttemptModel.unset("claimTourTime"),HR.RecruitCandidateTopBarView.unpauseTimer()},error:function(){return HR.candidate.candidateAttemptModel.unset("claimTourTime"),HR.router.navigate(HR.candidate.candidateTestModel.get("unique_id")+"/redirect",{trigger:!0,replace:!0})}}),track_data.duration=secondsToClaim,HR.util.candidateTrack("Click","CandidateEndTour",track_data)},this.tourPlaying=!0,this.tourTimer=setTimeout(function(){return HR.util.candidatemsg("Maximum allotted pause time has been spent on the tour.",!1,!0,7),addBackTime()},9e4),window.HR.startTour=moment().unix(),$.jStorage.get("fullstack-tour-"+this.aid),track_data={test_id:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,question_id:null!=(ref2=HR.candidate)?ref2.currentQuestion:void 0,company_id:(null!=(ref3=HR.candidate)&&null!=(ref4=ref3.candidateTestModel)?ref4.get("company_id"):void 0)||null,job_id:(null!=(ref5=HR.candidate)&&null!=(ref6=ref5.candidateAttemptModel)?ref6.get("job_id"):void 0)||null},HR.util.candidateTrack("Click","CandidateStartTour",track_data),function(_this){return function(){return addBackTime(),null!=_this.tourTimer&&clearTimeout(_this.tourTimer),$.jStorage.set("fullstack-tour-"+_this.aid,!0)}}(this)},RecruitCandidateFullStackCheView.prototype.closeIDE=function(){return this.$("#video-iframe").attr("src","")},RecruitCandidateFullStackCheView.prototype.switchIDE=function(){return this.$(".switch-input").is(":checked")?(this.$(".work-offline").css("color","white"),this.$(".online-ide").css("color","#7e8897"),this.$("#che-git-instructions").removeClass("hidden"),this.$("#reset-project-button").addClass("hidden"),this.$("#che-fullscreen-button").addClass("hidden"),this.$("#view-ide-tutorial").addClass("hidden"),this.$(".vertical-line").addClass("hidden")):(this.$(".online-ide").css("color","white"),this.$(".work-offline").css("color","#7e8897"),this.$("#che-git-instructions").addClass("hidden"),this.$("#reset-project-button").removeClass("hidden"),this.$("#che-fullscreen-button").removeClass("hidden"),this.$("#view-ide-tutorial").removeClass("hidden"),this.$(".vertical-line").removeClass("hidden"))},RecruitCandidateFullStackCheView.prototype.showWsagentAlert=function(){var wsagentAlertTimestamp,wsagentAlertTimestampString;return(wsagentAlertTimestamp=$.jStorage.get("wsagentAlertTimestamp"))&&(wsagentAlertTimestampString=new Date(wsagentAlertTimestamp).toLocaleString(),this.$(".wsagent-down-alert-timestamp").each(function(){return $(this).text(wsagentAlertTimestampString)})),this.$("#wsagent-down-alert-1").removeClass("hidden"),this.$("#wsagent-down-alert-2").removeClass("hidden"),this.$("#wsagent-down-alert-3").removeClass("hidden")},RecruitCandidateFullStackCheView.prototype.showGitAlert=function(dockerInfo){var gitAlertTimestamp,gitAlertTimestampString,wsagentAlertTimestamp,wsagentAlertTimestampString,_this;return this.$("#wsagent-down-alert-command").text("git remote set-url origin https://"+dockerInfo.agent+"/git-"+dockerInfo.unique_id+"/"+dockerInfo.question_unique_id),(wsagentAlertTimestamp=$.jStorage.get("wsagentAlertTimestamp"))&&(wsagentAlertTimestampString=new Date(wsagentAlertTimestamp).toLocaleString(),this.$(".wsagent-down-alert-timestamp").each(function(){return $(this).text(wsagentAlertTimestampString)})),(gitAlertTimestamp=$.jStorage.get("gitAlertTimestamp"))&&(gitAlertTimestampString=new Date(gitAlertTimestamp).toLocaleString(),this.$(".git-changed-alert-timestamp").each(function(){return $(this).text(gitAlertTimestampString)})),this.$("#wsagent-down-alert-1").removeClass("hidden"),this.$("#wsagent-down-alert-2").removeClass("hidden"),this.$("#wsagent-down-alert-3").removeClass("hidden"),this.$("#wsagent-down-alert-4").removeClass("hidden"),this.$("#wsagent-down-alert-5").removeClass("hidden"),setTimeout((_this=this,function(){return _this.$("#close-wsagent-down-alert").removeClass("hidden")}),1e4),this.renderGitBox(dockerInfo)},RecruitCandidateFullStackCheView.prototype.closeWsAgentAndGitAlert=function(){var dockerInfo,gitAlertsClosed,question_id;return this.$("#wsagent-down-alert-1").addClass("hidden"),this.$("#wsagent-down-alert-2").addClass("hidden"),this.$("#wsagent-down-alert-3").addClass("hidden"),this.$("#wsagent-down-alert-4").addClass("hidden"),this.$("#wsagent-down-alert-5").addClass("hidden"),this.$("#close-wsagent-down-alert").addClass("hidden"),$.jStorage.deleteKey("wsagentAlertTimestamp"),$.jStorage.deleteKey("gitAlertTimestamp"),question_id=this.question.unique_id,dockerInfo=HR.candidate.candidateAttemptModel.get("docker_info")[question_id],(gitAlertsClosed=$.jStorage.get("git-alert-seen"))||(gitAlertsClosed={}),gitAlertsClosed[dockerInfo.agent.split("-")[0]]=!0,$.jStorage.set("git-alert-seen",gitAlertsClosed)},RecruitCandidateFullStackCheView.prototype.fullScreen=function(){return this.$("#che-smallscreen-button").removeClass("hidden"),this.$("#che-show-question-button").removeClass("hidden"),this.$("#ck-container iframe").addClass("fullscreen"),$("#page-header > div > div.span3 > span").addClass("hidden")},RecruitCandidateFullStackCheView.prototype.smallScreen=function(){return this.$("#che-smallscreen-button").addClass("hidden"),this.$("#che-show-question-button").addClass("hidden"),this.$("#che-fullscreen-question").modal("hide"),this.$("#ck-container iframe").removeClass("fullscreen"),$("#page-header > div > div.span3 > span").removeClass("hidden")},RecruitCandidateFullStackCheView.prototype.showQuestionModal=function(){return this.$("#che-fullscreen-question-title").text(this.question.name),this.$("#che-fullscreen-question-body").html(this.question.question),this.$("#che-fullscreen-question").modal("show")},RecruitCandidateFullStackCheView.prototype.resetProject=function(){return HR.util.confirm({title:"Reset Project",message:"Reset code to the initial state as provided in the question?",okButtonText:"Reset",cancelButtonText:"Cancel",okCallback:(_this=this,function(){var data,dockerInfo;return _this.$("#reset-project-status-loading").removeClass("hidden"),_this.$("#reset-project-button").addClass("active"),dockerInfo=HR.candidate.candidateAttemptModel.get("docker_info")[_this.question.unique_id],data={question_id:_this.question.unique_id},$.ajax({type:"POST",url:"https://"+dockerInfo.agent+"/v2/reset/",data:data,dataType:"json",success:function(){return _this.$("#reset-project-status-loading").addClass("hidden"),_this.$("#reset-project-status-ok").removeClass("hidden"),setTimeout(function(){return _this.$("#reset-project-status-ok").addClass("hidden")},2e3)},error:function(){return _this.$("#reset-project-status-loading").addClass("hidden"),_this.$("#reset-project-status-error").removeClass("hidden"),setTimeout(function(){return _this.$("#reset-project-status-error").addClass("hidden")},2e3)}})})});var _this},RecruitCandidateFullStackCheView.prototype.runTests=function(){var data,dockerInfo,question_id,_this;return this.$(".run-tests").prop("disabled",!0),this.$("#che-runstatus").removeClass("hidden"),this.$("#che-runstatus").html("<p class='status'> Status: Processing... </p>"),this.$("#che-runstatus").append("<pre class='logs hidden'></pre>"),this.$("#che-runstatus").scrollintoview(),data={question_id:question_id=this.question.unique_id,exec_url:(dockerInfo=HR.candidate.candidateAttemptModel.get("docker_info")[question_id]).exec_agent_url,command_type:"test"},$.ajax({type:"POST",url:"https://"+dockerInfo.agent+"/v2/exec",data:data,dataType:"json",success:(_this=this,function(res){var alive,pid;return pid=res.pid,alive=res.alive,_this.runTestFinished(pid,alive)}),error:function(_this){return function(){return _this.$(".run-tests").prop("disabled",!1),_this.$("#che-runstatus").html("<p class='status error'>Status: Could not run tests as server is unreachable, or this session has closed.</p>")}}(this)})},RecruitCandidateFullStackCheView.prototype.runTestFinished=function(pid,alive,fromTime){var dockerInfo,question_id,_this;return null==fromTime&&(fromTime=null),question_id=this.question.unique_id,dockerInfo=HR.candidate.candidateAttemptModel.get("docker_info")[question_id],alive?$.ajax({type:"GET",url:"https://"+dockerInfo.agent+"/v2/exec/"+pid,success:(_this=this,function(res){var logsUrl;return alive=res.alive,logsUrl=fromTime?"https://"+dockerInfo.agent+"/v2/exec/"+pid+"/logs?from="+fromTime:"https://"+dockerInfo.agent+"/v2/exec/"+pid+"/logs",$.ajax({type:"GET",url:logsUrl,success:function(res){var j,len,str,value;for(str="",j=0,len=res.length;j<len;j++)value=res[j],fromTime&&fromTime===value.time||(1===value.kind?str+="<span class='error'>"+value.text+"</span><br/>":str+="<span>"+value.text+"</span><br/>");if(""!==str&&(_this.$(".logs").removeClass("hidden"),_this.$(".logs").append(str),_this.$(".logs").scrollTop(_this.$(".logs").prop("scrollHeight"))),res.length>0)return fromTime=res[res.length-1].time},error:function(){return this.$(".run-tests").prop("disabled",!1),this.$("#che-runstatus").html("<p class='status error'>Status: Could not run tests as server is unreachable, or this session has closed.</p>")}}),_this.runTestTimer&&clearTimeout(_this.runTestTimer),_this.runTestTimer=setTimeout(function(){return _this.runTestFinished(pid,alive,fromTime)},2e3)}),error:function(_this){return function(){return _this.$(".run-tests").prop("disabled",!1),_this.$("#che-runstatus").html("<p class='status error'>Status: Could not run tests as server is unreachable, or this session has closed.</p>")}}(this)}):$.ajax({type:"GET",url:"https://"+dockerInfo.agent+"/v2/exec/"+pid+"/logs",success:function(_this){return function(res){var j,len,str,value;for(str="",j=0,len=res.length;j<len;j++)1===(value=res[j]).kind?str+="<span class='error'>"+value.text+"</span><br/>":str+="<span>"+value.text+"</span><br/>";return _this.$("#che-runstatus").html("<p class='status'>Status: Completed</p>"),_this.$("#che-runstatus").append("<pre class='logs'>"+str+"</pre>"),_this.$(".logs").scrollTop(_this.$(".logs").prop("scrollHeight")),_this.$(".run-tests").prop("disabled",!1)}}(this),error:function(){return this.$(".run-tests").prop("disabled",!1),this.$("#che-runstatus").html("<p class='status error'>Status: Could not run tests as server is unreachable, or this session has closed.</p>")}})},RecruitCandidateFullStackCheView.prototype.scrollListener=function(){if($("#che-smallscreen-button").hasClass("hidden"))return window.scrollY<this.$(".challenge-text").height()-470?this.$("#che-ide").addClass("hidden"):this.$("#che-ide").removeClass("hidden")},RecruitCandidateFullStackCheView.prototype.pollCheIDELoad=function(){return setTimeout((_this=this,function(){if(!(document.getElementById("che-ide").contentWindow.length>0))return _this.pollCheIDELoad();_this.$("#che-ide").addClass("hidden"),window.addEventListener("scroll",_this.scrollListener)}),100);var _this},RecruitCandidateFullStackCheView}(),RecruitCandidateRbaView=function(){function RecruitCandidateRbaView(){return this.runTests=bind(this.runTests,this),this.saveCode=bind(this.saveCode,this),this.updateCode=bind(this.updateCode,this),this.renderChe=bind(this.renderChe,this),RecruitCandidateRbaView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateRbaView,RecruitCandidateFullStackCheView),RecruitCandidateRbaView.prototype.template="recruit/rba-project",RecruitCandidateRbaView.prototype.initialize=function(options){return RecruitCandidateRbaView.__super__.initialize.call(this,options)
},RecruitCandidateRbaView.prototype.events=function(){return _.extend({},RecruitCandidateFullStackView.prototype.events,{"click #copy-git-clone-url":"showCopyCommandTooltip"})},RecruitCandidateRbaView.prototype._render=function(){var commands,question_id,ref,ref1;return $(this.el).html(HR.appController.template(this.template,this)({question:this.question,test_id:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0})),this.clearGitLogIntervals(),this.parent.$(".ans-submit").text("Submit code & continue").addClass("pull-right").prop("disabled",!0),question_id=this.question.unique_id,(commands=HR.candidate.candidateAttemptModel.get("docker_info")[question_id].commands).hasOwnProperty("test")&&commands.test.command&&this.$(".run-tests").removeClass("hidden"),this.initializeGitUX(),this},RecruitCandidateRbaView.prototype.initializeGitUX=function(){var dockerInfo,key,questionUniqueId;return key=HR.candidate.candidateAttemptModel.get("id")+this.question.unique_id+"-offline-mode",sessionStorage.setItem(key,!0),this.createNewGitLogInterval(),questionUniqueId=this.question.unique_id,dockerInfo=HR.candidate.candidateAttemptModel.get("docker_info")[questionUniqueId],this.renderChe(dockerInfo,questionUniqueId)},RecruitCandidateRbaView.prototype.renderChe=function(dockerInfo){return this.renderGitBox(dockerInfo),this.parent.$(".ans-submit").prop("disabled",!1),setTimeout((_this=this,function(){return _this.renderOffline()}),500);var _this},RecruitCandidateRbaView.prototype.renderOffline=function(){var key;return key=HR.candidate.candidateAttemptModel.get("id")+this.question.unique_id+"-offline-mode",!1===this.dockerInfo().has_git||null!==sessionStorage.getItem(key)?(this.$(".ide-div").removeClass("hidden"),this.$("#che-git-instructions").removeClass("hidden"),HR.candidate.candidateAttemptModel.save()):(this.$(".ide-div").addClass("hidden"),this.$("#che-git-instructions").addClass("hidden"))},RecruitCandidateRbaView.prototype.createNewGitLogInterval=function(){if(!this.gitLogInterval)return this.gitLogInterval=setInterval((_this=this,function(){return _this.updateGitLog()}),1e4),this.saveGitLogIntervals(this.gitLogInterval);var _this},RecruitCandidateRbaView.prototype.clearCurrentGitLogInterval=function(){if(this.gitLogInterval)return clearInterval(this.gitLogInterval),this.clearGitLogIntervals(this.gitLogInterval),this.gitLogInterval=0},RecruitCandidateRbaView.prototype.saveGitLogIntervals=function(intervalId){var allIntervals,intervals_json,new_intervals;return(allIntervals=sessionStorage.getItem("git-log-intervals"))?(intervals_json=JSON.parse(allIntervals)).includes(intervalId)?void 0:(new_intervals=intervals_json.concat(intervalId),sessionStorage.setItem("git-log-intervals",JSON.stringify(new_intervals))):sessionStorage.setItem("git-log-intervals",JSON.stringify([intervalId]))},RecruitCandidateRbaView.prototype.clearGitLogIntervals=function(intervalId){var allIntervals,intervals_json,new_intervals;if(allIntervals=sessionStorage.getItem("git-log-intervals"))return(intervals_json=JSON.parse(allIntervals))&&Array.isArray(intervals_json)&&(intervalId?(new_intervals=intervals_json.filter(function(interval){return interval!==intervalId}),sessionStorage.setItem("git-log-intervals",new_intervals)):intervals_json.map(function(interval){if(interval)return clearInterval(parseInt(interval))})),sessionStorage.removeItem("git-log-intervals")},RecruitCandidateRbaView.prototype.dockerInfo=function(){var questionId;return questionId=this.question.unique_id,HR.candidate.candidateAttemptModel.get("docker_info")[questionId]},RecruitCandidateRbaView.prototype.isOffline=function(){return this.dockerInfo().is_offline},RecruitCandidateRbaView.prototype.updateGitLog=function(){return $.ajax({url:this.dockerInfo().remote_url+"/history",type:"GET",dataType:"json",crossDomain:!0,success:(_this=this,function(jsonData){var html,i,key,oldValue,time,val;for(key=HR.candidate.candidateAttemptModel.get("id")+_this.question.unique_id,val=jsonData[0].date,html="",i=0;i<jsonData.length;)time=new Date(jsonData[i].date),html+='<p class="git-commit git-commit-padding-top ',html+='git-commit-id-color">commit',html+='<span class="git-inline-display git-commit-id"></span>',html+=jsonData[i].id+"</p>",html+='<p class="git-commit">Author:',html+='<span class="git-inline-display ',html+='git-commit-author"></span>',html+=jsonData[i].author+"</p>",html+='<p class="git-commit">Date:',html+='<span class="git-inline-display git-commit-date"></span>',html+=time.toString()+"</p>",html+='<pre class="git-instructions-pre mdR git-commit-message">',html+=jsonData[i].message+"</pre>",i++;return _this.$("#git-log")[0].innerHTML=html,oldValue=sessionStorage.getItem(key),_this.isOffline()&&null!==oldValue&&oldValue!==val&&HR.util.candidatemsg("Git commit received!",!1,!0,10),sessionStorage.setItem(key,val)}),error:function(){return console.log("Failed to fetch commits from remote repository")}});var _this},RecruitCandidateRbaView.prototype.renderGitBox=function(dockerInfo){var folderName,key,ref,ref1,ref2,ref3,ref4,ref5;if(folderName=this.question.name?(folderName=(folderName=this.question.name.toLowerCase().slice(0,40).trim().split(" ").join("-")).replace(/[^\w]/gi,"-"))+"-"+dockerInfo.question_unique_id:"",this.$("#git-instructions").text("git clone "+dockerInfo.remote_url+" "+folderName),(null!=dockerInfo&&null!=(ref=dockerInfo.commands)&&null!=(ref1=ref.run)?ref1.command:void 0)&&(this.$("#git-command-run").text(dockerInfo.commands.run.command),this.$("#git-command-run-div").removeClass("hidden")),(null!=dockerInfo&&null!=(ref2=dockerInfo.commands)&&null!=(ref3=ref2.install)?ref3.command:void 0)&&(this.$("#git-command-install").text(dockerInfo.commands.install.command),this.$("#git-command-install-div").removeClass("hidden")),(null!=dockerInfo&&null!=(ref4=dockerInfo.commands)&&null!=(ref5=ref4.test)?ref5.command:void 0)&&(this.$("#git-command-test").text(dockerInfo.commands.test.command),this.$("#git-command-test-div").removeClass("hidden")),new Clipboard("#copy-git-clone-url"),this.updateGitLog(),key=HR.candidate.candidateAttemptModel.get("id")+this.question.unique_id+"-offline-mode","true"===sessionStorage.getItem(key)||!0===sessionStorage.getItem(key))return this.createNewGitLogInterval()},RecruitCandidateRbaView.prototype.updateCode=function(opts){var attemptId,dockerInfo,failureTitle;return attemptId=HR.candidate.candidateAttemptModel.get("id"),dockerInfo=this.dockerInfo(),failureTitle=(null!=opts?opts.errorMsg:void 0)||"Status: Could not pull code from remote.",new Promise(function(resolve,reject){return $.ajax({type:"POST",url:"/recruit/attempts/"+attemptId+"/rba_pull/"+dockerInfo.unique_id,data:{commit_message:opts.commitMessage},success:(_this=this,function(response){var failureMessage;return"0"===response.exitCode?(!0!==_this.$(".run-tests").prop("disabled")&&_this.$("#che-runstatus").addClass("hidden"),resolve(response)):(failureMessage="<code>Update code failed.</code>",response.log&&(failureMessage+="<pre>"+response.log+"</pre>"),_this.$("#che-runstatus").removeClass("hidden"),_this.$("#che-runstatus").html("<p class='status error'>"+failureTitle+"</p><p>"+failureMessage+"</p>"),_this.$("#che-runstatus").scrollintoview(),reject(response))}),error:function(_this){return function(e){var failureMessage;return failureMessage=e.responseText,_this.$("#che-runstatus").removeClass("hidden"),_this.$("#che-runstatus").html("<p class='status error'>"+failureTitle+"</p><p>"+failureMessage+"</p>"),_this.$("#che-runstatus").scrollintoview(),reject(e)}}(this)});var _this})},RecruitCandidateRbaView.prototype.saveCode=function(opts){var attemptId,dockerInfo,failureTitle;return attemptId=HR.candidate.candidateAttemptModel.get("id"),dockerInfo=this.dockerInfo(),failureTitle=(null!=opts?opts.errorMsg:void 0)||"Status: Could not save solution.",new Promise(function(resolve,reject){return $.ajax({type:"POST",url:"/recruit/attempts/"+attemptId+"/rba_push/"+dockerInfo.unique_id,data:{commit_message:opts.commitMessage},success:(_this=this,function(response){var failureMessage;return"0"===response.exitCode?(!0!==_this.$(".run-tests").prop("disabled")&&_this.$("#che-runstatus").addClass("hidden"),resolve(response)):(failureMessage="<code>Save code failed.</code>",response.log&&(failureMessage+="<pre>"+response.log+"</pre>"),_this.$("#che-runstatus").removeClass("hidden"),_this.$("#che-runstatus").html("<p class='status error'>"+failureTitle+"</p><p>"+failureMessage+"</p>"),_this.$("#che-runstatus").scrollintoview(),reject(response))}),error:function(_this){return function(e){var failureMessage;return failureMessage=e.responseText,_this.$("#che-runstatus").removeClass("hidden"),_this.$("#che-runstatus").html("<p class='status error'>"+failureTitle+"</p><p>"+failureMessage+"</p>"),_this.$("#che-runstatus").scrollintoview(),reject(e)}}(this)});var _this})},RecruitCandidateRbaView.prototype.runTests=function(){var attempt_id,dockerInfo,opts,_this;return this.$(".run-tests").prop("disabled",!0),this.$("#che-runstatus").removeClass("hidden"),this.$("#che-runstatus").html("<p class='status'>Status: Processing...</p>"),this.$("#che-runstatus").append("<pre class='logs hidden'></pre>"),this.$("#che-runstatus").scrollintoview(),attempt_id=HR.candidate.candidateAttemptModel.get("id"),dockerInfo=this.dockerInfo(),opts={commitMessage:"Auto save changes before Run Tests"},this.updateCode(opts).then((_this=this,function(){return $.ajax({type:"POST",url:"/recruit/attempts/"+attempt_id+"/rba_exec/"+dockerInfo.docker_id+"?type=test",data:{agent_endpoint:dockerInfo.agent},dataType:"json",success:function(res){var alive,pid;return pid=res.pid,alive=res.alive,_this.runTestFinished(pid,alive)},error:function(){return _this.$(".run-tests").prop("disabled",!1),_this.$("#che-runstatus").html("<p class='status error'>Status: Could not run tests as server is unreachable, or this session has closed.</p>")}})}),function(_this){return function(){return _this.$(".run-tests").prop("disabled",!1)}}(this))},RecruitCandidateRbaView.prototype.runTestFinished=function(pid){var attempt_id,dockerInfo,_this;return attempt_id=HR.candidate.candidateAttemptModel.get("id"),dockerInfo=this.dockerInfo(),this.$("#che-runstatus").removeClass("hidden"),$.ajax({type:"GET",url:"/recruit/attempts/"+attempt_id+"/rba_exec/"+dockerInfo.docker_id+"/"+pid,data:{agent_endpoint:dockerInfo.agent},success:(_this=this,function(res){var alive;if(alive=res.alive,$.ajax({type:"GET",url:"/recruit/attempts/"+attempt_id+"/rba_exec/"+dockerInfo.docker_id+"/"+pid+"/logs",data:{agent_endpoint:dockerInfo.agent},success:function(res){var j,len,str,value;for(str="",j=0,len=res.length;j<len;j++)1===(value=res[j]).kind?str+="<span class='error'>"+value.text+"</span><br/>":str+="<span>"+value.text+"</span><br/>";return alive?_this.$("#che-runstatus").html("<p class='status'>Status: Processing...</p>"):_this.$("#che-runstatus").html("<p class='status'>Status: Completed</p>"),_this.$("#che-runstatus").append("<pre class='logs'>"+str+"</pre>"),_this.$(".logs").scrollTop(_this.$(".logs").prop("scrollHeight")),_this.$(".run-tests").prop("disabled",alive)},error:function(){return this.$(".run-tests").prop("disabled",alive),this.$("#che-runstatus").html("<p class='status error'>Status: Could not run tests as server is unreachable, or this session has closed.</p>")}}),alive)return _this.runTestTimer&&clearTimeout(_this.runTestTimer),_this.runTestTimer=setTimeout(function(){return _this.runTestFinished(pid)},2e3)})})},RecruitCandidateRbaView.prototype.showCopyCommandTooltip=function(){return this.$("#copy-git-clone-url").tooltip("show"),setTimeout(function(){return window.getSelection().removeAllRanges()},500),setTimeout((_this=this,function(){return _this.$("#copy-git-clone-url").tooltip("hide")}),3e3);var _this},RecruitCandidateRbaView}(),RecruitCandidateChe7View=function(){function RecruitCandidateChe7View(){return this.runTests=bind(this.runTests,this),RecruitCandidateChe7View.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateChe7View,RecruitCandidateRbaView),RecruitCandidateChe7View.prototype.template="recruit/rba-project",RecruitCandidateChe7View.prototype.runTests=function(){var dockerInfo,opts,_this;return this.$(".run-tests").prop("disabled",!0),this.$("#che-runstatus").removeClass("hidden"),this.$("#che-runstatus").html("<p class='status'>Status: Processing...</p>"),this.$("#che-runstatus").append("<pre class='logs hidden'></pre>"),this.$("#che-runstatus").scrollintoview(),HR.candidate.candidateAttemptModel.get("id"),dockerInfo=this.dockerInfo(),opts={commitMessage:"Auto save changes before Run Tests"},this.updateCode(opts).then((_this=this,function(){return $.ajax({type:"POST",url:"/rba/workspaces/"+dockerInfo.unique_id+"/exec?type=test",dataType:"json",success:function(res){var pid;return pid=res.pid,_this.runTestFinished(pid,!0)},error:function(){return _this.$(".run-tests").prop("disabled",!1),_this.$("#che-runstatus").html("<p class='status error'>Status: Could not run tests as server is unreachable, or this session has closed.</p>")}})}),function(_this){return function(){return _this.$(".run-tests").prop("disabled",!1)}}(this))},RecruitCandidateChe7View.prototype.runTestFinished=function(pid){var dockerInfo,_this;return HR.candidate.candidateAttemptModel.get("id"),dockerInfo=this.dockerInfo(),this.$("#che-runstatus").removeClass("hidden"),$.ajax({type:"GET",url:"/rba/workspaces/"+dockerInfo.unique_id+"/exec-status?pid="+pid}).done((_this=this,function(processStatus){var alive;return alive=processStatus.alive,$.ajax({type:"GET",url:"/rba/workspaces/"+dockerInfo.unique_id+"/exec-logs?pid="+pid}).done(function(processOutput){return alive?_this.$("#che-runstatus").html("<p class='status'>Status: Processing...</p>"):_this.$("#che-runstatus").html("<p class='status'>Status: Completed</p>"),_this.$("#che-runstatus").append("<pre class='logs'>"+processOutput+"</pre>"),_this.$(".logs").scrollTop(_this.$(".logs").prop("scrollHeight")),_this.$(".run-tests").prop("disabled",alive),alive?_this.runTestTimer=setTimeout(function(){return _this.runTestFinished(pid)},2e3):_this.runTestTimer?clearTimeout(_this.runTestTimer):void 0}).fail(function(){if(_this.$(".run-tests").prop("disabled",alive),_this.$("#che-runstatus").html("<p class='status error'>Status: Could not run tests as server is unreachable, or this session has closed.</p>"),_this.runTestTimer)return clearTimeout(_this.runTestTimer)})})).fail(function(_this){return function(){if(_this.$("#che-runstatus").html("<p class='status error'>Status: Could not run tests as server is unreachable, or this session has closed.</p>"),_this.runTestTimer)return clearTimeout(_this.runTestTimer)}}(this))},RecruitCandidateChe7View}(),RecruitCandidateJupyterView=function(){function RecruitCandidateJupyterView(){return this.renderChe=bind(this.renderChe,this),RecruitCandidateJupyterView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateJupyterView,RecruitCandidateFullStackCheView),RecruitCandidateJupyterView.prototype.template="recruit/che7-project",RecruitCandidateJupyterView.prototype.initialize=function(options){return RecruitCandidateJupyterView.__super__.initialize.call(this,options)},RecruitCandidateJupyterView.prototype.events=function(){return _.extend({},RecruitCandidateFullStackView.prototype.events,{"click #che-enlarge-button":"fullScreen","click #che-smallscreen-button":"smallScreen","click #che-show-question-button":"showQuestionModal","click #reset-project-button-che7":"resetProject"})},RecruitCandidateJupyterView.prototype._render=function(){var question_id,ref,ref1,ref2,ref3;if($(this.el).html(HR.appController.template(this.template,this)({question:this.question,test_id:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0})),this.parent.$(".ans-submit").text("Submit code & continue").addClass("pull-right").prop("disabled",!0),question_id=this.question.unique_id,null==(ref2=HR.candidate.candidateAttemptModel.get("docker_info"))||null==(ref3=ref2[this.question.unique_id])||!ref3.available)return this.fetchCandidateAttemptModel(),this;this.renderChe(this.dockerInfo(),question_id)},RecruitCandidateJupyterView.prototype.dockerInfo=function(){var questionId;return questionId=this.question.unique_id,HR.candidate.candidateAttemptModel.get("docker_info")[questionId]},RecruitCandidateJupyterView.prototype.renderChe=function(dockerInfo){return this.$("#che-ide").attr("src",dockerInfo.che_url),this.parent.$(".ans-submit").prop("disabled",!1),this.$(".che7-editor-controls").removeClass("hidden"),this.$("#che-ide").removeClass("hidden")},RecruitCandidateJupyterView.prototype.fullScreen=function(){return this.$("#che-smallscreen-button").removeClass("hidden"),this.$("#che-show-question-button").removeClass("hidden"),this.$("#che7-container iframe").addClass("fullscreen"),$("#page-header > div > div.span3 > span").addClass("hidden")},RecruitCandidateJupyterView.prototype.smallScreen=function(){return this.$("#che-smallscreen-button").addClass("hidden"),this.$("#che-show-question-button").addClass("hidden"),this.$("#che-fullscreen-question").modal("hide"),this.$("#che7-container iframe").removeClass("fullscreen"),$("#page-header > div > div.span3 > span").removeClass("hidden")},RecruitCandidateJupyterView.prototype.syncCode=function(){var attempt_id,dockerInfo,failureTitle;return attempt_id=HR.candidate.candidateAttemptModel.get("id"),dockerInfo=this.dockerInfo(),failureTitle="Status: Could not save solution.",new Promise(function(resolve,reject){return $.ajax({type:"POST",url:"/recruit/attempts/"+attempt_id+"/rba_push/"+dockerInfo.unique_id,data:{},success:(_this=this,function(res){var failureMessage;return"0"===res.exitCode?(!0!==_this.$(".run-tests").prop("disabled")&&_this.$("#che-runstatus").addClass("hidden"),resolve(res)):(failureMessage="Command: <code>"+res.command+"</code> failed.",res.log&&(failureMessage+="<pre>"+res.log+"</pre>"),_this.$("#submit-ans-status-loading").addClass("hidden"),_this.$("#che-runstatus").removeClass("hidden"),_this.$("#che-runstatus").html("<p class='status error'>"+failureTitle+"</p><p>"+failureMessage+"</p>"),_this.$("#che-runstatus").scrollintoview(),reject(res))}),error:function(_this){return function(err){var failureMessage;return failureMessage=err.responseText||"",_this.$("#submit-ans-status-loading").addClass("hidden"),_this.$("#che-runstatus").removeClass("hidden"),_this.$("#che-runstatus").html("<p class='status error'>"+failureTitle+"</p><p>"+failureMessage+"</p>"),_this.$("#che-runstatus").scrollintoview(),reject(err)}}(this)});var _this})},RecruitCandidateJupyterView.prototype.resetProject=function(){return HR.util.confirm({title:"Reset Project",message:"Reset code to the initial state as provided in the question?",okButtonText:"Reset",cancelButtonText:"Cancel",okCallback:(_this=this,function(){var attempt_id,dockerInfo;return _this.$("#reset-project-status-loading").removeClass("hidden"),_this.$("#che7-reset-overlay").removeClass("hidden"),_this.$("#reset-project-button-che7").addClass("active"),attempt_id=HR.candidate.candidateAttemptModel.get("id"),dockerInfo=_this.dockerInfo(),$.ajax({type:"POST",url:"/recruit/attempts/"+attempt_id+"/rba_reset/"+dockerInfo.unique_id,data:{},dataType:"json",success:function(){return setTimeout(function(){return _this.$("#che-ide").attr("src",dockerInfo.che_url),_this.$("#reset-project-status-loading").addClass("hidden"),_this.$("#che7-reset-overlay").addClass("hidden"),_this.$("#reset-project-status-ok").removeClass("hidden"),setTimeout(function(){return _this.$("#reset-project-status-ok").addClass("hidden")},2e3)},12e3)},error:function(){return _this.$("#reset-project-status-loading").addClass("hidden"),_this.$("#che7-reset-overlay").addClass("hidden"),_this.$("#reset-project-status-error").removeClass("hidden"),setTimeout(function(){return _this.$("#reset-project-status-error").addClass("hidden")},2e3)}})})});var _this},RecruitCandidateJupyterView}(),HR.RecruitCandidateFullStackView=RecruitCandidateFullStackView,HR.RecruitCandidateFullStackCheView=RecruitCandidateFullStackCheView,HR.RecruitCandidateRbaView=RecruitCandidateRbaView,HR.RecruitCandidateChe7View=RecruitCandidateChe7View,HR.RecruitCandidateJupyterView=RecruitCandidateJupyterView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;$(function(){var HR,RecruitCandidateMultipleFileCSXView;return HR=window.HR||{},RecruitCandidateMultipleFileCSXView=function(superClass){function RecruitCandidateMultipleFileCSXView(){return RecruitCandidateMultipleFileCSXView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateMultipleFileCSXView,superClass),RecruitCandidateMultipleFileCSXView.prototype.confirmUploadFileDialog=function(e){var that;return e.preventDefault(),this.showConfirmUpload()?this.uploadFileDialog():(that=this,HR.util.confirm({title:"Upload Zip File",message:"<p>Uploading a new directory structure will replace the content of your current code Editor. Would you like to continue? </p> <p class='gray-text' style='font-size: 14px;'> <input id='confirm-upload-checkbox' type='checkbox' class='confirm-upload'> <label style='display: inline-block; font-weight: normal;' for='confirm-upload-checkbox'>Skip this alert next time</label> </p>",okButtonText:"Yes",cancelButtonText:"No",okCallback:function(dialog){return that.toggleConfirmUpload(dialog.$body().find("input.confirm-upload").is(":checked")),dialog.destroy(),that.uploadFileDialog()}}))},RecruitCandidateMultipleFileCSXView.prototype.uploadFileDialog=function(){var buttons,fields,that;return that=this,fields=[{name:"source_file",title:"Source File",type:"file"}],buttons=[{name:"Upload",callback:function(dialog){var btn,files,max_allowed_file_size,upload_url;if(max_allowed_file_size=5242880,(btn=this).unSetFailedMsg(),0!==(files=dialog.$form().find(":file")[0].files).length){if(!(files[0].size>max_allowed_file_size))return upload_url="testing"===that.aid?that.model.url()+"/upload":that.model.url()+"/upload_filetree",$.ajax({url:upload_url,type:"POST",data:{a:1},dataType:"json",iframe:!0,processData:!0,files:dialog.$form().find(":file"),success:function(response){return 200===response.status?(btn.setSuccessMsg(response.message),$.ajax({url:that.model.url(),data:{refresh_folders:!0},type:"GET",success:function(response){return that.question=response.model,that.initFileTree(),that.render(),dialog.destroy(),window.HR.appView.dirty=!0}})):btn.setFailedMsg(response.message)}});btn.setFailedMsg("File size should be < 5MB.")}else btn.setFailedMsg("Please Select a file to upload")}}],new HR.util.ShowFormDialog({title:"Upload Dialog",width:650,enctype:"multipart/form-data",fields:fields,buttons:buttons}).render()},RecruitCandidateMultipleFileCSXView.prototype.toggleConfirmUpload=function(flag){return $.cookie("code_upload_as_zip",!1===flag)},RecruitCandidateMultipleFileCSXView.prototype.showConfirmUpload=function(){return"false"===$.cookie("code_upload_as_zip")},RecruitCandidateMultipleFileCSXView.prototype.getFilesMeta=function(){var file,files,i,len,ref;for(files=[],i=0,len=(ref=this.question.file_tree).length;i<len;i++)"file"===(file=ref[i]).type&&("#"===file.id.substring(0,1)&&(file.id=file.id.substring(1)),files.push(file.id));return files},RecruitCandidateMultipleFileCSXView.prototype.getFilesFromServer=function(filePaths){var getArray,_this;return getArray=[],this.tempFileArray=[],_.each(filePaths,(_this=this,function(filePath){return getArray.push($.ajax({url:_this.model.url()+"/files",type:"POST",node_path:filePath.substring(1),data:{operation:"fetch",node_path:filePath.substring(1)},success:function(file,status){return _this.tempFileArray.push({file:file,status:status,filePath:filePath})}}))})),getArray},RecruitCandidateMultipleFileCSXView.prototype.getFileDataFromServer=function(filePath,callback,tryCount){return null==tryCount&&(tryCount=1),tryCount<5?$.ajax({url:this.model.url()+"/files",type:"POST",data:{operation:"fetch",node_path:filePath.substring(1)},success:callback,error:(_this=this,function(){return _this.getFileDataFromServer(filePath,callback,tryCount+1)})}):this.$("#csx-editor").trigger("showNotification","Unable to load file "+filePath+". Please refresh the page or contact support@hackerrank.com if problem persists");var _this},RecruitCandidateMultipleFileCSXView.prototype.saveFiles=function(files,succ_callback,err_callback,upload_url){var ajaxCalls,fileData,filePath,language,node,node_path;for(filePath in null==upload_url&&(upload_url=this.model.url()+"/files"),ajaxCalls=[],files)fileData=files[filePath],language=HR.util.hrwLang(fileData.language),node={original:{fileContents:{code:fileData.codeStubs[fileData.language].body,language:language}},type:"file"},node_path=fileData.filePath.substring(1),ajaxCalls.push($.ajax({url:upload_url,type:"POST",data:{node:node,node_path:node_path,operation:"save"}}));return $.when.apply(this,ajaxCalls).done(function(){return succ_callback.apply(arguments)},function(){if(null!=err_callback)return err_callback.apply(arguments)})},RecruitCandidateMultipleFileCSXView}(window.HR.GenericView),HR.RecruitCandidateMultipleFileCSXView=RecruitCandidateMultipleFileCSXView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;$(function(){var HR,RecruitCandidateSubjectiveCSXView;return RecruitCandidateSubjectiveCSXView=function(superClass){function RecruitCandidateSubjectiveCSXView(){return RecruitCandidateSubjectiveCSXView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateSubjectiveCSXView,superClass),RecruitCandidateSubjectiveCSXView.prototype.template='<h5 class="">ANSWER</h5>\n<div id="csx-editor" class="msT mlB"></div>',RecruitCandidateSubjectiveCSXView.prototype.className="question-subjective",RecruitCandidateSubjectiveCSXView.prototype.events={"codeChanged #csx-editor":"setDirtyView"},RecruitCandidateSubjectiveCSXView.prototype.initialize=function(options){return this.question=options.question,HR.candidate&&HR.candidate.candidateAttemptModel?(this.aid=HR.candidate.candidateAttemptModel.get("id"),this.autoSaveNamespace=this.aid+"-"+this.question.unique_id,HR.appView.saveCodeOnNavigate=!0):(this.aid="testing",this.autoSaveNamespace=null)},RecruitCandidateSubjectiveCSXView.prototype._render=function(){return setTimeout((_this=this,function(){return $(_this.el).html(_this.template),_this.loadCodeShellx(),_this.set_answer()}),0);var _this},RecruitCandidateSubjectiveCSXView.setDirtyView=function(){return HR.appView.dirty=!0},RecruitCandidateSubjectiveCSXView.prototype.loadCodeShellx=function(){var config,_this;return config={multifile:!1,filetree:!1,availableLanguages:["Plaintext"],runButton:!1,menu:["editMenu","helpMenu"],defaultMenuOptions:{menu_fz:"font_normal",menu_ts:"tab_2",menu_kb:"keyboard_normal",intellisense:!0},codeStubs:{Plaintext:{head:"",body:"",tail:""}},uid:this.autoSaveNamespace},this.csx=new codeshellx.CodeEditor("csx-editor",config),HR.codeshellx_util.loadQuestionInFullScreen("#csx-editor",this.csx,this.question),$("#csx-editor").on("full_screen",(_this=this,function(){return _this.isFullscreen?(_this.$("#csx-editor .codeshellx-centerholder .codeshellx-content")[0].style.setProperty("height","auto"),_this.$("#csx-editor .codeshellx-centerholder .ans-submit").remove(),_this.$(".submit-fs-message").remove(),_this.isFullscreen=!1):(_this.$("#csx-editor .codeshellx-centerholder").append('<div class="codeshellx-bottom"><button class="btn btn-primary pull-right mdT mdB mdR ans-submit" style="width:225px;">Submit answer &amp; continue</button><div class="pull-right clear mdR gray submit-fs-message" style="padding-top: 10px;">You can change your submission later.</div></div>'),_this.$("#csx-editor .codeshellx-centerholder .codeshellx-content")[0].style.setProperty("height","calc(100% - 100px)","important"),_this.isFullscreen=!0)}))},RecruitCandidateSubjectiveCSXView.prototype.answer=function(){var data;return data=this.csx.getFileData("/solution"),HR.appView.dirty=!1,{code:data.body,language:"text"}},RecruitCandidateSubjectiveCSXView.prototype.set_answer=function(){if(this.question.solve)return this.csx.setFileData("/solution","Plaintext",{body:this.question.solve.answer.answer}),HR.appView.dirty=!1},RecruitCandidateSubjectiveCSXView}(window.HR.GenericView),(HR=window.HR||{}).RecruitCandidateSubjectiveCSXView=RecruitCandidateSubjectiveCSXView,window.HR=HR})}.call(this),function(){var bind=function(fn,me){return function(){return fn.apply(me,arguments)}},extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;$(function(){var HR,RecruitCandidateDesignCSXView;return RecruitCandidateDesignCSXView=function(superClass){function RecruitCandidateDesignCSXView(){return this.submitCodeshellx=bind(this.submitCodeshellx,this),this.loadTemplatesInCsx=bind(this.loadTemplatesInCsx,this),RecruitCandidateDesignCSXView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateDesignCSXView,superClass),RecruitCandidateDesignCSXView.prototype.template="recruit/question-design-csx",RecruitCandidateDesignCSXView.prototype.className="question-design",RecruitCandidateDesignCSXView.prototype.initialize=function(options){return this.question=options.question,this.test=HR.candidate.candidateTestModel||options.test,this.csx=null,HR.candidate&&HR.candidate.candidateAttemptModel?this.aid=HR.candidate.candidateAttemptModel.get("id"):this.aid="testing","testing"===this.aid?this.autoSaveNamespace=this.aid+"-"+this.test.id+"-"+this.question.id:this.autoSaveNamespace=this.aid+"-"+this.question.unique_id,"true"===this.question.multiple_files?(this.files=this.getFilesMeta(),this.multipleFiles=!0):this.multipleFiles=!1,this},RecruitCandidateDesignCSXView.prototype.events={"click .bb-compile":"renderAnswer","click .upload_file":"confirmUploadFileDialog","codeChanged #csx-editor":"setDirtyView","click .ans-submit":"submitCodeshellx"},RecruitCandidateDesignCSXView.prototype.setDirtyView=function(e,change){if(null!=change&&"setValue"!==change.origin)return HR.appView.dirty=!0},RecruitCandidateDesignCSXView.prototype.resetDirtyView=function(){return HR.appView.dirty=!1},RecruitCandidateDesignCSXView.prototype._render=function(){var _this;return $(this.el).html(HR.appController.template(this.template,this,!0,(_this=this,function(){return _this.loadCodeshellx()}))({question:this.question})),this.$("#runstatus").load(this.hideLoading),this},RecruitCandidateDesignCSXView.prototype.loadCodeshellx=function(){var config,menuConfig,_this;return menuConfig=[{id:"menu_edit",label:"Edit",children:["tabSpaceMenu","fontsizeMenu","themeMenu"]}],config={multifile:this.multipleFiles,filetree:this.multipleFiles,menu:menuConfig,defaultMenuOptions:{menu_fz:"font_normal",menu_ts:"tab_4",menu_kb:"keyboard_normal",intellisense:!0},runButton:!1,uid:this.autoSaveNamespace},this.$("#csx-editor").on("initialized",(_this=this,function(){return _this.multipleFiles?_this.loadFilesInCsx():_this.loadTemplatesInCsx()})),this.csx=new codeshellx.CodeEditor("csx-editor",config),this.localStorageService=HR.codeshellx_util.startLocalStorageService(this.autoSaveNamespace,this.csx),this.isFullscreen=!1,HR.codeshellx_util.loadQuestionInFullScreen("#csx-editor",this.csx,this.question,this.isFullscreen),this.$("#csx-editor").on("full_screen",function(_this){return function(){var cta_ele,run_ele;return _this.isFullscreen?(run_ele=_this.$(".output-group"),(cta_ele=_this.$(".csx-ctagroup")).remove(),run_ele.remove(),_this.csx.removePlugin("RunFullScreenView"),$(".question-design").append(cta_ele),$(".question-design").append(run_ele),_this.isFullscreen=!1):(run_ele=_this.$(".output-group"),(cta_ele=_this.$(".csx-ctagroup")).remove(),run_ele.remove(),_this.csx.addPlugin({data:{content:"<div class='run-content'></div",identifier:"RunFullScreenView"},type:"TextContentView",title:"Output",position:"right"}),_this.$(".run-content").append(run_ele),_this.$("#csx-editor .codeshellx-leftholder").append(cta_ele),_this.isFullscreen=!0)}}(this)),this.csx.trigger("restoreLocalStorage")},
RecruitCandidateDesignCSXView.prototype.loadTemplatesInCsx=function(){var csxLang,fileObj,i,lang,len,ref,results;for(results=[],i=0,len=(ref=this.question.languages).length;i<len;i++)lang=ref[i],fileObj={},csxLang=HR.util.codeshellxLangMap[lang],fileObj.filePath="/"+csxLang,fileObj.availableLanguages=[csxLang],fileObj.language=csxLang,fileObj.type="code",fileObj.noClose=!0,fileObj.fileExtension="",fileObj.codeStubs={},fileObj.codeStubs[csxLang]={body:this.question[lang+"_template"]},this.$("#csx-editor").trigger("addFile",[fileObj.filePath,fileObj]),results.push(this.$("#csx-editor").trigger("openFile",fileObj.filePath));return results},RecruitCandidateDesignCSXView.prototype.loadFilesInCsx=function(tryCount){var filesMeta,_this;return null==tryCount&&(tryCount=1),tryCount<3?(filesMeta=this.getFilesMeta(),$.when.apply(this,this.getFilesFromServer(filesMeta)).then((_this=this,function(){var codeStubs,csxFileData,csxName,file,fileData,filePath,i,len,ref;for(i=0,len=(ref=_this.tempFileArray).length;i<len;i++){if(fileData=(file=ref[i]).file.fileContents,filePath=file.filePath,!file.status)return void _this.$("#csx-editor").trigger("showNotification","There was an error in loading the files for this question. Please contact support at support@hackerrank.com");csxFileData={},(codeStubs={})[csxName=HR.util.codeshellxLangMap[fileData.language]]={body:fileData.code},(csxFileData={availableLanguages:[csxName],readOnly:{head:!1,body:!1,tail:!1},language:csxName,type:"code",noClose:!1}).codeStubs=codeStubs,_this.$("#csx-editor").trigger("addFile",[filePath,csxFileData])}return _this.csx.trigger("restoreLocalStorage"),_this.csx.trigger("openFile",_this.tempFileArray[0].filePath)}),function(_this){return function(){return _this.loadFilesInCsx(tryCount+1)}}(this))):this.csx.trigger("showNotification","Unable to load files. Please contact support@hackerrank.com if problem persists")},RecruitCandidateDesignCSXView.prototype.renderAnswer=function(e,data){var init_url,_this;return this.$(".bb-compile").addClass("disabled").data("status","sending"),"testing"!==this.aid?(HR.candidate.dtmodel=new HR.CandidateDesignTestModel,HR.candidate.dtmodel.setAid(this.aid),HR.candidate.dtmodel.setQid(this.question.unique_id)):(HR.candidate.dtmodel=new HR.RecruitDesignTestModel,HR.candidate.dtmodel.setQid(this.question.id),HR.candidate.dtmodel.setTid(this.test.id)),this.$("#runstatus").addClass("hidden"),this.$("#runstatus-load").removeClass("hidden"),data=this.getAllFiles(),init_url=HR.development?window.location.protocol+"//design."+window.location.host:"yes"===HR.USE_CURRENT_HOST_AS_DESIGN_DOMAIN?window.location.protocol+"//"+window.location.host:window.location.protocol+"//"+HR.DESIGN_SUBDOMAIN_PREFIX+"."+HR.DESIGN_DOMAIN,"true"===this.question.multiple_files?this.saveFiles(data,(_this=this,function(){if(_this.resetDirtyView(),_this.setStatus("Preparing the document...","black"),"testing"!==_this.aid||"true"===_this.question.multiple_files)return"testing"===_this.aid?(_this.setStatus("Loading document.."),_this.$("#runstatus").attr("src",""+init_url+HR.candidate.dtmodel.url()+"/testing-"+HR.currentUser.get("id")+"/"+_this.test.get("authkey")+"/"),HR.util.scrollToBottom(1e3)):HR.candidate.dtmodel.save(data,{success:function(m){return _this.$("#runstatus").attr("src",""+init_url+m.url()+"/"+m.get("id")),_this.setStatus("Document prepared successfully.","green"),_this.$(".bb-compile").removeClass("disabled"),_this.$("#runstatus-load").addClass("hidden"),_this.$("#runstatus").removeClass("hidden"),HR.util.scrollToBottom(1e3)},error:function(){return HR.candidate.dtmodel=null,_this.setStatus("There was an issue with rendering this code.","red")}})})):(data=this.answer(),HR.candidate.dtmodel.save(data,{success:function(_this){return function(m){return _this.$("#runstatus").attr("src",""+init_url+m.url()+"/"+m.get("id")),_this.setStatus("Document prepared successfully.","green"),_this.$(".bb-compile").removeClass("disabled"),_this.$("#runstatus-load").addClass("hidden"),_this.$("#runstatus").removeClass("hidden"),HR.util.scrollToBottom(1e3)}}(this),error:function(_this){return function(){return HR.candidate.dtmodel=null,_this.setStatus("There was an issue with rendering this code.","red")}}(this)}))},RecruitCandidateDesignCSXView.prototype.getAllFiles=function(){return this.csx.getAllFiles()},RecruitCandidateDesignCSXView.prototype.answer=function(){var data,file,fileData,filePath,files,hrLang,lang,_this;if(this.multipleFiles)return new Promise((_this=this,function(resolve,reject){return _this.saveFiles(_this.getAllFiles(),function(){return resolve({type:"design"})},function(){return reject({error:"Unable to save files to server. Please try again"})})}));for(filePath in data=[],files=this.getAllFiles())fileData={},lang=(file=files[filePath]).language,hrLang=HR.util.hrwLang(lang),fileData.language=hrLang,fileData.code=file.codeStubs[lang].body,data.push(fileData);return data},RecruitCandidateDesignCSXView.prototype.setStatus=function(s,additional_class){if(null==additional_class&&(additional_class=""),this.$(".output-area-wrap").removeClass("hidden"),this.$(".status-msg").html(s),""!==additional_class)return this.$(".status-msg").addClass(additional_class)},RecruitCandidateDesignCSXView.prototype.set_answer=function(){return this.csx.trigger("restoreLocalStorage")},RecruitCandidateDesignCSXView.prototype.checkCopyPaste=function(change){var added_text;if(this.setDefaultText&&(added_text=change.text.join(""))!==this.lastAddedText)return this.lastAddedText=added_text,"paste"===change.origin&&added_text.length>100?HR.candidate.testEvents.add({action:"paste",eid:9,qid:this.question.unique_id,insertTime:new Date}):void 0},RecruitCandidateDesignCSXView.prototype.submitCodeshellx=function(){return $("body").removeClass("codeshellx-fullscreenmode-compatible-body")},RecruitCandidateDesignCSXView}((HR=window.HR||{}).RecruitCandidateMultipleFileCSXView),HR.RecruitCandidateDesignCSXView=RecruitCandidateDesignCSXView})}.call(this),function(){var bind=function(fn,me){return function(){return fn.apply(me,arguments)}},extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,InputOutputInfoView,ref;return InputOutputInfoView=function(superClass){function InputOutputInfoView(){return this.closeNotification=bind(this.closeNotification,this),this.scrollToStdin=bind(this.scrollToStdin,this),this.showFaq=bind(this.showFaq,this),InputOutputInfoView.__super__.constructor.apply(this,arguments)}return extend(InputOutputInfoView,superClass),InputOutputInfoView.prototype.template="recruit/input-output-info-view",InputOutputInfoView.prototype.className="input-output-info",InputOutputInfoView.prototype.events={"click .js-show-faq":"showFaq","show.bs.modal #faq-modal":"scrollToStdin","change .associated-items-checkbox":"animateModal","click .js-close-notification":"closeNotification"},InputOutputInfoView.prototype.initialize=function(options){return this.lang=options.lang,this.language=options.language,this.test=options.test,this.allowedLanguages=["c","clojure","cpp","csharp","elixir","go","groovy","haskell","java","javascript","julia","objectivec","perl","php","pypy","pypy3","python","python3","r","ruby","scala","swift"]},InputOutputInfoView.prototype._render=function(){return $(this.el).html(HR.appController.template(this.template,this)({lang:this.lang,language:this.language})),this.allowedLanguages.indexOf(this.lang)>=0?this.$(".associated-item."+this.lang).removeClass("hidden"):this.$(".associated-item.default").removeClass("hidden")},InputOutputInfoView.prototype.animateModal=function(e){var $associatedItemsList,$faqModal;return e.preventDefault(),$associatedItemsList=this.$(".associated-items-list"),$faqModal=this.$("#faq-modal"),this.$(e.currentTarget).is(":checked")?(this.autoHeight?$associatedItemsList.stop().animate({height:this.autoHeight}):this.autoHeight=$associatedItemsList.css("height","auto").height(),$faqModal.html("<div class='modal-body'></div>")):($associatedItemsList.stop().animate({height:0}),$faqModal.html(""))},InputOutputInfoView.prototype.showFaq=function(e){var current_backdrop,faq_modal,faq_view;return e.preventDefault(),faq_view=new HR.RecruitInfoView({test:this.test,public_url:!1,subpage:"faq",in_modal:!0,scroll_to:"#stdin"}),this._subviews.push(faq_view),(faq_modal=this.$("#faq-modal")).find(".modal-body").html(faq_view.render().el),faq_modal.modal("show"),(current_backdrop=$(".modal-backdrop")).detach(),$("#sample-input-output").append(current_backdrop)},InputOutputInfoView.prototype.scrollToStdin=function(){return setTimeout(function(){return this.$("#faq-modal .modal-body .js-content-tabfaq").animate({scrollTop:900})},500)},InputOutputInfoView.prototype.closeNotification=function(){return this.undelegateEvents(),this.$el.removeData().unbind(),this.remove(),Backbone.View.prototype.remove.call(this)},InputOutputInfoView}(window.HR.GenericView),(HR=null!=(ref=window.HR)?ref:{}).InputOutputInfoView=InputOutputInfoView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,RecruitCandidateSetupView,ref;return RecruitCandidateSetupView=function(superClass){function RecruitCandidateSetupView(){return RecruitCandidateSetupView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateSetupView,superClass),RecruitCandidateSetupView.prototype.template="recruit/candidate-setup",RecruitCandidateSetupView.prototype.className="candidate-setup",RecruitCandidateSetupView.prototype.refreshInterval=2e3,RecruitCandidateSetupView.prototype.retries=0,RecruitCandidateSetupView.prototype.provisioned=!1,RecruitCandidateSetupView.prototype.failedMessage="Looks like we are not able to setup a server right now. Please try again later or reach out to us at support@hackerrank.com",RecruitCandidateSetupView.prototype.initialize=function(options){return this.test=options.model,this.tutorial_step=0,this.tuid=this.test.get("unique_id"),$.jStorage.get("setupprogress")&&$.jStorage.get("setupprogress")>90&&$.jStorage.set("setupprogress",30),this.tracking_identity_already_pushed=!1},RecruitCandidateSetupView.prototype.events={"click .to-test":"redirectToQuestions","click .try-again":"tryAgain","click .prelogin_slide_control":"changeSlide","click .open-tutorial":"openTutorial","click .close-ide-tutorial":"closeTutorial","click .begin-tutorial":"beginTutorial","click .skip-step":"skipStep"},RecruitCandidateSetupView.prototype.changeSlide=function(e){var $btn,$btns,$slide,$slides,slideId;if($btns=this.$(".prelogin_slide_control"),$slides=this.$(".prelogin_slide"),$btns.length&&$slides.length)return(null!=e?e.currentTarget:void 0)?$btn=this.$(e.currentTarget):($btn=$btns.filter(".active").next(".prelogin_slide_control")).length||($btn=$btns.first()),slideId=$btn.data("slide"),($slide=$slides.filter("[data-slide='"+slideId+"']")).length?($btns.removeClass("active"),$btn.addClass("active"),$slides.addClass("hidden"),$slide.removeClass("hidden")):void 0},RecruitCandidateSetupView.prototype.redirectToQuestions=function(){var ref,ref1,ref2,ref3,ref4,ref5,ref6,ref7,ref8,ref9,track_data,_this;return this.$(".to-test").addClass("hidden"),this.$(".to-rba-test").addClass("hidden"),this.$(".to-test-disabled").addClass("hidden"),this.$("#video-overlay-div").addClass("hidden"),track_data={test_id:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,company_id:(null!=(ref2=HR.candidate)&&null!=(ref3=ref2.candidateTestModel)?ref3.get("company_uid"):void 0)||null,prelogin_id:(null!=(ref4=HR.candidate)&&null!=(ref5=ref4.candidateTestModel)&&null!=(ref6=ref5.get("pre_login"))?ref6.id:void 0)||null,hacker_id:(null!=(ref7=HR.candidate)&&null!=(ref8=ref7.candidateAttemptModel)?ref8.get("hacker_id"):void 0)||null,job_id:(null!=(ref9=HR.params)?ref9.job_id:void 0)||null,attribute11:HR.util.isPublicLink()},HR.util.candidateTrack("Click","MakeAttempt",track_data),this.test.makeAttempt({success:(_this=this,function(response){var google_analytics;return window.dataLayer&&"function"==typeof window.dataLayer.push&&response&&response.google_analytics&&response.google_analytics.ga_user_id&&(google_analytics=response.google_analytics||{},dataLayer.push({event:"identify",gaUserId:google_analytics.ga_user_id,attempt_id:google_analytics.attempt_id,test_id:_this.test.get("unique_id"),company_id:_this.test.get("company_uid")})),HR.candidateNavigate(_this.test.get("unique_id")+"/questions")}),error:function(_this){return function(e){return _this.$(".to-test").addClass("hidden"),_this.$(".to-rba-test").addClass("hidden"),_this.$(".to-test-disabled").addClass("hidden"),_this.$(".try-again").removeClass("hidden"),410!==e.status&&(_this.$(".expired-server-error .js-error").text(_this.failedMessage),_this.$(".try-again").removeClass("btn-primary").addClass("disabled").attr("disabled",!0)),_this.$(".expired-server-error").removeClass("hidden")}}(this)})},RecruitCandidateSetupView.prototype.tryAgain=function(){var ref,ref1,ref2,ref3,ref4,ref5,ref6,ref7,ref8,ref9,track_data,_this;return this.provisioned=!1,this.retries+=1,this.$(".try-again").addClass("hidden"),this.$(".expired-server-error").addClass("hidden"),track_data={test_id:null!=(ref=HR.candidate)&&null!=(ref1=ref.candidateTestModel)?ref1.get("unique_id"):void 0,company_id:(null!=(ref2=HR.candidate)&&null!=(ref3=ref2.candidateTestModel)?ref3.get("company_id"):void 0)||null,hacker_id:(null!=(ref4=HR.candidate)&&null!=(ref5=ref4.candidateAttemptModel)?ref5.get("hacker_id"):void 0)||null,prelogin_id:(null!=(ref6=HR.candidate)&&null!=(ref7=ref6.candidateTestModel)&&null!=(ref8=ref7.get("pre_login"))?ref8.id:void 0)||null,job_id:(null!=(ref9=HR.params)?ref9.job_id:void 0)||null,retries:this.retries,attribute11:HR.util.isPublicLink()},HR.util.candidateTrack("Click","TryAgain",track_data),this.test.retry({success:(_this=this,function(){return _this.updateData({success:function(){return _this.postApplyTemplate()},error:function(){return _this.postApplyTemplate()}})}),error:function(_this){return function(){return _this.retries=3,_this.setImporting("error")}}(this)})},RecruitCandidateSetupView.prototype._render=function(){var loader;return(loader=HR.appController.templateOnSteroids(this.template,this))&&$(this.el).html(loader),this},RecruitCandidateSetupView.prototype._applyTemplate=function(){var content;return content=this._template({test:this.test.toJSON()}),$(this.el).html(content),this.postApplyTemplate(),this},RecruitCandidateSetupView.prototype.postApplyTemplate=function(){var _this;return this.setProgressState(),this.changeSlideInterval=setInterval((_this=this,function(){return _this.changeSlide()}),1e4),this.interval=setInterval(function(_this){return function(){return _this.updateData()}}(this),15e3),require(["/CodeKit/client/build/static/application.js"],function(){return console.log("Loaded IDE-js")})},RecruitCandidateSetupView.prototype.updateData=function(options){return this.test.fetch({success:(_this=this,function(m,x){var pre_login;_this.$(".to-test-disabled").removeClass("hidden"),_this.$(".to-test").addClass("hidden"),_this.$(".to-rba-test").addClass("hidden"),_this.test=m;try{pre_login=x.model.pre_login,window.dataLayer&&"function"==typeof window.dataLayer.push&&pre_login.ga_user_id&&!_this.tracking_identity_already_pushed&&(dataLayer.push({event:"identify",gaUserId:pre_login.ga_user_id,test_id:_this.test.get("unique_id"),company_id:_this.test.get("company_uid")}),_this.tracking_identity_already_pushed=!0)}catch(error){pre_login=null}if(pre_login||m.get("attempt_object")?_this.setProgressState():_this.provisioned?_this.setImporting("error"):_this.setProvisioning("error"),options&&options.success)return options.success(m,x)}),error:function(_this){return function(m){return options&&options.error&&options.error(m),window.candidatemessage="There was an issue setting up the server for this challenge. Please try again later, and if the issue persists, contact support@hackerrank.com.",testmodel.get("unique_id"),window.candidatemessage=report_html,HR.logoutAttempt(),HR.candidateNavigate(_this.tuid+"/message")}}(this)});var _this},RecruitCandidateSetupView.prototype.setProgressState=function(){var candidate_ready,m,ref,rstatus,status;return status=(m=this.test).get("pre_login").status,candidate_ready=m.get("pre_login").candidate_ready,rstatus=null!=(ref=m.get("pre_login").response)?ref.status:void 0,0===status||1===status?this.setProvisioning("progress"):3===status?this.setImporting("error"):3===rstatus?this.setProvisioning("error"):2===rstatus?this.setImporting("done"):m.get("attempt_object")||candidate_ready?this.setImporting("done"):this.setImporting("progress")},RecruitCandidateSetupView.prototype.setProvisioning=function(state){switch(this.provisioned=!1,this.$(".steps .states").addClass("hide"),this.$(".steps .state-left").removeClass("hide"),this.$(".step-provisioning .states").addClass("hide"),this.$(".step-provisioning .state-"+state).removeClass("hide"),state){case"done":return this.provisioned=!0;case"error":return clearInterval(this.interval),this.$(".to-test-disabled").addClass("hidden"),this.$(".to-test").addClass("hidden"),this.$(".to-rba-test").addClass("hidden"),this.retries>=2?(this.$(".try-again").removeClass("btn-primary").addClass("disabled").attr("disabled",!0),this.$(".step-provisioning .state-error .js-error").text(this.failedMessage),HR.logoutAttempt()):this.$(".try-again").removeClass("hidden")}},RecruitCandidateSetupView.prototype.showReady=function(){return this.$(".step-launching-ide .state-progress").addClass("hide"),this.$(".step-launching-ide .state-done").removeClass("hide"),this.$(".step-ready .state-left").addClass("hide"),this.$(".step-ready .state-done").removeClass("hide"),this.$(".to-test-disabled").addClass("hidden"),this.$(".to-test").removeClass("hidden"),this.$(".to-rba-test").removeClass("hidden")},RecruitCandidateSetupView.prototype.setImporting=function(state){var progress;return this.setProvisioning("done"),this.$(".step-importing .state-left").addClass("hide"),"progress"===state?(this.$(".step-importing .state-progress").removeClass("hide"),progress=$.jStorage.get("setupprogress")||0,(progress+=progress>85?1:3)>95&&(progress=95),$.jStorage.set("setupprogress",progress),this.$(".progressbar").progressbar({value:progress})):"done"===state?(clearInterval(this.interval),clearInterval(this.changeSlideInterval),this.$(".step-importing .state-done").removeClass("hide"),this.$(".step-launching-ide .state-left").addClass("hide"),this.$(".step-launching-ide .state-progress").removeClass("hide"),this.test.shownReady?this.showReady():(setTimeout(this.showReady,2e3),this.test.shownReady=!0)):"error"===state?(clearInterval(this.interval),this.$(".to-test-disabled").addClass("hidden"),this.$(".to-test").addClass("hidden"),this.$(".to-rba-test").addClass("hidden"),this.$(".try-again").removeClass("hidden"),this.retries>=2?(this.$(".try-again").removeClass("btn-primary").addClass("disabled").attr("disabled",!0),this.$(".step-importing .state-error .js-error").text(this.failedMessage),HR.logoutAttempt()):this.$(".try-again").removeClass("hidden"),this.$(".step-importing .state-error").removeClass("hide"),this.$(".step-importing .js-error").removeClass("hidden")):void 0},RecruitCandidateSetupView.prototype.beginTutorial=function(){var filters;return this.$(".to-rba-test").addClass("btn-primary"),this.$(".to-rba-test").css({color:"white"}),this.$(".begin-tutorial").addClass("hidden"),this.$(".learn-about-hackerrank").addClass("hidden"),this.$("#video-overlay-div").addClass("hidden"),this.$(".ide-tutorial")[0].currentTime=0,this.checkVideoTime(0),this.$(".ide-tutorial")[0].play(),filters="grayscale("+"10%"+") opacity("+1+")saturate("+.8+") brightness("+1+") contrast("+1.4+")",this.$(".ide-tutorial").css("-webkit-filter",filters)},RecruitCandidateSetupView.prototype.addHighlightText=function(mainText,subText){return this.$("#main-text").html(mainText),this.$("#sub-text").html(subText),this.$("#main-text").removeClass("hidden"),this.$("#sub-text").removeClass("hidden")},RecruitCandidateSetupView.prototype.addHighlightCSS=function(elementArray,cssProp,mainText){var arrLength,i,results;for(i=0,arrLength=elementArray.length,results=[];i<arrLength;)this.$(elementArray[i]).removeClass("hidden"),this.$(elementArray[i]).css({width:cssProp[i][0]}),this.$(elementArray[i]).css({height:cssProp[i][1]}),this.$(elementArray[i]).css({top:cssProp[i][2]}),this.$(elementArray[i]).css({left:cssProp[i][3]}),this.$(elementArray[i]).attr("data-event-label","Tutorial Step - "+mainText),$(".close-ide-tutorial").attr("data-event-value",this.tutorial_step),results.push(i++);return results},RecruitCandidateSetupView.prototype.addDefaultCSS=function(elementArray){var commonCSS;return commonCSS={color:"white",width:"fit-content","background-color":"transparent","text-align":"left","z-index":"1"},this.$(elementArray[0]).css(commonCSS),this.$(elementArray[1]).css(commonCSS),this.$(elementArray[0]).css({"font-size":"16px","font-weight":"400"}),this.$(elementArray[1]).css({"font-size":"10px","font-weight":"600"})},RecruitCandidateSetupView.prototype.addTextCSS=function(elementArray,cssProp){var arrLength,i,results;for(this.addDefaultCSS(elementArray),i=0,arrLength=elementArray.length,results=[];i<arrLength;)this.$(elementArray[i]).css(cssProp[i]),results.push(i++);return results},RecruitCandidateSetupView.prototype.hideHighlightContent=function(){return this.$(".highlight").addClass("hidden"),this.$(".highlight-messages").addClass("hidden")},RecruitCandidateSetupView.prototype.hideRemoveHighlightContentEvent=function(){return this.$(".highlight").addClass("hidden"),this.$(".highlight-caption").addClass("hidden"),this.$(".highlight-messages").addClass("hidden"),this.$(".highlight").off("click")},RecruitCandidateSetupView.prototype.addBlockHighlightCSS=function(video,elementArray,cssProp,textCSS,mainText,subText){return video.pause(),this.addHighlightCSS(elementArray,cssProp,mainText),this.addTextCSS(["#main-text","#sub-text"],textCSS),this.addHighlightText(mainText,subText),$("#skip-step-link").attr("data-event-label","Skip Step - "+mainText)},RecruitCandidateSetupView.prototype.eventHandler=function(video,eventType,hideContentFunc){return hideContentFunc(),"dblclick"===eventType?$(".highlight").off("dblclick"):"keydown"===eventType?$(document).off("keydown"):($(".highlight").off("click"),$("#skip-step-link").off("click")),video.play()},RecruitCandidateSetupView.prototype.checkVideoTime=function(counter){var cssProp,currentTime,elementArray,eventHandler,hideRemoveHighlightContentEvent,mainText,subText,textCSS,video,_this;if((video=this.$(".ide-tutorial")[0]).ended&&!this.$(".ide-tutorial").hasClass("hidden"))return this.$("#video-overlay-div").removeClass("hidden"),this.$("#skip-step-link").addClass("hidden"),this.addTextCSS(["#main-text","#sub-text",".caption-wrapper"],[{},{},{}]),$("#main-text").removeAttr("style"),$("#sub-text").removeAttr("style"),$(".caption-wrapper").removeAttr("style"),$(".caption-wrapper").addClass("final-step"),$(".caption-wrapper").removeClass("hidden"),this.addHighlightText("You're ready!","Congratulations. You finished the tutorial. Close this window to login to your test."),void $(".close-ide-tutorial").attr("data-event-value",this.tutorial_step);switch(currentTime=Math.floor(video.currentTime),this.hideHighlightContent,hideRemoveHighlightContentEvent=this.hideRemoveHighlightContentEvent,eventHandler=this.eventHandler,this.$("#skip-step-link").on("click",function(){return 12===counter&&($(".ide-tutorial")[0].currentTime=52),counter++,eventHandler(video,"click",hideRemoveHighlightContentEvent)}),0===counter?this.$(".highlight").on("dblclick",function(){return counter++,eventHandler(video,"dblclick",hideRemoveHighlightContentEvent)}):1===counter?$(document).keydown(function(e){if(32===e.keyCode&&e.ctrlKey)return counter++,eventHandler(video,"keydown",hideRemoveHighlightContentEvent)}):2===counter?$(document).keydown(function(e){if(9===e.keyCode)return counter++,eventHandler(video,"keydown",hideRemoveHighlightContentEvent)}):this.$(".highlight").on("click",function(){return 12===counter&&($(".ide-tutorial")[0].currentTime=52),counter++,eventHandler(video,"click",hideRemoveHighlightContentEvent)}),currentTime){case 0:0!==counter||video.paused||(this.tutorial_step=1,$("#skip-step-link").removeClass("pull-right hidden"),$("#skip-step-link").removeAttr("style"),$(".caption-wrapper").removeClass("final-step"),cssProp=[["152px","16px","230px","70px"],["220px","","230px","235px"]],elementArray=[".highlight-one",".caption-wrapper"],textCSS=[{},{}],mainText="Start by opening a file",subText="Double click on the file name to open",this.addBlockHighlightCSS(video,elementArray,cssProp,textCSS,mainText,subText));break;case 8:1===counter&&(this.tutorial_step=2,cssProp=[["154px","12px","260px","308px"],["254px","","260px","470px"]],elementArray=[".highlight-one",".caption-wrapper"],textCSS=[{},{}],mainText="Trigger autocomplete by pressing Ctrl + Space",subText="Press Ctrl + Space to move to next step",this.addBlockHighlightCSS(video,elementArray,cssProp,textCSS,mainText,subText),$("#skip-step-link").addClass("pull-right"));break;case 10:2===counter&&(this.tutorial_step=3,cssProp=[["335px","166px","272px","415px"],["335px","","446px","415px"]],elementArray=[".highlight-one",".caption-wrapper"],textCSS=[{},{}],mainText="Use Tab to select the top most suggestion",subText="Press Tab to move to next step",this.addBlockHighlightCSS(video,elementArray,cssProp,textCSS,mainText,subText));break;case 17:3===counter&&(this.tutorial_step=4,cssProp=[["60px","25px","80px","102px"],["404px","","80px","171px"]],elementArray=[".highlight-one",".caption-wrapper"],textCSS=[{},{}],mainText="Use the Assistant menu to learn more about the IDE",subText="Click on the Assistant menu to continue",this.addBlockHighlightCSS(video,elementArray,cssProp,textCSS,mainText,subText),$("#skip-step-link").css({top:"-75px"}));break;case 18:4===counter&&(this.tutorial_step=5,cssProp=[["209px","18px","127px","98px"],["320px","","127px","317px"]],elementArray=[".highlight-one",".caption-wrapper"],textCSS=[{},{}],mainText="View all shortcuts through Key Bindings",subText="Click on Key Bindings to continue",this.addBlockHighlightCSS(video,elementArray,cssProp,textCSS,mainText,subText));break;case 20:5===counter&&(this.tutorial_step=6,cssProp=[["35px","21px","105px","668px"],["582px","415px","133px","121px"],["360px","","70px","300px"]],elementArray=[".highlight-one",".highlight-two",".caption-wrapper"],textCSS=[{},{}],mainText="Use this window to search specific shortcuts",subText="Click on X to continue",this.addBlockHighlightCSS(video,elementArray,cssProp,textCSS,mainText,subText),$("#skip-step-link").css({top:"-75px"}));break;case 21:6===counter&&(this.tutorial_step=7,cssProp=[["38px","24px","80px","763px"],["345px","","74px","415px"]],elementArray=[".highlight-one",".caption-wrapper"],textCSS=[{},{}],mainText="Use the layout switcher to change IDE layout",subText="Click on the icon to continue",this.addBlockHighlightCSS(video,elementArray,cssProp,textCSS,mainText,subText),$("#skip-step-link").css({top:"2px"}));break;case 23:7===counter&&(this.tutorial_step=8,cssProp=[["22px","18px","101px","779px"],["338px","","94px","422px"]],elementArray=[".highlight-one",".caption-wrapper"],textCSS=[{},{}],mainText="Change the layout to show terminal window",subText="Click on the highlighted icon to continue",this.addBlockHighlightCSS(video,elementArray,cssProp,textCSS,mainText,subText));break;case 26:8===counter&&(this.tutorial_step=9,cssProp=[["9px","22px","80px","378px"],["38px","22px","80px","338px"],["279px","","74px","395px"]],elementArray=[".highlight-one",".highlight-two",".caption-wrapper"],textCSS=[{},{}],mainText="Use the Run button to run project specific commands",subText="Click on the dropdown icon to choose a command",this.addBlockHighlightCSS(video,elementArray,cssProp,textCSS,mainText,subText),$("#skip-step-link").css({top:"-100px"}));break;case 28:9===counter&&(this.tutorial_step=10,cssProp=[["40px","20px","100px","338px"],["366px","","100px","385px"]],elementArray=[".highlight-one",".caption-wrapper"],textCSS=[{},{}],mainText="Use Run to run the application.",subText="Click on the Run command to continue. List of commands can vary depending upon the question.",this.addBlockHighlightCSS(video,elementArray,cssProp,textCSS,mainText,subText),$("#skip-step-link").css({top:"5px"}));break;case 31:10===counter&&(this.tutorial_step=11,cssProp=[["401px","15px","372px","312px"],["470px","","393px","312px"]],elementArray=[".highlight-one",".caption-wrapper"],textCSS=[{},{}],mainText="If a webserver is present, you can access the preview url here",subText="Click on the highlighted area to continue",this.addBlockHighlightCSS(video,elementArray,cssProp,textCSS,mainText,subText));break;case 33:11===counter&&(this.tutorial_step=12,cssProp=[["20px","20px","81px","644px"],["305px","","112px","393px"]],elementArray=[".highlight-one",".caption-wrapper"],textCSS=[{},{}],mainText="To stop the server, use the stop button",subText="Click on the stop button to continue",this.addBlockHighlightCSS(video,elementArray,cssProp,textCSS,mainText,subText),$("#skip-step-link").css({top:"-55px",left:"65px"}));break;case 35:12===counter&&(this.tutorial_step=13,cssProp=[["22px","21px","80px","643px"],["447px","","112px","252px"]],elementArray=[".highlight-one",".caption-wrapper"],textCSS=[{},{}],mainText="You can restart the server by clicking on the restart button",subText="Click on the restart button to continue",this.addBlockHighlightCSS(video,elementArray,cssProp,textCSS,mainText,subText),$("#skip-step-link").css({top:"-55px",left:"65px"}));break;case 52:13===counter&&(this.tutorial_step=14,cssProp=[["140px","30px","37px","74px"],["502px","","80px","74px"]],elementArray=[".highlight-one",".caption-wrapper"],textCSS=[{},{}],mainText="You might also have an option to work on your local IDE using Git.",subText="Click on the toggle to switch to work offline mode and continue.",this.addBlockHighlightCSS(video,elementArray,cssProp,textCSS,mainText,subText),$("#skip-step-link").css({top:"-95px",left:""}));break;case 54:14===counter&&(this.tutorial_step=15,cssProp=[["391px","59px","335px","12px"],["310px","","410px","12px"]],elementArray=[".highlight-one",".caption-wrapper"],textCSS=[{},{}],mainText="Use this command to clone the repo",subText="Click on the highlighted area to continue",this.addBlockHighlightCSS(video,elementArray,cssProp,textCSS,mainText,subText),$("#skip-step-link").addClass("pull-right"),$("#skip-step-link").css({top:"2px"}));break;case 55:15===counter&&(this.tutorial_step=16,cssProp=[["377px","456px","88px","416px"],["375px","","88px","34px"]],elementArray=[".highlight-one",".caption-wrapper"],textCSS=[{},{}],mainText="Your commits will appear here as they are pushed.",subText="Click on the highlighted area to continue",this.addBlockHighlightCSS(video,elementArray,cssProp,textCSS,mainText,subText),$("#skip-step-link").css({top:"10px"}));break;case 56:16===counter&&(this.tutorial_step=17,cssProp=[["133px","32px","36px","7px"],["348px","","80px","7px"]],elementArray=[".highlight-one",".caption-wrapper"],textCSS=[{},{}],mainText="Go back to the Online IDE to finish the tutorial",subText="Click on the toggle button to continue",this.addBlockHighlightCSS(video,elementArray,cssProp,textCSS,mainText,subText),$("#skip-step-link").css({top:"-95px"}));break;case 58:17===counter&&(this.tutorial_step=18,this.$("#skip-step-link").addClass("hidden"),video.pause(),video.currentTime=61,counter++)}return setTimeout((_this=this,function(){return _this.checkVideoTime(counter)}),1e3)},RecruitCandidateSetupView.prototype.openTutorial=function(){return this.tutorial_step=0,this.$(".ide-tutorial")[0].currentTime=0,this.$(".white-grid-block.prelogin").css({width:"820px",height:"600px"}),this.$(".white-grid-block.prelogin").removeClass("fill-grey"),this.$(".white-grid-block-cols").addClass("hidden"),this.$(".ide-tutorial").removeClass("hidden"),this.$(".close-ide-tutorial").removeClass("hidden"),this.$(".begin-tutorial").removeClass("hidden"),this.$(".learn-about-hackerrank").removeClass("hidden"),this.$(".ide-tutorial")[0].currentTime=0,
$(".candidate-setup").append('<div id="overlay-div" class="prelogin-overlay" style="position: fixed; width: 100%; height: 100%; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0,0,0,0.7); z-index: 1;"></div>'),$(".prelogin").css({"z-index":"2",background:"transparent"}),$(".prelogin").append('<div id="video-overlay-div" class="prelogin-overlay"></div>'),$(".close-ide-tutorial").attr("data-event-value",this.tutorial_step)},RecruitCandidateSetupView.prototype.closeTutorial=function(){return this.$(".white-grid-block.prelogin").css({height:"420px",width:"715px"}),this.$(".white-grid-block.prelogin").addClass("fill-grey"),this.$(".white-grid-block-cols").removeClass("hidden"),this.$(".video-tour").addClass("hidden"),this.$(".ide-tutorial")[0].currentTime=61,$(".prelogin-overlay").remove(),$(".btn.to-rba-test").addClass("btn-primary"),$(".btn.to-rba-test").css({color:"#ffffff"}),$(".prelogin").css({"z-index":"auto","background-color":"#eff1f3"})},RecruitCandidateSetupView}(window.HR.GenericView),(HR=null!=(ref=window.HR)?ref:{}).RecruitCandidateSetupView=RecruitCandidateSetupView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var CkeditorLoaderView,ref,ref1;return"function"!=typeof("undefined"!=typeof window&&null!==window&&null!=(ref=window.CKEDITOR)&&null!=(ref1=ref.tools)?ref1.getCsrfToken:void 0)||CKEDITOR.tools.getCsrfToken.overrode||(CKEDITOR.tools.getCsrfToken=function(){return document.querySelector("meta[name=csrf-token]").content},CKEDITOR.tools.getCsrfToken.overrode=!0),CkeditorLoaderView=function(superClass){function CkeditorLoaderView(){return CkeditorLoaderView.__super__.constructor.apply(this,arguments)}return extend(CkeditorLoaderView,superClass),CkeditorLoaderView.prototype.template="x/ckeditor-loader",CkeditorLoaderView.prototype.initialize=function(options){return this.hideThrobber=options.hideThrobber,this.placeholder=options.placeholder,this.afterLoad=options.afterLoad,options.useDirty?this.useDirty=options.useDirty:this.useDirty=!1,options.instance_name?this.instance_name=options.instance_name:this.instance_name="problem-description",this.lsNamespace=options.localstorageNamespace,options.contents&&(this.ckeditor_contents=options.contents),this.ckeditor_contents||(this.ckeditor_contents=this.getLocalStorageData()||""),this.config=this.setupConfig(options.extraFeatures),options.config?this.config=options.config:options.extraConfig&&(this.config=_.extend(this.config,options.extraConfig)),CKEDITOR.env.cssClass+="hidden"},CkeditorLoaderView.prototype._render=function(){var loader;return(loader=HR.appController.templateOnSteroids(this.template,this))&&$(this.el).html(loader),this},CkeditorLoaderView.prototype._applyTemplate=function(){var content,_this;return content=this._template({instance_name:this.instance_name,ckeditor_contents:this.ckeditor_contents?this.ckeditor_contents:void 0,throbber:HR.appController.viewLoader(64),hideThrobber:this.hideThrobber,placeholder:this.placeholder}),this.$el.html(content),setTimeout((_this=this,function(){return _this.postApplyTemplate()})),this},CkeditorLoaderView.prototype.setupConfig=function(extraFeatures){var config;return null==extraFeatures&&(extraFeatures=null),config={extraPlugins:"widget,dialog,codesnippet,image2,customlink,templates,autogrow,latex",filebrowserImageUploadUrl:"/x/api/v1/editor_uploads",filebrowserUploadUrl:"/x/api/v1/editor_uploads",filebrowserBrowseUrl:"",filebrowserImageBrowseUrl:"",filebrowserImageBrowseLinkUrl:"",filebrowserUploadMethod:"form",toolbar:[["Bold","Italic","Underline","Strike","Subscript","Superscript","-","NumberedList","BulletedList","-","Indent","Outdent","-","Link","Unlink"],["Styles","Format","Font","FontSize","TextColor"],["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo","Image","Table"],["Source","CodeSnippet"],["Templates"],{name:"formulae",items:["Latex"]}],contentsCss:[$("#js-hr-typography").attr("href"),HR.util.getCSSPath("hackerrank-core.css"),HR.util.getCSSPath("hackerrank.css"),HR.util.getCSSPath("ckeditor-custom.css")],toolbarCanCollapse:!1,autoGrow_onStartup:!0,extraAllowedContent:"iframe[*];*{*}",allowedContent:!0,removePlugins:"elementspath,liststyle,link",removeDialogTabs:"link:advanced;link:target;link:upload",disableNativeSpellChecker:!1,bodyClass:"hrx-version challenge-text ck_table-wrap",htmlEncodeOutput:!0,tabSpaces:4,language:"en",defaultLanguage:"en"},extraFeatures&&(extraFeatures.plugins.length&&(config.extraPlugins=config.extraPlugins.concat(",",extraFeatures.plugins)),extraFeatures.toolbar.length&&config.toolbar.push(extraFeatures.toolbar)),config},CkeditorLoaderView.prototype.postApplyTemplate=function(){var _this;return this.editor=CKEDITOR.replace(this.instance_name,this.config),this.useDirty&&this.editor.on("change",(_this=this,function(){return _this.change()})),this.editor.on("instanceReady",function(_this){return function(){return setTimeout(function(){return _this.editor.setData(_this.ckeditor_contents)},0),_this.trigger("ready")}}(this)),this.editor.on("focus",function(_this){return function(){return _this.trigger("focus")}}(this)),this.editor.on("blur",function(_this){return function(){return _this.trigger("blur")}}(this)),this.editor.on("loaded",function(_this){return function(){var results;for($(".js-throbber").remove(),_this.editor.container.addClass("animated"),_this.editor.container.addClass("fadeIn"),results=[];_this.editor.container.hasClass("hidden");)results.push(_this.editor.container.removeClass("hidden"));return results}}(this)),this.editor.on("instanceReady",function(_this){return function(){return"function"==typeof _this.afterLoad?_this.afterLoad():void 0}}(this)),CKEDITOR.env.cssClass=CKEDITOR.env.cssClass.replace(/\ hidden/g,""),this},CkeditorLoaderView.prototype.change=function(){if(this.editor.getData()!==this.ckeditor_contents&&(window.HR.appView.dirty=!0),this.lsNamespace)return _.debounce((_this=this,function(){var data;return data=_this.editor.getData(),$.jStorage.set(_this.lsNamespace,data)}),2e3)();var _this},CkeditorLoaderView.prototype.getLocalStorageData=function(){return this.lsNamespace?$.jStorage.get(this.lsNamespace):null},CkeditorLoaderView.prototype.getData=function(){return CKEDITOR.instances[this.instance_name].getData()},CkeditorLoaderView.prototype.setData=function(data){return setTimeout((_this=this,function(){return CKEDITOR.instances[_this.instance_name].setData(data)}),0);var _this},CkeditorLoaderView.prototype.insertHtml=function(htmlData){return CKEDITOR.instances[this.instance_name].insertHtml(htmlData)},CkeditorLoaderView.prototype.showError=function(msg){return HR.util.ajaxmsg(msg,!1,!0)},CkeditorLoaderView.prototype.setMode=function(mode){return CKEDITOR.instances[this.instance_name].setMode(mode)},CkeditorLoaderView}(window.HR.GenericView),HR.CkeditorLoaderView=CkeditorLoaderView})}.call(this);
//# sourceMappingURL=https://staging.hackerrank.net/assets/sourcemaps/recruit-candidate-a71ce7a359cb24b1129ec61dd21e5ca2.js.map