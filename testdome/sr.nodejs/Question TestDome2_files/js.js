var codeMirror;TESTDOME=TESTDOME||{},TESTDOME.jsBundleLoaded=!0,TESTDOME=TESTDOME||{},TESTDOME.utilities={copyToClipboard:function(e){var t=$.extend({},{jqueryElement:null,text:null,hideTime:3e3,onSuccess:function(){}},e||{});if(t.jqueryElement instanceof jQuery)if(t.text||""==t.text){var i=t.jqueryElement[0];new Clipboard(i,{text:t.text}).on("success",function(e){t.onSuccess(e),t.jqueryElement.popover("hide"),t.jqueryElement.tooltip("show"),0<t.hideTime&&setTimeout(function(){t.jqueryElement.tooltip("hide")},t.hideTime)})}else console.error("text must be set",t.text);else console.error("jqueryElement must be set",t.jqueryElement)},bindCopyToClipboardTooltip:function(e){var t=$.extend({},{jqueryElement:null,text:"Copied to clipboard!",placement:"right"},e||{});t.jqueryElement instanceof jQuery||console.error("jqueryElement must be set",t.jqueryElement),t.jqueryElement.tooltip({placement:t.placement,trigger:"manual",title:t.text}).on("show.bs.popover",function(){t.jqueryElement.tooltip("hide")})},callAjax:function(e,t,i,n,a){var r={url:e,data:t,type:"POST",tryCount:0,retryLimit:(a=a||{}).retryLimit||1,timeout:a.timeout||35e3,success:i,error:function(e,t,i){if("timeout"===t&&(this.tryCount++,this.tryCount<=this.retryLimit))return a.retryCallback&&a.retryCallback(),void $.ajax(this);n&&(a.json?n(e.responseJSON):n())}};return a.json&&(r.contentType="application/json; charset=utf-8"),$.ajax(r)},cookiesEnabled:function(){var e=!!navigator.cookieEnabled;return void 0!==navigator.cookiesEnabled||e||(document.cookie="test",e=-1<document.cookie.indexOf("test")),e},enableElement:function(e){$(e).removeAttr("disabled").removeClass("disabled")},disableElement:function(e){$(e).attr("disabled","disabled").addClass("disabled")},scrollToElement:function(e,t,i){var n={duration:"slow",direction:"y",scroller:$("html,body"),align:{my:i?"top":null,at:i?"top":null,vOffset:t}};e.scrollintoview(n)},scrollToTop:function(){$("html, body").animate({scrollTop:0})},showEasy:function(e){e.stop(!0,!0).css("visibility","visible").animate({opacity:1},50)},hideEasy:function(e){e.stop(!0,!0).css("visibility","hidden").animate({opacity:0},150)},getTimeSpanFromMinutes:function(e){return{hours:Math.floor(e/60),minutes:e%60}},getTimeSpanFromTime:function(e){var t=Math.floor(e/864e5);e%=864e5;var i=Math.floor(e/36e5);e%=36e5;var n=Math.floor(e/6e4);return e%=6e4,{days:t,hours:i,minutes:n,seconds:Math.floor(e/1e3)}},displayTimeSpan:function(e,t){var i=e.days||0,n=e.hours||0,a=e.minutes||0,r=e.seconds||0;return 2<=i?0<n?i+"days "+n+"h":i+"days":0<n?0<a?24*i+n+"h "+a+"min":24*i+n+"h":0<a?0<r?!t||a<t?a+"min "+r+"sec":a+1+"min":a+"min":r+"sec"},formatDecimal:function(e,t){return parseFloat(Math.round(100*e)/100).toFixed(t)},formatAmount:function(e,t){return"$"+e.toFixed(t).replace(/(\d)(?=(\d{3})+\.?)/g,"$1,")},roundAmount:function(e,t){for(var i=1;i*t<1;)i*=10;return Math.round(Math.round(e/t)*t*i)/i},unclickButton:function(e){$(e).removeClass("active").blur()},addDays:function(e,t){return new Date(e.getTime()+24*t*60*60*1e3)},addHours:function(e,t){return new Date(e.getTime()+60*t*60*1e3)},getUtcDate:function(){var e=new Date;return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())},displayDate:function(e,t,i){var n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]+" ";if(n+=e.getDate(),(e.getFullYear()!==(new Date).getUTCFullYear()||t||i)&&(n+=","),e.getFullYear()===(new Date).getUTCFullYear()&&!i||(n+=" "+e.getFullYear()),t){var a=e.getMinutes();n+=" "+e.getHours()+":"+(a<10?"0":"")+a}return n},decode:function(e,t){for(var i=e.length,n="",a=0;a<e.length;a++)n+=-1===t.indexOf(e.charAt(a))?e.charAt(a):t.charAt((t.indexOf(e.charAt(a))-i+t.length)%t.length);return n},countTime:function(n,e,a){var r=$("#"+e),o=(new Date).getTime();!function e(){var t=(new Date).getTime(),i=n-Math.round((t-o)/1e3);i<0&&(i=0),r.html(i),0==i?a():setTimeout(e,1e3)}()},registerClosePopoverOnClick:function(){$("body").on("click touchstart",function(e){var t=$(".popover");0!=t.length&&$("abbr").each(function(){$(this).is(e.target)||0!==$(this).has(e.target).length||0!==t.has(e.target).length||$(this).popover("hide")})})},showWaitDialog:function(){$('<div class="modal" id="WaitDialog"><div class="modal-dialog modal-sm"><div class="modal-content"><br/><h4 class="text-center">Please wait...<h4/><br/></div></div></div>').modal({show:!0,backdrop:!0})},hideWaitDialog:function(){$("#WaitDialog").modal("hide")},refreshCodeMirror:function(){$(".CodeMirror").each(function(e,t){t.CodeMirror.refresh()})},preventDoubleSubmission:function(){$("body").on("submit","form",function(){$(this).validate(),$(this).valid()&&$(this).find("[type='submit']").attr("disabled","disabled")})},bindFieldUpdater:function(e){var t=e.field,i=e.getValue||function(e){return e.val()},n=e.setValue||function(e,t){e.val(t)},a=i(t),o=e.additionalReplacements;function r(){n(t,function(e){if(o)for(var t=0;t<o.length;t++){var i=o[t];n=e,a=i.Name,r=i.GetValue(),e=n.split(a).join(r)}var n,a,r;return e}(a))}if(r(),e.refreshElements)for(var s=0;s<e.refreshElements.length;s++)e.refreshElements[s].on("keyup paste click mouseleave",function(){r()})},setAutoSize:function(t){function i(e){e.style.height="auto",e.style.height=e.scrollHeight+n+"px"}var n=window.opera?t.offsetHeight+parseInt(window.getComputedStyle(t,null).getPropertyValue("border-top-width")):t.offsetHeight-t.clientHeight;t.addEventListener&&t.addEventListener("input",function(e){i(t)}),t.attachEvent&&t.attachEvent("onkeyup",function(){i(t)}),i(t)},getChartPopupWidth:function(){return $(document).width()<350?290:320},executeCallbackOnGoogleVisualizationLoad:function(e){TESTDOME.utilities.canAccessGoogleVisualization()?google.charts.setOnLoadCallback(function(){e()}):setTimeout(function(){TESTDOME.utilities.executeCallbackOnGoogleVisualizationLoad(e)},1e3)},canAccessGoogleVisualization:function(){return"google"in window&&"object"==typeof google&&"object"==typeof google.visualization},canAccessGoogleCharts:function(){return"google"in window&&"object"==typeof google&&"object"==typeof google.charts},drawChart:function(e){if(TESTDOME.utilities.canAccessGoogleVisualization()){var t=[["Score","Percentage",{role:"style"}],["0-33%",$("#PerformanceData"+e).data("performance33"),"#ff8282"],["34-66%",$("#PerformanceData"+e).data("performance66"),"#d2d44f"],["67-100%",$("#PerformanceData"+e).data("performance100"),"#77cc5a"]],i=google.visualization.arrayToDataTable(t),n={title:"",width:TESTDOME.utilities.getChartPopupWidth(),height:300,legend:{position:"none"},hAxis:{title:"Score",titleTextStyle:{italic:!1}},vAxis:{title:"# of candidates",textPosition:"none",titleTextStyle:{italic:!1},minValue:0},bar:{groupWidth:"80%"},enableInteractivity:!1,fontName:"Open Sans",chartArea:{top:25,width:"75%",height:"75%"}};new google.visualization.ColumnChart(document.getElementById("ChartHistogram"+e)).draw(i,n)}},determinePopupPlacement:function(e,t,i){var n=$(t).offset(),a=n.top-$(document).scrollTop(),r=$(window).scrollTop()+$(window).height()-n.top,o=$(document).width()-($(t).offset().left+$(t).outerWidth());return i=i||"right",!($(document).width()<768)&&100<a&&100<r?"right"==i&&400<o?"right":"left":r<a?"top":"bottom"},turnOnChartPopup:function(e,i,t){$("#ScoreDistributionText"+e).hide(),$("#ViewScoreDistribution"+e).show(),$("#ViewScoreDistribution"+e).popover({html:!0,trigger:"manual",placement:function(e,t){return TESTDOME.utilities.determinePopupPlacement(e,t,i)},container:"body",delay:50,content:function(){var e=t?t(this):"";return $("#StatisticRelevantCandidatesLimitReached"+e).data("name")?'<div><div class="text-center" style="max-width:'+TESTDOME.utilities.getChartPopupWidth()+'px;"><small>Compare with other <strong>'+$("#Difficulty"+e).data("name").toLowerCase()+'</strong> questions using the score distribution:</small><div><div id="ChartHistogram'+e+'">'+$("#ScoresChart"+e).html()+"</div></div>":'<div id="ChartHistogram'+e+'">'+$("#ScoresChart"+e).html()+"</div>"},template:'<div class="popover popover-wide" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}).on("mouseenter touchstart",function(){var e=this;$(this).popover("show"),$(this).siblings(".popover").on("mouseleave",function(){$(e).popover("hide")})}).on("mouseleave",function(){var e=this,t=function(){setTimeout(function(){$(".popover:hover").length?t():$(e).popover("hide")},50)};t()})},getTagsHtml:function(e){for(var t="",i=0;i<e.length;i++){var n=e[i],a="",r="";null!=n.TopicId?(a="topicId",r=n.TopicId):null!=n.SkillId?(a="skillId",r=n.SkillId):null!=n.IsNew?(a="isNew",r=n.IsNew):null!=n.IsManuallyScored?(a="isManuallyScored",r=n.IsManuallyScored):null!=n.Visibility&&(a="visibility",r=n.Visibility),t+='<abbr class="tag hyperlink" data-filter-name="'+a+'" data-filter-value="'+r+'"><span class="label">'+n.Name+"</span></abbr> ",t+='<div class="popover-content hidden"><div class="title">'+n.Name+'</div><div class="content">'+(n.Description||"")+"</div></div>"}return t},updateQueryStringParameter:function(e,t,i){var n=new RegExp("([?&])("+t+"=)[^&#]*","g");if(e.match(n))return e.replace(n,null!=i?"$1$2"+i:"");if(null==i||0===i.length)return e;var a=(e.indexOf("?")<0?"?":"&")+t+"="+i,r=e.indexOf("#");return r<0?e+a:e.substring(0,r)+a+e.substring(r)},padNumberWithZeros:function(e,t){for(var i=""+e;i.length<t;)i="0"+i;return i},getSingularPlural:function(e,t,i){return 1==e?e+" "+t:e+" "+i},getOriginUrl:function(){return window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},replaceLineBreaksWithHtmlBreak:function(e){return e.replace(/(?:\r\n|\r|\n)/g,"<br/>")},getQuestionTypeShortName:function(e){return 1===e?"Mcq":2===e?"Mca":3===e?"Text":4===e?"Code":5===e?"QualityAssurance":6===e?"NumberPicker":7===e?"FillTheBlanks":8===e?"FileUpload":""},getQueryParams:function(e){return e.split("?")[1]},getURLParameter:function(e,t){return(RegExp(t+"=(.+?)(&|$)").exec(e)||[,null])[1]},htmlEncode:function(e){return $("<div/>").text(e).html()},escapeJSON:function(e){var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t.lastIndex=0,t.test(e)?'"'+e.replace(t,function(e){var t=i[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'},getTimeLimitFeedbackName:function(e){return"Yes"===e?"Yes":"NoNeedMoreTime"===e?"No, it needs more time":"NoNeedLessTime"===e?"No, it needs less time":""},getRelevanceScoreFeedbackDescription:function(e){return"0"===e?"0 - Very dissatisfied":"1"===e?"1 - Quite dissatisfied":"2"===e?"2 - Somewhat dissatisfied":"3"===e?"3 - Neutral":"4"===e?"4 - Somewhat satisfied":"5"===e?"5 - Quite satisfied":e},initializeDragDropMoving:function(e,a,t,r,o){$(e).popover({content:function(){return $(this).data("content")},placement:"auto",trigger:"hover",title:"",html:!0,container:"body",delay:50}),$(a+" > tbody > tr").hover(function(){$(this).find(e).removeClass("hidden")},function(){$(this).find(e).addClass("hidden")}),$(a+" > tbody").sortable({items:"> tr",appendTo:"parent",axis:"y",placeholder:"ui-state-highlight",containment:t,helper:"clone",cursor:"move",handle:e,scroll:!1,start:function(e,t){t.item.startPos=t.item.index()},stop:function(e,t){var i=$(r).data("name"),n=t.item.index();(o=o||{}).oldPosition=t.item.startPos,o.newPosition=n;TESTDOME.utilities.callAjax(i,o,function(e){$(a+" > tbody > tr").each(function(){var e=$(this).index();$(this).find("[name='Position']").val(e),$(this).find("[name='Position']").next("span").find("span:first").html(e+1)})},function(e){window.location.reload(!0)})}}).disableSelection()},getRandomInt:function(e){return Math.floor(Math.random()*Math.floor(e))},getElementHtml:function(e){return $("<div>").append($(e).clone()).html()},setupFormModifiedCallback:function(e,t,i){"function"==typeof i&&$(e).find("*").not(t).on("change keyup paste spinstop",function(){i.call(this,arguments)})},inputFilter:function(e,t){return e.on("input keydown keyup mousedown mouseup select contextmenu drop",function(){t(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")?(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""})},inputNumeric:function(e){return this.inputFilter(e,function(e){return/^\d*$/.test(e)})},isLoggedIn:function(){if(document.cookie&&document.cookie.split){var e=document.cookie.split(";").map(function(e){return e.trim()}).filter(function(e){return e.startsWith("RT_LoggedIn")})[0];return Boolean(e)}return!1},showAuthenticatedOrGuestButtons:function(){if(document.cookie&&document.cookie.split){var i=this.isLoggedIn(),e=document.querySelectorAll("[data-display=authenticated]"),t=document.querySelectorAll("[data-display=unauthenticated]");e.forEach(function(e){var t=e.dataset.displayValue;e.style.display=i?t||"initial":"none"}),e.forEach(function(e){e.style.visibility="initial"}),t.forEach(function(e){var t=e.dataset.displayValue;e.style.display=i?"none":t||"initial"}),t.forEach(function(e){e.style.visibility="initial"})}}},function(l){var r="unobtrusiveAjaxClick",o="unobtrusiveAjaxClickTarget";function d(e,t){for(var i=window,n=(e||"").split(".");i&&n.length;)i=i[n.shift()];return"function"==typeof i?i:(t.push(e),Function.constructor.apply(null,t))}function u(e){return"GET"===e||"POST"===e}function s(o,e){var t,a,r,s;(t=o.getAttribute("data-ajax-confirm"))&&!window.confirm(t)||(a=l(o.getAttribute("data-ajax-loading")),s=parseInt(o.getAttribute("data-ajax-loading-duration"),10)||0,l.extend(e,{type:o.getAttribute("data-ajax-method")||void 0,url:o.getAttribute("data-ajax-url")||void 0,cache:"true"===(o.getAttribute("data-ajax-cache")||"").toLowerCase(),beforeSend:function(e){var t,i,n;return i=e,u(n=r)||i.setRequestHeader("X-HTTP-Method-Override",n),!1!==(t=d(o.getAttribute("data-ajax-begin"),["xhr"]).apply(o,arguments))&&a.show(s),t},complete:function(){a.hide(s),d(o.getAttribute("data-ajax-complete"),["xhr","status"]).apply(o,arguments)},success:function(e,t,i){var n,a,r;n=o,a=e,-1===(i.getResponseHeader("Content-Type")||"text/html").indexOf("application/x-javascript")&&(r=(n.getAttribute("data-ajax-mode")||"").toUpperCase(),l(n.getAttribute("data-ajax-update")).each(function(e,t){switch(r){case"BEFORE":l(t).prepend(a);break;case"AFTER":l(t).append(a);break;case"REPLACE-WITH":l(t).replaceWith(a);break;default:l(t).html(a)}})),d(o.getAttribute("data-ajax-success"),["data","status","xhr"]).apply(o,arguments)},error:function(){d(o.getAttribute("data-ajax-failure"),["xhr","status","error"]).apply(o,arguments)}}),e.data.push({name:"X-Requested-With",value:"XMLHttpRequest"}),u(r=e.type.toUpperCase())||(e.type="POST",e.data.push({name:"X-HTTP-Method-Override",value:r})),l.ajax(e))}l(document).on("click","a[data-ajax=true]",function(e){e.preventDefault(),s(this,{url:this.href,type:"GET",data:[]})}),l(document).on("click","form[data-ajax=true] input[type=image]",function(e){var t=e.target.name,i=l(e.target),n=l(i.parents("form")[0]),a=i.offset();n.data(r,[{name:t+".x",value:Math.round(e.pageX-a.left)},{name:t+".y",value:Math.round(e.pageY-a.top)}]),setTimeout(function(){n.removeData(r)},0)}),l(document).on("click","form[data-ajax=true] :submit",function(e){var t=e.currentTarget.name,i=l(e.target),n=l(i.parents("form")[0]);n.data(r,t?[{name:t,value:e.currentTarget.value}]:[]),n.data(o,i),setTimeout(function(){n.removeData(r),n.removeData(o)},0)}),l(document).on("submit","form[data-ajax=true]",function(e){var t,i=l(this).data(r)||[],n=l(this).data(o),a=n&&(n.hasClass("cancel")||void 0!==n.attr("formnovalidate"));e.preventDefault(),!a&&((t=l(this).data("unobtrusiveValidation"))&&t.validate&&!t.validate())||s(this,{url:this.action,type:this.method||"GET",data:i.concat(l(this).serializeArray())})})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(d){d.extend(d.fn,{validate:function(e){if(this.length){var n=d.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new d.validator(e,this[0]),d.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",function(e){n.settings.submitHandler&&(n.submitButton=e.target),d(this).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==d(this).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.on("submit.validate",function(i){function e(){var e,t;return!n.settings.submitHandler||(n.submitButton&&(e=d("<input type='hidden'/>").attr("name",n.submitButton.name).val(d(n.submitButton).val()).appendTo(n.currentForm)),t=n.settings.submitHandler.call(n,n.currentForm,i),n.submitButton&&e.remove(),void 0!==t&&t)}return n.settings.debug&&i.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,e()):n.form()?n.pendingRequest?!(n.formSubmitted=!0):e():(n.focusInvalid(),!1)})),n)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,t,i;return d(this[0]).is("form")?e=this.validate().form():(i=[],e=!0,t=d(this[0].form).validate(),this.each(function(){e=t.element(this)&&e,i=i.concat(t.errorList)}),t.errorList=i),e},rules:function(e,t){var i,n,a,r,o,s,l=this[0];if(e)switch(n=(i=d.data(l.form,"validator").settings).rules,a=d.validator.staticRules(l),e){case"add":d.extend(a,d.validator.normalizeRule(t)),delete a.messages,n[l.name]=a,t.messages&&(i.messages[l.name]=d.extend(i.messages[l.name],t.messages));break;case"remove":return t?(s={},d.each(t.split(/\s/),function(e,t){s[t]=a[t],delete a[t],"required"===t&&d(l).removeAttr("aria-required")}),s):(delete n[l.name],a)}return(r=d.validator.normalizeRules(d.extend({},d.validator.classRules(l),d.validator.attributeRules(l),d.validator.dataRules(l),d.validator.staticRules(l)),l)).required&&(o=r.required,delete r.required,r=d.extend({required:o},r),d(l).attr("aria-required","true")),r.remote&&(o=r.remote,delete r.remote,r=d.extend(r,{remote:o})),r}}),d.extend(d.expr[":"],{blank:function(e){return!d.trim(""+d(e).val())},filled:function(e){return!!d.trim(""+d(e).val())},unchecked:function(e){return!d(e).prop("checked")}}),d.validator=function(e,t){this.settings=d.extend(!0,{},d.validator.defaults,e),this.currentForm=t,this.init()},d.validator.format=function(i,e){return 1===arguments.length?function(){var e=d.makeArray(arguments);return e.unshift(i),d.validator.format.apply(this,e)}:(2<arguments.length&&e.constructor!==Array&&(e=d.makeArray(arguments).slice(1)),e.constructor!==Array&&(e=[e]),d.each(e,function(e,t){i=i.replace(new RegExp("\\{"+e+"\\}","g"),function(){return t})}),i)},d.extend(d.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:d([]),errorLabelContainer:d([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){9===t.which&&""===this.elementValue(e)||-1!==d.inArray(t.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(e,t,i){"radio"===e.type?this.findByName(e.name).addClass(t).removeClass(i):d(e).addClass(t).removeClass(i)},unhighlight:function(e,t,i){"radio"===e.type?this.findByName(e.name).removeClass(t).addClass(i):d(e).removeClass(t).addClass(i)}},setDefaults:function(e){d.extend(d.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:d.validator.format("Please enter no more than {0} characters."),minlength:d.validator.format("Please enter at least {0} characters."),rangelength:d.validator.format("Please enter a value between {0} and {1} characters long."),range:d.validator.format("Please enter a value between {0} and {1}."),max:d.validator.format("Please enter a value less than or equal to {0}."),min:d.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=d(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||d(this.currentForm),this.containers=d(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,n=this.groups={};function e(e){var t=d.data(this.form,"validator"),i="on"+e.type.replace(/^validate/,""),n=t.settings;n[i]&&!d(this).is(n.ignore)&&n[i].call(t,this,e)}d.each(this.settings.groups,function(i,e){"string"==typeof e&&(e=e.split(/\s/)),d.each(e,function(e,t){n[t]=i})}),i=this.settings.rules,d.each(i,function(e,t){i[e]=d.validator.normalizeRule(t)}),d(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&d(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),d(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),d.extend(this.submitted,this.errorMap),this.invalid=d.extend({},this.errorMap),this.valid()||d(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(e){var t=this.clean(e),i=this.validationTargetFor(t),n=!0;return void 0===(this.lastElement=i)?delete this.invalid[t.name]:(this.prepareElement(i),this.currentElements=d(i),(n=!1!==this.check(i))?delete this.invalid[i.name]:this.invalid[i.name]=!0),d(e).attr("aria-invalid",!n),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(t){if(t){for(var e in d.extend(this.errorMap,t),this.errorList=[],t)this.errorList.push({message:t[e],element:this.findByName(e)[0]});this.successList=d.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){d.fn.resetForm&&d(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors();var e,t=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,"");else t.removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{d(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===d.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var e=this,t={};return d(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in t||!e.objectLength(d(this).rules()))&&(t[this.name]=!0)})},clean:function(e){return d(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return d(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=d([]),this.toHide=d([]),this.currentElements=d([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(e){var t,i=d(e),n=e.type;return"radio"===n||"checkbox"===n?this.findByName(e.name).filter(":checked").val():"number"===n&&void 0!==e.validity?!e.validity.badInput&&i.val():"string"==typeof(t=i.val())?t.replace(/\r/g,""):t},check:function(t){t=this.validationTargetFor(this.clean(t));var e,i,n,a=d(t).rules(),r=d.map(a,function(e,t){return t}).length,o=!1,s=this.elementValue(t);for(i in a){n={method:i,parameters:a[i]};try{if("dependency-mismatch"===(e=d.validator.methods[i].call(this,s,t,n.parameters))&&1===r){o=!0;continue}if(o=!1,"pending"===e)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!e)return this.formatAndAdd(t,n),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+n.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+n.method+"' method."),e}}if(!o)return this.objectLength(a)&&this.successList.push(t),!0},customDataMessage:function(e,t){return d(e).data("msg"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase())||d(e).data("msg")},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(e,t){return this.findDefined(this.customMessage(e.name,t),this.customDataMessage(e,t),!this.settings.ignoreTitle&&e.title||void 0,d.validator.messages[t],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t.method),n=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,t.parameters,e):n.test(i)&&(i=d.validator.format(i.replace(n,"{$1}"),t.parameters)),this.errorList.push({message:i,element:e,method:t.method}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,i;for(e=0;this.errorList[e];e++)i=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return d(this.errorList).map(function(){return this.element})},showLabel:function(e,t){var i,n,a,r=this.errorsFor(e),o=this.idOrName(e),s=d(e).attr("aria-describedby");r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(t)):(i=r=d("<"+this.settings.errorElement+">").attr("id",o+"-error").addClass(this.settings.errorClass).html(t||""),this.settings.wrapper&&(i=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement(i,d(e)):i.insertAfter(e),r.is("label")?r.attr("for",o):0===r.parents("label[for='"+o+"']").length&&(a=r.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),s?s.match(new RegExp("\\b"+a+"\\b"))||(s+=" "+a):s=a,d(e).attr("aria-describedby",s),(n=this.groups[e.name])&&d.each(this.groups,function(e,t){t===n&&d("[name='"+e+"']",this.currentForm).attr("aria-describedby",r.attr("id"))}))),!t&&this.settings.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r,e)),this.toShow=this.toShow.add(r)},errorsFor:function(e){var t=this.idOrName(e),i=d(e).attr("aria-describedby"),n="label[for='"+t+"'], label[for='"+t+"'] *";return i&&(n=n+", #"+i.replace(/\s+/g,", #")),this.errors().filter(n)},idOrName:function(e){return this.groups[e.name]||!this.checkable(e)&&e.id||e.name},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),d(e).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return d(this.currentForm).find("[name='"+e+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return d("option:selected",t).length;case"input":if(this.checkable(t))return this.findByName(t.name).filter(":checked").length}return e.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!d(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!d.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(e,t){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(d(this.currentForm).submit(),this.formSubmitted=!1):!t&&0===this.pendingRequest&&this.formSubmitted&&(d(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return d.data(e,"previousValue")||d.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})},destroy:function(){this.resetForm(),d(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,t){e.constructor===String?this.classRuleSettings[e]=t:d.extend(this.classRuleSettings,e)},classRules:function(e){var t={},i=d(e).attr("class");return i&&d.each(i.split(" "),function(){this in d.validator.classRuleSettings&&d.extend(t,d.validator.classRuleSettings[this])}),t},normalizeAttributeRule:function(e,t,i,n){/min|max/.test(i)&&(null===t||/number|range|text/.test(t))&&(n=Number(n),isNaN(n)&&(n=void 0)),n||0===n?e[i]=n:t===i&&"range"!==t&&(e[i]=!0)},attributeRules:function(e){var t,i,n={},a=d(e),r=e.getAttribute("type");for(t in d.validator.methods)i="required"===t?(""===(i=e.getAttribute(t))&&(i=!0),!!i):a.attr(t),this.normalizeAttributeRule(n,r,t,i);return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(e){var t,i,n={},a=d(e),r=e.getAttribute("type");for(t in d.validator.methods)i=a.data("rule"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()),this.normalizeAttributeRule(n,r,t,i);return n},staticRules:function(e){var t={},i=d.data(e.form,"validator");return i.settings.rules&&(t=d.validator.normalizeRule(i.settings.rules[e.name])||{}),t},normalizeRules:function(n,a){return d.each(n,function(e,t){if(!1!==t){if(t.param||t.depends){var i=!0;switch(typeof t.depends){case"string":i=!!d(t.depends,a.form).length;break;case"function":i=t.depends.call(a,a)}i?n[e]=void 0===t.param||t.param:delete n[e]}}else delete n[e]}),d.each(n,function(e,t){n[e]=d.isFunction(t)?t(a):t}),d.each(["minlength","maxlength"],function(){n[this]&&(n[this]=Number(n[this]))}),d.each(["rangelength","range"],function(){var e;n[this]&&(d.isArray(n[this])?n[this]=[Number(n[this][0]),Number(n[this][1])]:"string"==typeof n[this]&&(e=n[this].replace(/[\[\]]/g,"").split(/[\s,]+/),n[this]=[Number(e[0]),Number(e[1])]))}),d.validator.autoCreateRanges&&(null!=n.min&&null!=n.max&&(n.range=[n.min,n.max],delete n.min,delete n.max),null!=n.minlength&&null!=n.maxlength&&(n.rangelength=[n.minlength,n.maxlength],delete n.minlength,delete n.maxlength)),n},normalizeRule:function(e){if("string"==typeof e){var t={};d.each(e.split(/\s/),function(){t[this]=!0}),e=t}return e},addMethod:function(e,t,i){d.validator.methods[e]=t,d.validator.messages[e]=void 0!==i?i:d.validator.messages[e],t.length<3&&d.validator.addClassRules(e,d.validator.normalizeRule(e))},methods:{required:function(e,t,i){if(!this.depend(i,t))return"dependency-mismatch";if("select"!==t.nodeName.toLowerCase())return this.checkable(t)?0<this.getLength(e,t):0<e.length;var n=d(t).val();return n&&0<n.length},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var i,n,a=0,r=0,o=!1;if((e=e.replace(/\D/g,"")).length<13||19<e.length)return!1;for(i=e.length-1;0<=i;i--)n=e.charAt(i),r=parseInt(n,10),o&&9<(r*=2)&&(r-=9),a+=r,o=!o;return a%10==0},minlength:function(e,t,i){var n=d.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||i<=n},maxlength:function(e,t,i){var n=d.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||n<=i},rangelength:function(e,t,i){var n=d.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||n>=i[0]&&n<=i[1]},min:function(e,t,i){return this.optional(t)||i<=e},max:function(e,t,i){return this.optional(t)||e<=i},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},equalTo:function(e,t,i){var n=d(i);return this.settings.onfocusout&&n.off(".validate-equalTo").on("blur.validate-equalTo",function(){d(t).valid()}),e===n.val()},remote:function(r,o,e){if(this.optional(o))return"dependency-mismatch";var s,t,l=this.previousValue(o);return this.settings.messages[o.name]||(this.settings.messages[o.name]={}),l.originalMessage=this.settings.messages[o.name].remote,this.settings.messages[o.name].remote=l.message,e="string"==typeof e?{url:e}:e,l.old===r?l.valid:(l.old=r,(s=this).startRequest(o),(t={})[o.name]=r,d.ajax(d.extend(!0,{mode:"abort",port:"validate"+o.name,dataType:"json",data:t,context:s.currentForm,success:function(e){var t,i,n,a=!0===e||"true"===e;s.settings.messages[o.name].remote=l.originalMessage,a?(n=s.formSubmitted,s.prepareElement(o),s.formSubmitted=n,s.successList.push(o),delete s.invalid[o.name],s.showErrors()):(t={},i=e||s.defaultMessage(o,"remote"),t[o.name]=l.message=d.isFunction(i)?i(r):i,s.invalid[o.name]=!0,s.showErrors(t)),l.valid=a,s.stopRequest(o,a)}},e)),"pending")}}});var n,a={};d.ajaxPrefilter?d.ajaxPrefilter(function(e,t,i){var n=e.port;"abort"===e.mode&&(a[n]&&a[n].abort(),a[n]=i)}):(n=d.ajax,d.ajax=function(e){var t=("mode"in e?e:d.ajaxSettings).mode,i=("port"in e?e:d.ajaxSettings).port;return"abort"===t?(a[i]&&a[i].abort(),a[i]=n.apply(this,arguments),a[i]):n.apply(this,arguments)})}),function(e){"function"==typeof define&&define.amd?define("jquery.validate.unobtrusive",["jquery-validation"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery-validation")):jQuery.validator.unobtrusive=e(jQuery)}(function(l){var e,o=l.validator,s="unobtrusiveValidation";function d(e,t,i){e.rules[t]=i,e.message&&(e.messages[t]=e.message)}function u(e){return e.replace(/([!"#$%&'()*+,./:;<=>?@\[\\\]^`{|}~])/g,"\\$1")}function c(e){return e.substr(0,e.lastIndexOf(".")+1)}function h(e,t){return 0===e.indexOf("*.")&&(e=e.replace("*.",t)),e}function m(e){var t=l(this),i="__jquery_unobtrusive_validation_form_reset";if(!t.data(i)){t.data(i,!0);try{t.data("validator").resetForm()}finally{t.removeData(i)}t.find(".validation-summary-errors").addClass("validation-summary-valid").removeClass("validation-summary-errors"),t.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").removeData("unobtrusiveContainer").find(">*").removeData("unobtrusiveContainer")}}function f(n){function e(e,t){var i=r[e];i&&l.isFunction(i)&&i.apply(n,t)}var t=l(n),i=t.data(s),a=l.proxy(m,n),r=o.unobtrusive.options||{};return i||(i={options:{errorClass:r.errorClass||"input-validation-error",errorElement:r.errorElement||"span",errorPlacement:function(){(function(e,t){var i=l(this).find("[data-valmsg-for='"+u(t[0].name)+"']"),n=i.attr("data-valmsg-replace"),a=n?!1!==l.parseJSON(n):null;i.removeClass("field-validation-valid").addClass("field-validation-error"),e.data("unobtrusiveContainer",i),a?(i.empty(),e.removeClass("input-validation-error").appendTo(i)):e.hide()}).apply(n,arguments),e("errorPlacement",arguments)},invalidHandler:function(){(function(e,t){var i=l(this).find("[data-valmsg-summary=true]"),n=i.find("ul");n&&n.length&&t.errorList.length&&(n.empty(),i.addClass("validation-summary-errors").removeClass("validation-summary-valid"),l.each(t.errorList,function(){l("<li />").html(this.message).appendTo(n)}))}).apply(n,arguments),e("invalidHandler",arguments)},messages:{},rules:{},success:function(){(function(e){var t=e.data("unobtrusiveContainer");if(t){var i=t.attr("data-valmsg-replace"),n=i?l.parseJSON(i):null;t.addClass("field-validation-valid").removeClass("field-validation-error"),e.removeData("unobtrusiveContainer"),n&&t.empty()}}).apply(n,arguments),e("success",arguments)}},attachValidation:function(){t.off("reset."+s,a).on("reset."+s,a).validate(this.options)},validate:function(){return t.validate(),t.valid()}},t.data(s,i)),i}return o.unobtrusive={adapters:[],parseElement:function(n,e){var t,a,r,o=l(n),s=o.parents("form")[0];s&&((t=f(s)).options.rules[n.name]=a={},t.options.messages[n.name]=r={},l.each(this.adapters,function(){var e="data-val-"+this.name,t=o.attr(e),i={};void 0!==t&&(e+="-",l.each(this.params,function(){i[this]=o.attr(e+this)}),this.adapt({element:n,form:s,message:t,params:i,rules:a,messages:r}))}),l.extend(a,{__dummy__:!0}),e||t.attachValidation())},parse:function(e){var t=l(e),i=t.parents().addBack().filter("form").add(t.find("form")).has("[data-val=true]");t.find("[data-val=true]").each(function(){o.unobtrusive.parseElement(this,!0)}),i.each(function(){var e=f(this);e&&e.attachValidation()})}},(e=o.unobtrusive.adapters).add=function(e,t,i){return i||(i=t,t=[]),this.push({name:e,params:t,adapt:i}),this},e.addBool=function(t,i){return this.add(t,function(e){d(e,i||t,!0)})},e.addMinMax=function(e,n,a,r,t,i){return this.add(e,[t||"min",i||"max"],function(e){var t=e.params.min,i=e.params.max;t&&i?d(e,r,[t,i]):t?d(e,n,t):i&&d(e,a,i)})},e.addSingleVal=function(t,i,n){return this.add(t,[i||"val"],function(e){d(e,n||t,e.params[i])})},o.addMethod("__dummy__",function(e,t,i){return!0}),o.addMethod("regex",function(e,t,i){var n;return!!this.optional(t)||(n=new RegExp(i).exec(e))&&0===n.index&&n[0].length===e.length}),o.addMethod("nonalphamin",function(e,t,i){var n;return i&&(n=(n=e.match(/\W/g))&&n.length>=i),n}),o.methods.extension?(e.addSingleVal("accept","mimtype"),e.addSingleVal("extension","extension")):e.addSingleVal("extension","extension","accept"),e.addSingleVal("regex","pattern"),e.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url"),e.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range"),e.addMinMax("minlength","minlength").addMinMax("maxlength","minlength","maxlength"),e.add("equalto",["other"],function(e){var t=c(e.element.name),i=h(e.params.other,t);d(e,"equalTo",l(e.form).find(":input").filter("[name='"+u(i)+"']")[0])}),e.add("required",function(e){"INPUT"===e.element.tagName.toUpperCase()&&"CHECKBOX"===e.element.type.toUpperCase()||d(e,"required",!0)}),e.add("remote",["url","type","additionalfields"],function(n){var a={url:n.params.url,type:n.params.type||"GET",data:{}},r=c(n.element.name);l.each((n.params.additionalfields||n.element.name).replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g),function(e,t){var i=h(t,r);a.data[i]=function(){var e=l(n.form).find(":input").filter("[name='"+u(i)+"']");return e.is(":checkbox")?e.filter(":checked").val()||e.filter(":hidden").val()||"":e.is(":radio")?e.filter(":checked").val()||"":e.val()}}),d(n,"remote",a)}),e.add("password",["min","nonalphamin","regex"],function(e){e.params.min&&d(e,"minlength",e.params.min),e.params.nonalphamin&&d(e,"nonalphamin",e.params.nonalphamin),e.params.regex&&d(e,"regex",e.params.regex)}),e.add("fileextensions",["extensions"],function(e){d(e,"extension",e.params.extensions)}),l(function(){o.unobtrusive.parse(document)}),o.unobtrusive}),function(T){function $(e){var t,i=T(window),n=M.test(e[0].nodeName);return{border:n?{top:0,left:0,bottom:0,right:0}:function(e,t){t=t||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle);var i=!(!document.defaultView||!document.defaultView.getComputedStyle),n={top:parseFloat(i?t.borderTopWidth:T.css(e,"borderTopWidth"))||0,left:parseFloat(i?t.borderLeftWidth:T.css(e,"borderLeftWidth"))||0,bottom:parseFloat(i?t.borderBottomWidth:T.css(e,"borderBottomWidth"))||0,right:parseFloat(i?t.borderRightWidth:T.css(e,"borderRightWidth"))||0};return{top:n.top,left:n.left,bottom:n.bottom,right:n.right,vertical:n.top+n.bottom,horizontal:n.left+n.right}}(e[0]),scroll:{top:(n?i:e).scrollTop(),left:(n?i:e).scrollLeft()},scrollbar:{right:n?0:e.innerWidth()-e[0].clientWidth,bottom:n?0:e.innerHeight()-e[0].clientHeight},rect:(t=e[0].getBoundingClientRect(),{top:n?0:t.top,left:n?0:t.left,bottom:n?e[0].clientHeight:t.bottom,right:n?e[0].clientWidth:t.right})}}var E={vertical:{x:!1,y:!0},horizontal:{x:!0,y:!1},both:{x:!0,y:!0},x:{x:!0,y:!1},y:{x:!1,y:!0}},x={top:{v:"top",h:null},bottom:{v:"bottom",h:null},left:{v:null,h:"left"},right:{v:null,h:"right"},"top left":{v:"top",h:"left"},"top right":{v:"top",h:"right"},"bottom left":{v:"bottom",h:"left"},"bottom right":{v:"bottom",h:"right"}},C={duration:"fast",direction:"both"},M=/^(?:html)$/i;T.fn.extend({scrollintoview:function(t){(t=T.extend({},C,t)).direction=E["string"==typeof t.direction&&t.direction.toLowerCase()]||E.both;var e="";!0===t.direction.x&&(e="horizontal"),!0===t.direction.y&&(e=e?"both":"vertical");var i,n,a,r,o,s,l,d,u,c,h,m,f,p,g=this.eq(0),v=t.scroller?T(t.scroller):g.closest(":scrollable("+e+")");if(0<v.length){v=v.eq(0);var b={e:$(g),s:$(v)},y={top:b.e.rect.top-(b.s.rect.top+b.s.border.top),bottom:b.s.rect.bottom-b.s.border.bottom-b.s.scrollbar.bottom-b.e.rect.bottom,left:b.e.rect.left-(b.s.rect.left+b.s.border.left),right:b.s.rect.right-b.s.border.right-b.s.scrollbar.right-b.e.rect.right},w={};!0===t.direction.y&&(w.scrollTop=(d=b,u=y,c=t.align,h=x[c&&"string"==typeof c.my&&c.my]||{v:null,h:null},m=x[c&&"string"==typeof c.at&&c.at]||{v:null,h:null},f=c&&c.vOffset,p=null,"top"===h.v&&"top"===m.v?p=d.s.scroll.top+u.top:"top"===h.v&&"bottom"===m.v?p=d.s.scroll.top-(d.s.rect.bottom-u.top):"bottom"===h.v&&"top"===m.v?p=d.s.scroll.top+d.e.rect.bottom:"bottom"===h.v&&"bottom"===m.v?p=d.s.scroll.top-u.bottom:u.top<0?p=d.s.scroll.top+u.top:0<u.top&&u.bottom<0&&(p=d.s.scroll.top+Math.min(u.top,-u.bottom)),p?p+(f||0):d.s.scroll.top)),!0===t.direction.x&&(w.scrollLeft=(i=b,n=y,a=t.align,r=x[a&&"string"==typeof a.my&&a.my]||{v:null,h:null},o=x[a&&"string"==typeof a.at&&a.at]||{v:null,h:null},s=a&&a.hOffset,l=null,"left"===r.h&&"left"===o.h?l=i.s.scroll.left+n.left:"left"===r.h&&"right"===o.h?l=i.s.scroll.left-(i.s.rect.right-n.left):"right"===r.h&&"left"===o.h?l=i.s.scroll.left+i.e.rect.right:"right"===r.h&&"right"===o.h?l=i.s.scroll.left-n.right:n.left<0?l=i.s.scroll.left+n.left:0<n.left&&n.right<0&&(l=i.s.scroll.left+Math.min(n.left,-n.right)),l?l+(s||0):i.s.scroll.left)),T.isEmptyObject(w)?T.isFunction(t.complete)&&t.complete.call(v[0]):(M.test(v[0].nodeName)&&(v=T("html,body")),v.animate(w,t.duration).eq(0).queue(function(e){T.isFunction(t.complete)&&t.complete.call(v[0]),e()}))}return this}});var l={auto:!0,scroll:!0,visible:!1,hidden:!1};T.extend(T.expr[":"],{scrollable:function(e,t,i,n){var a=E["string"==typeof i[3]&&i[3].toLowerCase()]||E.both,r=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle,o={x:l[r.overflowX.toLowerCase()]||!1,y:l[r.overflowY.toLowerCase()]||!1,isRoot:M.test(e.nodeName)};if(!o.x&&!o.y&&!o.isRoot)return!1;var s={height:{scroll:e.scrollHeight,client:e.clientHeight},width:{scroll:e.scrollWidth,client:e.clientWidth},scrollableX:function(){return(o.x||o.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(o.y||o.isRoot)&&this.height.scroll>this.height.client}};return a.y&&s.scrollableY()||a.x&&s.scrollableX()}})}(jQuery),function(){function a(e){var t,i,n=0,a=0;for(i=0;i<e.length;){for(t=e.codePointAt(i),n=0;t;)n+=1,t>>=8;i+=Math.round(n/2),a+=1}return a}$.validator.unobtrusive.adapters.add("requiredif",["dependentproperty","desiredvalue"],function(e){e.rules.requiredif=e.params,e.messages.requiredif=e.message}),$.validator.addMethod("requiredif",function(e,t,i){var n=i.desiredvalue;n=(null==n?"":n).toString();var a=$("input[id$='"+i.dependentproperty+"']").attr("type"),r={};"checkbox"==a||"radio"==a?r=$("input[id$='"+i.dependentproperty+"']:checked").val():r=$("#"+i.dependentproperty).val();return $.trim(n).toLowerCase()!==$.trim(r).toLocaleLowerCase()||$.validator.methods.required.call(this,e,t,i)}),$.validator.unobtrusive.adapters.add("unicodeminlength",["length"],function(e){e.rules.unicodeminlength=e.params,e.messages.unicodeminlength=e.message}),$.validator.addMethod("unicodeminlength",function(e,t,i){var n=i.length||0;return!e||a(e)>=n}),$.validator.unobtrusive.adapters.add("unicodemaxlength",["length"],function(e){e.rules.unicodemaxlength=e.params,e.messages.unicodemaxlength=e.message}),$.validator.addMethod("unicodemaxlength",function(e,t,i){var n=i.length||0;return!e||a(e)<=n})}(),TESTDOME=TESTDOME||{},TESTDOME.page=TESTDOME.page||{},TESTDOME.page.codeBoxes=[],TESTDOME.adminUI={loaderIcon:'<span class="glyphicon glyphicon-refresh spinning"></span>',refreshQuestionTagsPopovers:function(){$(".questiondifficulty-description").each(function(e,t){if($(t).next()&&$(t).next().find(".content")&&$(t).next().find(".content").html()&&0<$(t).next().find(".content").html().length){var i="";$(t).hasClass("hyperlink")&&(i=" (click to filter)"),$(t).popover({html:!0,trigger:"hover",placement:TESTDOME.utilities.determinePopupPlacement,container:"body",delay:50,title:function(){return $(this).next().find(".title").html()+i},content:function(){return $(this).next().find(".content").html()}})}})},initializeAdminUI:function(){jQuery.ui&&$(window).resize(function(){$("#dialog").dialog("option","position","center")}),$(function(){$(window).load(function(){$(".breadcrumb li [data-content]").popover({content:function(){if($(this).data("content")!=$(this).html())return $(this).data("content")},delay:50,placement:"bottom",trigger:"hover",container:"body"}),TESTDOME.adminUI.refreshQuestionTagsPopovers()})}),$("span.field-validation-valid, span.field-validation-error").each(function(){$(this).addClass("help-inline")}),$(".validation-summary-errors").each(function(){0===$(this).find("ul > li").html().length?$(this).hide():($(this).addClass("alert"),$(this).addClass("alert-error"),$(this).addClass("alert-block"))}),$("form").submit(function(){$(this).valid()?$(this).find("div.control-group").each(function(){0===$(this).find("span.field-validation-error").length&&$(this).removeClass("error")}):($(this).find("div.control-group").each(function(){0<$(this).find("span.field-validation-error").length&&$(this).addClass("error")}),$(".validation-summary-errors").each(function(){!1===$(this).hasClass("alert-error")&&($(this).addClass("alert"),$(this).addClass("alert-error"),$(this).addClass("alert-block"))}),0<$("span.field-validation-valid, span.field-validation-error").length&&(TESTDOME.adminUI.showFloatingMessage("There are errors on this page. Fix them and try to save again.",!0,!1,3e3),TESTDOME.utilities.scrollToElement($("span.field-validation-valid, span.field-validation-error").first(),100)))}),$("form").each(function(){$(this).find("div.control-group").each(function(){0<$(this).find("span.field-validation-error").length&&$(this).addClass("error")})}),$("input[type='password'], input[type='text']").blur(function(){!0===$(this).hasClass("input-validation-error")||0<$(this).closest(".control-group").find("span.field-validation-error").length?($(this).addClass("error"),$(this).closest(".control-group").addClass("error")):($(this).removeClass("error"),$(this).closest(".control-group").removeClass("error"))}),$.validator.setDefaults({highlight:function(e){$(e).closest(".control-group").addClass("error")},unhighlight:function(e){$(e).closest(".control-group").removeClass("error")}}),$(".testdome-disabled-action-viewer").popover({html:!0,trigger:"manual",placement:TESTDOME.utilities.determinePopupPlacement,container:"body",delay:50,content:TESTDOME.adminUI.requestPermissionMessage}).on("mouseenter",function(){var e=this;$(this).popover("show"),$(this).siblings(".popover").on("mouseleave",function(){$(e).popover("hide")})}).on("mouseleave",function(){var e=this,t=function(){setTimeout(function(){$(".popover:hover").length?t():$(e).popover("hide")},50)};t()}),$(".testdome-disabled-action-viewer").click(function(){return!1}),$(document).on("click","#RequestPermissionUpgrade",function(){return $(".testdome-disabled-action-viewer").popover("destroy"),$(".loader").show(),TESTDOME.utilities.callAjax("/account/request-permission-upgrade",{},function(e){$(".loader").hide(),e?TESTDOME.adminUI.displayMessage("Permission upgrade request has been sent. Account owner will receive the request and consider to grant you a permission."):TESTDOME.adminUI.displayError("Error occurred while sending permission upgrade request! Please refresh the page.")},function(){$(".loader").hide(),TESTDOME.adminUI.displayError("Error occurred while contacting server! Please refresh the page.")}),!1})},openDialog:function(e,t,i,n,a){var r;e.preventDefault(),r=a||t.attr("href"),$dialog=$('<div id="dialog" style="overflow:hidden;"></div>').html('<iframe style="border: 0px;" src="'+r+'" width="100%" height="100%"></iframe>').dialog({autoOpen:!1,modal:!0,draggable:!1,resizable:!1,height:n,width:i}),$dialog.dialog("open")},reloadSelectItems:function(e,i,t){i.empty(),t&&$.getJSON(e,{categoryId:t},function(e){$.each(e,function(e,t){i.append($("<option/>").attr("value",t.Value).text(t.Text))}),i.change()})},toggleTree:function(e,t,i){for(var n=$(e),a=0;a<t;a++)n=n.parent();var r=n.next();if(r.is(":visible"))r.hide(),i&&$(e).text("+");else{r.show();var o=n.offset().top-50;$("html, body").animate({scrollTop:o},1e3),i&&$(e).text("-")}},expandBox:function(e,t){$(e).click(function(){return $(t).is(":visible")?$(t).hide("blind"):$(t).show("blind"),!1})},findNearest:function(e,t,i,n){for(var a=null,r=null,o=0;o<n.length;o++)if(e&&n[o]<=i||t&&n[o]>=i){var s=Math.abs(i-n[o]);(null===r||s<r)&&(a=n[o],r=s)}return a},initializeSlider:function(r,n,o){null==o&&(o=$("#slider"));var e=n.val();function s(n){$(".ui-slider-legend-label").each(function(e,t){var i=$(t);i.text()==n?i.css("font-weight","bold"):i.css("font-weight","normal")})}var l=o.slider({min:r[0],max:r[r.length-1],values:[e],slide:function(e,t){var i=e.keyCode!==$.ui.keyCode.RIGHT,n=e.keyCode!==$.ui.keyCode.LEFT,a=TESTDOME.adminUI.findNearest(i,n,t.value,r);return t.value===t.values[0]?(l.slider("values",0,a),s(a)):l.slider("values",1,a),!1},change:function(e,t){var i=n.val()!=t.value;n.val(t.value),i&&n.trigger("change")}});function t(e,t){$(".ui-slider-legend").remove();var i=o.slider(),n=i.width();n=+n;var a='<div class="ui-slider-legend" style="position:relative">';a+='<div style="float:left;margin-left:-3px;" class="ui-slider-legend-label">'+e[0]+"</div>";for(var r=1;r<e.length-1;r++){a+='<div class="ui-slider-legend-label" style="position:absolute;width:20px;text-align:center;margin-left:'+(parseInt(n*((e[r]-e[0])/(e[e.length-1]-e[0])))-8)+'px;">'+e[r]+"</div>"}a+='<div class="ui-slider-legend-label" style="float:right;margin-right:-7px;">',a+=e[e.length-1],a+="</div></div>",i.after(a),s(t.val())}t(r,n),$(window).resize(function(){t(r,n)})},initializeSubmissionSlider:function(e,u){var c=e;$(".submission-slider").each(function(e){var t=$(this);try{if(t.slider("widget"))return}catch(e){}var i=$("#"+t.data("source"));if(null==u||i.data("question-id")==u){for(var o=[],s=(i.children().each(function(e){o.push({questionId:i.data("question-id"),index:$(this).data("index"),time:$(this).data("time"),answerId:$(this).data("answer-id")})}),o[o.length-1].answerId),r=[],n=1;n<=o.length;n++)r[n-1]=n;var l=function(e,i){return s=e,i.next().find(".time-tooltip").each(function(){$(this).data("answer-id")==s?($(this).removeClass("hidden"),$(this).scrollintoview()):$(this).addClass("hidden")}),i.closest(c).find(".loader").show(),function(e){if(4==e.questionType){var t=i.closest(c).find(".testdome-codebox").data("uid");TESTDOME.page.codeBoxes[t].setValue(e.answer),TESTDOME.utilities.refreshCodeMirror(),i.closest(c).find(".verify-console").html(e.output)}else 5!=e.questionType&&9!==e.questionType||(i.parents(c).find(".question-answer").html(e.answer),i.parents(c).find(".verify-console").html(e.output));i.closest(c).find(".loader").hide()}},d=t.slider({min:1,max:o.length,values:[o.length],slide:function(e,t){var i=e.keyCode!==$.ui.keyCode.RIGHT,n=e.keyCode!==$.ui.keyCode.LEFT,a=TESTDOME.adminUI.findNearest(i,n,t.value,r);return t.value===t.values[0]?d.slider("values",0,a):d.slider("values",1,a),h(o[a-1].questionId,o[a-1].answerId,l(o[a-1].answerId,d)),!1}});a(r,d),$("#submission-slider-scroll-"+i.data("question-id")).animate({scrollLeft:d.width()},10),$(window).resize(function(){a(r,d)})}function a(e,t){var i=50*(e.length-1);t.css("width",i+"px"),t.siblings(".submission-slider-legend").each(function(e){$(this).remove()}),i=+t.width();var n='<div class="submission-slider-legend">';n+='<div class="hidden time-tooltip" data-question-id="'+o[0].questionId+'" data-answer-id="'+o[0].answerId+'">'+o[0].time+"</div>",n+='<div class="submission-slider-legend-label" data-question-id="'+o[0].questionId+'" data-answer-id="'+o[0].answerId+'"  data-value="1" data-toggle="tooltip" title="'+o[0].time+'"></div>';for(var a=1;a<e.length;a++){var r=50*a-7;n+='<div class="submission-slider-separator" style="margin-left:'+(r-27)+'px;" >&nbsp;</div>',n+='<div class="hidden time-tooltip" style="margin-left:'+(r-40)+'px;" data-question-id="'+o[a].questionId+'" data-answer-id="'+o[a].answerId+'"  >'+o[a].time+"</div>",n+='<div class="submission-slider-legend-label" style="margin-left:'+r+'px;" data-question-id="'+o[a].questionId+'" data-answer-id="'+o[a].answerId+'"  data-value="'+(a+1)+'" data-toggle="tooltip" title="'+o[a].time+'" ></div>'}n+="</div>",t.after(n),t.next().children(".submission-slider-legend-label").each(function(e){$(this).tooltip({container:"body"}),$(this).unbind("click"),$(this).on("click",function(){t.slider("values",0,$(this).data("value")),h($(this).data("question-id"),$(this).data("answer-id"),l($(this).data("answer-id"),t))})}),t.next().find(".time-tooltip").each(function(){$(this).data("answer-id")==s?$(this).removeClass("hidden"):$(this).addClass("hidden")})}});var a=$("#TestShareKey").data("name"),r=$("#TestCandidateId").data("name"),o=$("#CandidateShareKey").data("name"),s=$("#GetQuestionAnswerUrl").data("name");function h(e,t,i){var n={candidateId:r,questionId:e,answerId:t,candidateShareKey:o,testShareKey:a};TESTDOME.utilities.callAjax(s,n,i,function(e){TESTDOME.adminUI.displayError("Error occurred when getting the candidate answer! Please refresh the page.")})}$(".timeline-view").unbind("click"),$(".timeline-view").on("click",function(){$(this).closest(c).find(".changes-holder").hide(),$(this).closest(c).find(".solution-holder").hide(),$(this).closest(c).find(".answer-holder").show(),$(this).closest(c).find(".submission-slider-scroll").show(),$(this).addClass("active"),$(this).closest(c).find(".changes-view").removeClass("active"),$(this).closest(c).find(".solution-view").removeClass("active"),TESTDOME.utilities.refreshCodeMirror(),TESTDOME.adminUI.refreshCodeBoxes()}),$(".changes-view").unbind("click"),$(".changes-view").on("click",function(){$(this).closest(c).find(".solution-holder").hide(),$(this).closest(c).find(".answer-holder").hide(),$(this).closest(c).find(".submission-slider-scroll").hide(),$(this).closest(c).find(".changes-holder").show(),$(this).addClass("active"),$(this).closest(c).find(".timeline-view").removeClass("active"),$(this).closest(c).find(".solution-view").removeClass("active"),TESTDOME.utilities.refreshCodeMirror(),TESTDOME.adminUI.refreshCodeBoxes()}),$(".solution-view").unbind("click"),$(".solution-view").on("click",function(){$(this).closest(c).find(".changes-holder").hide(),$(this).closest(c).find(".answer-holder").hide(),$(this).closest(c).find(".submission-slider-scroll").hide(),$(this).closest(c).find(".solution-holder").show(),$(this).addClass("active"),$(this).closest(c).find(".changes-view").removeClass("active"),$(this).closest(c).find(".timeline-view").removeClass("active"),TESTDOME.utilities.refreshCodeMirror(),TESTDOME.adminUI.refreshCodeBoxes()})},showInfoMessageBox:function(){0==$("#InfoMessageBox").length&&$("header").after('<div class="container"><div id="InfoMessageBox" class="infomessage-box mtop"></div></div>')},displayAjaxResultMessages:function(e,i){e.Success?$.each(e.Messages,function(e,t){i?TESTDOME.adminUI.showFloatingMessage(t,!1):TESTDOME.adminUI.displayMessage(t)}):$.each(e.ErrorMessages,function(e,t){i?TESTDOME.adminUI.showFloatingMessage(t,!0):TESTDOME.adminUI.displayError(t)})},showFloatingMessage:function(e,t,i,n){n=n||5e3;var a=$('<div class="alert '+(t?"alert-danger":"alert-success")+' "><button aria-hidden="true" data-dismiss="alert" class="close" type="button"></button>'+e+"</div>");$("#FloatingMessageInside").append(a);var r=a.show().delay(n);i||r.fadeOut(2e3,function(){a.remove()})},displayMessage:function(e){TESTDOME.adminUI.showInfoMessageBox(),$("#InfoMessageBox").html('<div class="alert alert-success alert-dismissable mtop"><button aria-hidden="true" data-dismiss="alert" class="close" type="button"></button>'+e+"</div>").show()},displayError:function(e){TESTDOME.adminUI.showInfoMessageBox(),$("#InfoMessageBox").html('<div class="alert alert-danger alert-dismissable mtop"><button aria-hidden="true" data-dismiss="alert" class="close" type="button"></button>'+e+"</div>").show()},clearMessage:function(){$("#InfoMessageBox").hide()},actionFormModified:function(){var e=$("#MainMenuActions");e.length&&(e.show(),$("#Save").removeClass("disabled").removeAttr("disabled"),$("#MainMenuItems").hide(),TESTDOME.page.formModified=1)},initializeActionFormModifiedEventHandlers:function(e,t){TESTDOME.utilities.setupFormModifiedCallback(e,$(t).add("div, .ignore-main-menu"),function(){TESTDOME.adminUI.actionFormModified()}),$(e).find("*").filter(t).filter('button,input[type="button"],a').click(function(){TESTDOME.page.formModified=0})},mainMenuFormButtons:function(t,e,i){function n(){$(".loader").show(),$("#MainMenuSave,#MainMenuCancel,#Save").addClass("disabled").attr("disabled","disabled")}TESTDOME.adminUI.initializeActionFormModifiedEventHandlers(t,e),$("#MainMenuSave,#Save").click(function(){if(i){var e=i();if(void 0!==e)return e}return $(t).valid()?"disabled"===$(this).attr("disabled")||(TESTDOME.page.formModified=0,n(),$(t).submit()):(TESTDOME.adminUI.showFloatingMessage("There are errors on this page. Fix them and try to save again.",!0,!1,3e3),TESTDOME.utilities.scrollToElement($(".field-validation-error").first(),-200,!0)),!1}),$("#MainMenuCancel").click(function(){return TESTDOME.page.formModified=0,n(),window.location.reload(),!1}),$(window).bind("beforeunload",function(e){if(1===TESTDOME.page.formModified)return"There are unsaved changes that will be lost if you decide to continue."})},logError:function(e){var t=$("<div/>").text(e).html();if(window.appInsights)appInsights.trackException({exception:new Error(t)});else try{TESTDOME.utilities.callAjax($("#LogErrorUrl").data("name"),{message:t},null,null)}catch(e){}},checkCandidateUIScripts:function(){if(!(window.Tour&&window.Clipboard&&window.CodeMirror&&window.jQuery&&jQuery.ui&&$.fn.popover)){var e="Url: "+window.location.href+";";window.Tour||(e+="Tour not loaded;"),window.Clipboard||(e+="ClipboardJs not loaded;"),window.CodeMirror||(e+="CodeMirror not loaded;"),window.jQuery||(e+="jQuery not loaded;"),jQuery.ui||(e+="Jquery UI not loaded;"),$.fn.popover,TESTDOME.adminUI.logError(e),$("body").replaceWith('<div class="container"><h2>The required scripts have not loaded correctly!</h2><h4>Try reloading the page or using another browser. If you are still unable to run the test, <a href="'+testDomeSupportUrl()+'" target="_blank">contact support</a>.</h4></div>')}},htmlEditor:function(e,t,i,n){var a={plugins:"dialogui,dialog,basicstyles,clipboard,panel,floatpanel,menu,contextmenu,button,toolbar,enterkey,entities,popup,filebrowser,floatingspace,listblock,richcombo,format,horizontalrule,htmlwriter,wysiwygarea,image,indent,indentlist,fakeobjects,link,list,magicline,pastetext,pastefromword,removeformat,showborders,table,tabletools,menubutton,tab,undo,resize,sourcedialog",removeButtons:"Anchor,Strike,Outdent,Indent,Format,RemoveFormat",allowedContent:"p; h1; h2; img[!src,alt,width,height,style]; table[width]; tbody; thead; th[colspan,rowspan]; tr; td[colspan,rowspan]; strong; em; ul; ol; li; a[!href,target]; hr; code; sup; sub; pre; span; blockquote",extraAllowedContent:"*(*){*}",disallowedContent:"img{width,height}",extraPlugins:"codesnippet",codeSnippet_theme:"vs-custom",codeSnippet_languages:{apache:"Apache",bash:"Bash",coffeescript:"CoffeeScript",cpp:"C++",cs:"C#",css:"CSS",diff:"Diff",go:"Go",html:"HTML",http:"HTTP",ini:"INI",java:"Java",javascript:"JavaScript",json:"JSON",makefile:"Makefile",markdown:"Markdown",nginx:"Nginx",objectivec:"Objective-C",perl:"Perl",php:"PHP",python:"Python",ruby:"Ruby",scala:"Scala",sql:"SQL",typescript:"Typescript",vbnet:"VB.NET",vbscript:"VBScript",xhtml:"XHTML",xml:"XML"},tabSpaces:4,filebrowserBrowseUrl:"/file-picker",filebrowserWindowWidth:"400",filebrowserWindowHeight:"200",language:"en",image_previewText:" ",disableNativeSpellChecker:!1,resize_dir:"both",height:null!=t?t:200,enterMode:i&&!n?CKEDITOR.ENTER_BR:CKEDITOR.ENTER_P};function r(e,t,i,n){for(var a=e.data.path.elements,r=CKEDITOR.TRISTATE_OFF,o=0;o<a.length;o++)a[o].getName()!==t||(r=n);e.editor.getCommand(i).setState(r)}i?CKEDITOR.inline(e,a):CKEDITOR.replace(e,a),CKEDITOR.on("dialogDefinition",function(e){if("link"==e.data.name&&(e.data.definition.getContents("target").get("linkTargetType").default="_blank",e.data.definition.getContents("info").elements[2].children[1].label="Upload"),"image"==e.data.name){e.data.definition.getContents("info").elements[0].children[0].children[1].label="Upload";var t=$("#MaxImageWidthLabel").data("name"),i=$("#MaxImageHeightLabel").data("name");t&&0<t.length&&(e.data.definition.getContents("info").elements[2].children[0].children[0].children[0].children[0].label=t),i&&0<i.length&&(e.data.definition.getContents("info").elements[2].children[0].children[0].children[0].children[1].label=i)}}),CKEDITOR.on("instanceReady",function(e){function t(){e.editor.updateElement()}e.editor.on("selectionChange",function(e){r(e,"table","table",CKEDITOR.TRISTATE_ON),r(e,"img","image",CKEDITOR.TRISTATE_ON)}),e.editor.on("change",function(e){TESTDOME.adminUI.actionFormModified()}),e.editor.dataProcessor.writer.setRules("p",{indent:!1,breakBeforeOpen:!0,breakAfterOpen:!1,breakBeforeClose:!1,breakAfterClose:!1}),e.editor.document.on("keyup",t),e.editor.document.on("paste",t),e.editor.document.on("keypress",t),e.editor.document.on("blur",t),e.editor.document.on("change",t)})},getCodeBoxMode:function(e){return"htmlmixed"==e&&(e={name:"htmlmixed",tags:{script:[["type",/^text\/babel$/,"jsx"],["type",/^text\/jsx$/,"jsx"]],custom:[[null,null,"text/javascript"]]}}),e},refreshCodeBoxes:function(){0<$(".testdome-codebox").length&&$(".testdome-codebox").each(function(){$this=$(this),$this.data("uid")||$this.data("uid",TESTDOME.utilities.getRandomInt(1e3)),void 0!==(codeMirror=TESTDOME.page.codeBoxes[$this.data("uid")])?codeMirror.refresh():(codeMirror=CodeMirror.fromTextArea(this,{lineNumbers:!0,theme:"CodeMirror-HighlightJS-VS",mode:TESTDOME.adminUI.getCodeBoxMode($this.data("mode")),readOnly:$this.data("readonly"),indentUnit:$this.data("indentunit"),autoCloseBrackets:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],matchBrackets:!0,extraKeys:{"Ctrl-Space":"autocomplete",Tab:function(e){var t=Array(e.getOption("indentUnit")+1).join(" ");e.replaceSelection(t)}}}),TESTDOME.page.codeBoxes[$this.data("uid")]=codeMirror)})},showUploadedFileLink:function(e,t,i){var n=e.find(".testdome-verifyconsole");if(0<n.length){var a=n.html();n.html('<div class="testdome-console-file-info small-margin-bottom clearfix"><div class="pull-left">Current answer: <a href="'+i+'" target="_blank">'+t+'</a></div><button type="button" class="testdome-remove-fileanswer pull-left close margin-left-small-btn"> <span aria-hidden="true" >&times;</span></button></div></div>'+(0<=a.indexOf("testdome-console-file-info")?"":a))}else e.find("[name='Answer_FileMessage']").html('<div><div class="pull-left"><em><a href="'+i+'" target="_blank">You have uploaded '+t+"</a></em></div></div>")},fileUploadCallback:function(e,t,i){var n=$(e),a=n.closest(".testdome-questiondetails"),r=a.find(t).val(),o=n.contents();if(0<o.find("p").length){var s=o.find("p").html();a.find(i).val(s),o.find("p").remove(),TESTDOME.adminUI.showUploadedFileLink(a,r,s)}else if(0<r.length){var l=a.find("[name='Answer_File']");l.replaceWith(l.val("").clone(!0)),a.find("[name='Answer_FileLink']").show(),uploadError=0<o.find(".uploadError").length?TESTDOME.utilities.getElementHtml(o.find(".uploadError")):'<br/><p class="testError">A error occurred on uploading answer. Please try again!</p>',this.getFileMessage(a).html(uploadError),a.find(t).val("")}TESTDOME.adminUI.actionFormModified()},registerFileUploadEvents:function(s,l,d,u,c){function h(e){c=c||s;var t=null;return e&&(t=$(e).closest(c)),t&&0!==t.length||(t=$(c)),t}function m(e){e.find("[name='Solution'],[name='TemplateFileLocation']").val(""),e.find("[name='SolutionFileName'],[name='TemplateFileName'],[name='TestFileName']").val(""),$("#StartingTestCases").val()&&0<$("#StartingTestCases").val().length?e.find(".testdome-verifyconsole").html($("#StartingTestCases").val()+'<p class="verify-console-main-message font-normal" id="SubmitInfo"></p>'):e.find(".testdome-verifyconsole").html("");var t=e.find("[name='Answer_File']");t.replaceWith(t.val("").clone(!0))}$(s).find("[name='Answer_FileLink']").unbind("click").bind("click",function(e){return h(this).find("[name='Answer_File']").val("").trigger("click"),!1}),$(".testdome-questiondetails").on("click",".testdome-remove-fileanswer",function(){var e=$(this).closest(".testdome-questiondetails");e.find("[name='Answer_FileMessage']").html(""),e.find("[name='Answer_FileLink']").show(),e.find("[name='Answer_FileUrl']").val(""),m(e),TESTDOME.adminUI.actionFormModified()}),h().find("[name='Answer_File']").unbind().bind("change",function(e){var t=$(this).closest(s);0===t.length&&(t=$(s));var i=h(t),n=TESTDOME.adminUI.getFileMessage(t);function a(){n.html("").removeClass("testError").removeClass("testSuccess")}if(window.File&&window.FileList&&window.FileReader){var r;e.dataTransfer?r=e.dataTransfer.files:e.target&&(r=e.target.files);if(u=u||(9===Number(t.data("questiontype"))?10:50),1!==r.length)return!1;if(a(),r[0].size>1e3*u*1024)return n.addClass("testError"),n.text("Maximum allowed file size is "+u+" MB."),m(i),!1;TESTDOME.adminUI.displayFileName(t,r[0].name,l,d)}else a(),TESTDOME.adminUI.displayFileName(t,$(this).val(),l,d);if(d){var o=t.find("[name='Answer_FileForm']");0===o.length&&(o=$(c)),o.submit()}})},displayFileName:function(e,t,i,n){e.find(i).val(t);var a=this.getFileMessage(e);n?a.html("<p>Uploading answer. Please wait.</p>"):a.html('<div><div class="pull-left"><em><a href="#">You have uploaded '+t+"</a></em></div></div>")},iframeNotEmpty:function(e){var t=e.contentDocument||e.contentWindow.document;return t&&t.body&&t.body.innerHTML&&0<t.body.innerHTML.length},writeToVerifyConsole:function(e,t){t=t||$(".testdome-verifyconsole");var i=$("<div>").append(t.html()).clone().find(".testdome-console-file-info");i&&(e=TESTDOME.utilities.getElementHtml(i)+e),t.html(e)},getFileMessage:function(e){var t=e.find(".verify-console");return 0<t.length?t:e.find("[name='Answer_FileMessage']")},allowedMimeTypes:function(){return["image/jpeg","image/jpg","image/png","image/gif","image/bmp"]},loadMime:function(a,r){var o=[{mime:"image/jpeg",pattern:[255,216,255],mask:[255,255,255]},{mime:"image/png",pattern:[137,80,78,71],mask:[255,255,255,255]},{mime:"image/bmp",pattern:[66,77],mask:[255,255]},{mime:"image/gif",pattern:[71,73,70,56,55,97],mask:[255,255,255,255,255,255]},{mime:"image/gif",pattern:[71,73,70,56,57,97],mask:[255,255,255,255,255,255]}];function s(e,t){for(var i=0,n=t.mask.length;i<n;++i)if((e[i]&t.mask[i])-t.pattern[i]!=0)return;return 1}var e=a.slice(0,6),t=new FileReader;t.onloadend=function(e){if(e.target.readyState===FileReader.DONE){for(var t=new Uint8Array(e.target.result),i=0,n=o.length;i<n;++i)if(s(t,o[i]))return r(o[i].mime);return r(a.type)}},t.readAsArrayBuffer(e)},requestPermissionMessage:function(){return'<div class="row"><div class="col-xs-2 letter-icon testError text-center"><span class="glyphicon glyphicon-warning-sign" aria-hidden="true"></span></div><div class="col-xs-10"><p>You are not allowed to '+$(this).data("action")+' with your current permissions on this account.</p><p>You can contact the account owner and <a href="#" id="RequestPermissionUpgrade">request a permission upgrade</a>.</p></div></div>'},initPasswordField:function(e){$(e).each(function(){var t=$(this),e=void 0===t.data("allow-reveal")||t.data("allow-reveal"),i=void 0===t.data("strength-meter")||t.data("strength-meter"),n=$("#CheckPasswordStrengthUrl").data("name"),a=t.data("val-unicodeminlength-length")||t.data("val-minlength-min")||0;if(t.is('input[type="password"]')&&(e||i)){var r=$('<div class="input-group"></div>');if(r.insertBefore(t),t.appendTo(r),e){var o=$('<span class="input-group-btn"><button class="btn btn-default btn-reveal-password" tabindex="-1" type="button"><span class="glyphicon glyphicon-eye-close peek" /></button></span>');o.appendTo(r),o.find("button").click(function(){var e=$(this);"password"==t.attr("type")?(t.attr("type","text"),e.find("span").removeClass("glyphicon-eye-close").addClass("glyphicon-eye-open")):(t.attr("type","password"),e.find("span").removeClass("glyphicon-eye-open").addClass("glyphicon-eye-close"))})}if(i&&n){var s="score-empty score-unknown score-checking score-0 score-1 score-2 score-3 score-4",l=$('<div class="password-strength-meter-wrapper"/>');l.insertBefore(r),r.appendTo(l);var d=$('<div class="password-strength-meter-bar score-empty"/>');d.appendTo(l),t.on("input",function(e){var t=$(this).val(),i=$(this).data("throttle-id");i&&clearTimeout(i),!t||0<a&&t.length<a?d.removeClass(s).addClass("score-empty"):(d.removeClass(s).addClass("score-checking"),i=setTimeout(function(){$.ajax({type:"POST",url:n,data:{password:t}}).done(function(e){d.removeClass(s).addClass("score-"+e.Score)}).fail(function(){d.removeClass(s).addClass("score-unknown")})},500),$(this).data("throttle-id",i))})}}})}},$(function(){TESTDOME.adminUI.initializeAdminUI(),$("a.to-top").on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:0},"fast")}),TESTDOME.adminUI.refreshCodeBoxes(),$(document).on("click",".answer-check-label",function(){$(this).parent().find("input[type='checkbox']").click()})}),window.onerror||(window.onerror=function(e,t,i){if(!(e&&-1<e.indexOf("Script error")||t&&-1<t.indexOf(".olark.com")||t&&-1<t.indexOf("twitter.com")||t&&-1<t.indexOf("facebook.net")||t&&-1<t.indexOf("linkedin.com")||t&&-1<t.indexOf("hotjar.com")||t&&-1<t.indexOf("visualwebsiteoptimizer.com")))return TESTDOME.adminUI.logError("Error: "+e+"\nurl: "+t+"\nline #: "+i),!0}),$(function(){TESTDOME.utilities.registerClosePopoverOnClick(),TESTDOME.utilities.preventDoubleSubmission(),TESTDOME.utilities.showAuthenticatedOrGuestButtons()});
//# sourceMappingURL=maps/bundles/js.js.map?v=hp6ehj70l9i
